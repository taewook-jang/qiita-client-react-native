[{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eRailsのActionCableはサーバで設定したURL以外からはアクセスできない\u003c/li\u003e\n\u003cli\u003eしかし、テストなどで他のURLからアクセスしたいことがある\u003c/li\u003e\n\u003cli\u003eHTTPヘッダのOriginを偽装することでアクセスできる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"背景\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%83%8C%E6%99%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e背景\u003c/h2\u003e\n\n\u003cp\u003eActionCableを使ったアプリケーションの負荷試験のため、任意のクライアントで動作するスクリプトからActionCalbleに接続したくなった。\u003cbr\u003e\nしかし、単純にやると接続に失敗してしまう。\u003cbr\u003e\nこれはCSRF(Cross Site Request Forgeries)を防ぐための機能によって、Railsで指定したサイト以外からのアクセスを拒否するようになっているためである。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003econfig.action_cable.disable_request_forgery_protection = true\u003c/code\u003e と設定し、セキュリティ機能を無効化する\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003econfig.action_cable.allowed_request_origins\u003c/code\u003e でスクリプトを実行するURLを許可設定に追加する\n\n\u003cul\u003e\n\u003cli\u003e正規表現の配列を指定し、許可するURLを設定できる\u003c/li\u003e\n\u003cli\u003e通常、ActionCableを使用するアプリケーションのURLをセットする\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eのようなサーバ側の設定変更による対応(参考: \u003ca href=\"http://qiita.com/wakaba260/items/b23721d5cfd73cd47ada)%E3%82%82%E5%8F%AF%E8%83%BD%E3%81%A7%E3%81%AF%E3%81%82%E3%82%8B%E3%81%8C%E3%80%81%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AB%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B%E3%81%AE%E3%81%AF%E3%80%81%E3%81%A7%E3%81%8D%E3%82%8C%E3%81%B0%E9%81%BF%E3%81%91%E3%81%9F%E3%81%84%E3%80%82\" class=\"autolink\"\u003ehttp://qiita.com/wakaba260/items/b23721d5cfd73cd47ada)も可能ではあるが、テストのためにサーバの設定を変更するのは、できれば避けたい。\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"対応\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E5%BF%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対応\u003c/h2\u003e\n\n\u003cp\u003eということで、テストスクリプト側で工夫する。\u003c/p\u003e\n\n\u003cp\u003eまず、ActionCableのCSRF対策機能が何をやっているかを見てみる。\u003cbr\u003e\nこの機能は単純で、HTTPヘッダのOriginを見て、それが設定した許可URLに合致した場合にだけ接続を許可するようになっている。\u003cbr\u003e\nつまり、HTTPヘッダさえ偽装すれば、CSRF対策を回避し、接続できるという寸法である。\u003c/p\u003e\n\n\u003cp\u003e以下はその実例である。\u003cbr\u003e\nテストスクリプトにはRubyを使用し、ActionCalbeのwebsocketへの接続は先人の作ってくれたgemを利用している。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# Rails側で、このようにOriginが設定されているものとする\u003c/span\u003e\n\u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eaction_cable\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eallowed_request_origins\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"https://myapp.example.com\"\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# websocket-client-simpleを使う場合の例\u003c/span\u003e\n\u003cspan class=\"n\"\u003eorigin_url\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"https://myapp.example.com\"\u003c/span\u003e\n\u003cspan class=\"n\"\u003ews_url\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"https://myapp.example.com/cable\"\u003c/span\u003e\n\u003cspan class=\"n\"\u003ews\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eWebSocket\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eClient\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eSimple\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ews_url\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eheaders\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"ss\"\u003eOrigin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eorigin_url\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"c1\"\u003e# websocket-eventmachine-clientの場合\u003c/span\u003e\n\u003cspan class=\"n\"\u003ews\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eWebSocket\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eEventMachine\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eClient\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ss\"\u003euri\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ews_url\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eheaders\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Origin\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eorigin_url\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e以上で、CSRF対策を有効にしたまま、ActionCableに接続することができる。\u003c/p\u003e\n","body":"## 概要\n- RailsのActionCableはサーバで設定したURL以外からはアクセスできない\n- しかし、テストなどで他のURLからアクセスしたいことがある\n- HTTPヘッダのOriginを偽装することでアクセスできる\n\n## 背景\nActionCableを使ったアプリケーションの負荷試験のため、任意のクライアントで動作するスクリプトからActionCalbleに接続したくなった。\nしかし、単純にやると接続に失敗してしまう。\nこれはCSRF(Cross Site Request Forgeries)を防ぐための機能によって、Railsで指定したサイト以外からのアクセスを拒否するようになっているためである。\n\n- `config.action_cable.disable_request_forgery_protection = true` と設定し、セキュリティ機能を無効化する\n- `config.action_cable.allowed_request_origins` でスクリプトを実行するURLを許可設定に追加する\n    - 正規表現の配列を指定し、許可するURLを設定できる\n    - 通常、ActionCableを使用するアプリケーションのURLをセットする\n\nのようなサーバ側の設定変更による対応(参考: http://qiita.com/wakaba260/items/b23721d5cfd73cd47ada)も可能ではあるが、テストのためにサーバの設定を変更するのは、できれば避けたい。\n\n\n## 対応\nということで、テストスクリプト側で工夫する。\n\nまず、ActionCableのCSRF対策機能が何をやっているかを見てみる。\nこの機能は単純で、HTTPヘッダのOriginを見て、それが設定した許可URLに合致した場合にだけ接続を許可するようになっている。\nつまり、HTTPヘッダさえ偽装すれば、CSRF対策を回避し、接続できるという寸法である。\n\n以下はその実例である。\nテストスクリプトにはRubyを使用し、ActionCalbeのwebsocketへの接続は先人の作ってくれたgemを利用している。\n\n```ruby\n# Rails側で、このようにOriginが設定されているものとする\nconfig.action_cable.allowed_request_origins = [\"https://myapp.example.com\"]\n```\n\n```ruby\n# websocket-client-simpleを使う場合の例\norigin_url = \"https://myapp.example.com\"\nws_url = \"https://myapp.example.com/cable\"\nws = WebSocket::Client::Simple.connect(ws_url, headers: { Origin: origin_url })\n```\n\n```ruby\n# websocket-eventmachine-clientの場合\nws = WebSocket::EventMachine::Client.connect(uri: ws_url, headers: {\"Origin\" =\u003e origin_url})\n```\n\n以上で、CSRF対策を有効にしたまま、ActionCableに接続することができる。\n","coediting":false,"created_at":"2017-05-18T02:19:09+09:00","group":null,"id":"5f4790bbbc6beaea520e","private":false,"tags":[{"name":"Ruby","versions":[]},{"name":"Rails","versions":[]},{"name":"ActionCable","versions":[]}],"title":"RailsのActionCableに設定したURL以外から接続する方法","updated_at":"2017-05-18T02:19:09+09:00","url":"http://qiita.com/gimKondo/items/5f4790bbbc6beaea520e","user":{"description":"柔術家兼プログラマ。\r\n元々植物学が専門だったが、研究でデータ解析の自動化のためにプログラムを書いてみたのが切っ掛けで、ソフト屋さんになる。\r\n経験年数はC++が多め。","facebook_id":"","followees_count":0,"followers_count":4,"github_login_name":"gimKondo","id":"gimKondo","items_count":15,"linkedin_id":"","location":"","name":"Daisuke Kondo","organization":"","permanent_id":28487,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/28487/profile-images/1488042420","twitter_screen_name":"gim_kondo","website_url":"http://gimkondo.blog98.fc2.com/"}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"mysqldumpじゃないよ-mysqlpumpだよ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mysqldump%E3%81%98%E3%82%83%E3%81%AA%E3%81%84%E3%82%88-mysqlpump%E3%81%A0%E3%82%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emysql\"d\"umpじゃないよ mysql\"p\"umpだよ\u003c/h1\u003e\n\n\u003cp\u003eけっしてtypoじゃないのです。「mysqlダンプ」じゃなく「mysqlパンプ」の話になります。MySQL5.7の新機能です。なんでこんなややこしい名前にしたのか…\u003c/p\u003e\n\n\u003cp\u003eざっくり特徴を上げると\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e並列ダンプ\u003c/li\u003e\n\u003cli\u003e出力の圧縮機能オプション\u003c/li\u003e\n\u003cli\u003eバックアップ時に進捗がでる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eなどが上げられます。基本的には「mysqlダンプ」とほぼ同様の使い方ですので慣れている人は同じ感覚で使えます。詳しくはこちらをご覧頂くなどしてください。\u003c/p\u003e\n\n\u003cp\u003eMySQL 5.7 Reference Manual \u003cbr\u003e\n\u003ca href=\"https://dev.mysql.com/doc/refman/5.7/en/mysqlpump.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://dev.mysql.com/doc/refman/5.7/en/mysqlpump.html\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003emysqlpumpの紹介(MySQL Server Blogより)\u003cbr\u003e\n\u003ca href=\"https://yakst.com/ja/posts/3042\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://yakst.com/ja/posts/3042\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"mysqlpumpのバックアップをリストアしようとした際に困ったことが起きた件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mysqlpump%E3%81%AE%E3%83%90%E3%83%83%E3%82%AF%E3%82%A2%E3%83%83%E3%83%97%E3%82%92%E3%83%AA%E3%82%B9%E3%83%88%E3%82%A2%E3%81%97%E3%82%88%E3%81%86%E3%81%A8%E3%81%97%E3%81%9F%E9%9A%9B%E3%81%AB%E5%9B%B0%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8%E3%81%8C%E8%B5%B7%E3%81%8D%E3%81%9F%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emysql\"p\"umpのバックアップをリストアしようとした際に困ったことが起きた件\u003c/h1\u003e\n\n\u003cp\u003e仕事でこの春にリリースしたサービスがありまして、1日1回深夜にバックアップをとっているのですが、新し物好きの私は「mysqlパンプ」を使っておりました。幸い、サービスで大きなトラブルも出ていないので、このバックアップを使うことはないのですが、ちょっと調べ物をしようと手元の開発環境にこの本番環境のバックアップを使ってリストアしようとしたところ、以下のようなエラーが出ました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e# mysql -u root -p[PASSWORD] restore_db \u0026lt; /tmp/backup_db_dump.sql\nERROR 1049 (42000) at line 15: Unknown database 'backup_db'\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e「ああ、'create database'文が入っているのか…」と思って、本番環境のDB（のレプリケーション/サービスから切り離されてる）で再度 --no-create-db オプションを付けてバックアップを作成して、再度リストアを試みたのですが、やはり同様のエラーが出てきます。\u003c/p\u003e\n\n\u003cp\u003e？？？\u003c/p\u003e\n\n\u003cp\u003eとりあえずダンプしたファイルを開いてみたのですが、どうやらCREATE DATABASE文はないのですが、CREATE TABLE文にリストア元のデータベース名が修飾されているのです。\u003c/p\u003e\n\n\u003cp\u003eCREATE TABLE \u003cstrong\u003e`backup_db`\u003c/strong\u003e.`failed_jobs` (\u003cbr\u003e\n`id` int(10) unsigned NOT NULL AUTO_INCREMENT,\u003cbr\u003e\n`connection` text CHARACTER SET utf8mb4 NOT NULL,\u003cbr\u003e\n`queue` text CHARACTER SET utf8mb4 NOT NULL,\u003cbr\u003e\n`payload` longtext CHARACTER SET utf8mb4 NOT NULL,\u003cbr\u003e\n`failed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\u003cbr\u003e\nPRIMARY KEY (`id`)\u003cbr\u003e\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\u003cbr\u003e\n;\u003c/p\u003e\n\n\u003cp\u003eこんな感じで。同名DBへのリストアは問題ないのですが…　DB名を修飾しないSQLを出力をするオプションがないか探してみたのですが見当たらず。探し方が悪いのか。。。それともかつてあった\u003ccode\u003eRENAME DATABASE\u003c/code\u003eが消えたのと同じ運命？で、危険だからこういう仕様にしたのか？\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"分からんのでとりえあずsedで逃げる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%86%E3%81%8B%E3%82%89%E3%82%93%E3%81%AE%E3%81%A7%E3%81%A8%E3%82%8A%E3%81%88%E3%81%82%E3%81%9Ased%E3%81%A7%E9%80%83%E3%81%92%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e分からんのでとりえあずsedで逃げる\u003c/h1\u003e\n\n\u003cp\u003e分からんのでsedで逃げました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003ecat /tmp/backup_db_dump.sql | sed -e \"s/backup_db/restore_db/g\" | mysql -u root -p[PASSWORD] restore_db\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eDB名が単純だと正規表現をもう少しちゃんと書かないとダメでしょう。これ以外の方法なら、一度同じDB名でリストアした後、MySQLプロセスを停止して、データがあるディレクトリ名を変えてもいいかもしれません（試してないけど）。もし、もっとスマートな方法がありましたら教えていただけますと幸いです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"謎\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AC%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e謎\u003c/h1\u003e\n\n\u003cp\u003e紛らわしい名前といい、この仕様？といい、「mysqlパンプ」謎が多いな。。。\u003c/p\u003e\n","body":"# mysql\"d\"umpじゃないよ mysql\"p\"umpだよ\n\nけっしてtypoじゃないのです。「mysqlダンプ」じゃなく「mysqlパンプ」の話になります。MySQL5.7の新機能です。なんでこんなややこしい名前にしたのか…\n\nざっくり特徴を上げると\n\n- 並列ダンプ\n- 出力の圧縮機能オプション\n- バックアップ時に進捗がでる\n\nなどが上げられます。基本的には「mysqlダンプ」とほぼ同様の使い方ですので慣れている人は同じ感覚で使えます。詳しくはこちらをご覧頂くなどしてください。\n\nMySQL 5.7 Reference Manual \nhttps://dev.mysql.com/doc/refman/5.7/en/mysqlpump.html\n\nmysqlpumpの紹介(MySQL Server Blogより)\nhttps://yakst.com/ja/posts/3042\n\n# mysql\"p\"umpのバックアップをリストアしようとした際に困ったことが起きた件\n\n仕事でこの春にリリースしたサービスがありまして、1日1回深夜にバックアップをとっているのですが、新し物好きの私は「mysqlパンプ」を使っておりました。幸い、サービスで大きなトラブルも出ていないので、このバックアップを使うことはないのですが、ちょっと調べ物をしようと手元の開発環境にこの本番環境のバックアップを使ってリストアしようとしたところ、以下のようなエラーが出ました。\n\n```\n# mysql -u root -p[PASSWORD] restore_db \u003c /tmp/backup_db_dump.sql\nERROR 1049 (42000) at line 15: Unknown database 'backup_db'\n```\n\n「ああ、'create database'文が入っているのか…」と思って、本番環境のDB（のレプリケーション/サービスから切り離されてる）で再度 --no-create-db オプションを付けてバックアップを作成して、再度リストアを試みたのですが、やはり同様のエラーが出てきます。\n\n？？？\n\nとりあえずダンプしたファイルを開いてみたのですが、どうやらCREATE DATABASE文はないのですが、CREATE TABLE文にリストア元のデータベース名が修飾されているのです。\n\n\nCREATE TABLE **\\`backup_db\\`**.\\`failed_jobs\\` (\n\\`id\\` int(10) unsigned NOT NULL AUTO_INCREMENT,\n\\`connection\\` text CHARACTER SET utf8mb4 NOT NULL,\n\\`queue\\` text CHARACTER SET utf8mb4 NOT NULL,\n\\`payload\\` longtext CHARACTER SET utf8mb4 NOT NULL,\n\\`failed_at\\` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\nPRIMARY KEY (\\`id\\`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\n;\n\nこんな感じで。同名DBへのリストアは問題ないのですが…　DB名を修飾しないSQLを出力をするオプションがないか探してみたのですが見当たらず。探し方が悪いのか。。。それともかつてあった```RENAME DATABASE```が消えたのと同じ運命？で、危険だからこういう仕様にしたのか？\n\n# 分からんのでとりえあずsedで逃げる\n\n分からんのでsedで逃げました。\n\n```\ncat /tmp/backup_db_dump.sql | sed -e \"s/backup_db/restore_db/g\" | mysql -u root -p[PASSWORD] restore_db\n```\n\nDB名が単純だと正規表現をもう少しちゃんと書かないとダメでしょう。これ以外の方法なら、一度同じDB名でリストアした後、MySQLプロセスを停止して、データがあるディレクトリ名を変えてもいいかもしれません（試してないけど）。もし、もっとスマートな方法がありましたら教えていただけますと幸いです。\n\n# 謎\n\n紛らわしい名前といい、この仕様？といい、「mysqlパンプ」謎が多いな。。。\n","coediting":false,"created_at":"2017-05-18T02:18:19+09:00","group":null,"id":"a7c065a6b41516de2981","private":false,"tags":[{"name":"sed","versions":[]},{"name":"mysqldump","versions":[]},{"name":"mysql5.7","versions":[]},{"name":"mysqlpump","versions":[]}],"title":"mysql\"p\"umpでバックアップしたデータを別名データベースにリストアする","updated_at":"2017-05-18T02:27:15+09:00","url":"http://qiita.com/ABE_TAKASHI/items/a7c065a6b41516de2981","user":{"description":"出版業界でもそもそとやってます。その前はゲーム業界にいました。","facebook_id":"abe.takashi","followees_count":8,"followers_count":4,"github_login_name":"TakashiAbe","id":"ABE_TAKASHI","items_count":14,"linkedin_id":"","location":"Saitama, Japan","name":"Takashi Abe","organization":"OFFICE 303, inc.","permanent_id":104477,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/104477/profile-images/1473709311","twitter_screen_name":"ABE_TAKASHI","website_url":""}},{"rendered_body":"\u003cp\u003eいくつかローダーあったけど、これが素直でした。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003enpm i svg-url-loader -D\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eでWebpackの設定は\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003econst path = require('path');\n\nmodule.exports = {\n    entry: {\n        console: './src/console/index.js'\n    },\n    output: {\n        filename: './static/dist/[name]/a.js'\n    },\n    module: {\n        rules: [\n        {\n            test: /\\.js$/,\n            exclude: /(node_modules|bower_components)/,\n            use: {\n                loader: 'babel-loader',\n                options: {\n                    presets: ['env','es2015', 'react']\n                }\n            }\n        },\n        {\n            test: /\\.svg$/,\n            use: {\n                loader: 'svg-url-loader',\n                options: {\n                    noquotes: true\n                }\n            }\n        }\n        ]\n    }\n}\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e※上記はこの記述だけではない。「test: /.svg$/」あたりのオブジェクトが該当箇所です。\u003c/p\u003e\n\n\u003cp\u003eポイントはオプションに\u003ccode\u003enoquotes\u003c/code\u003eを\u003ccode\u003etrue\u003c/code\u003eで渡すこと。\u003cbr\u003e\n最初なにもつけずにやったら\u003ca href=\"\" target=\"_blank\"\u003e\u003cimg src=\"\"\u003e\u003c/a\u003eみたいにダブルクォーテーションがかぶった。\u003c/p\u003e\n\n\u003cp\u003eSVGの読み込みはとくに特別なことせず\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003eimport Logo from '../assets/svg/logo.svg';\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこういう感じでimportすればOKです。\u003c/p\u003e\n\n\u003cp\u003e書きながら「React v15.0」からSVGの云々がサポートされるように云々というのを目にしてしまったけど、\u003cbr\u003e\nWebpackの設定が悪かったのかコンパイル通らなかったから見なかったことにしよう。\u003c/p\u003e\n","body":"いくつかローダーあったけど、これが素直でした。\n\n```\nnpm i svg-url-loader -D\n```\n\nでWebpackの設定は\n\n```\nconst path = require('path');\n\nmodule.exports = {\n    entry: {\n        console: './src/console/index.js'\n    },\n    output: {\n        filename: './static/dist/[name]/a.js'\n    },\n    module: {\n        rules: [\n        {\n            test: /\\.js$/,\n            exclude: /(node_modules|bower_components)/,\n            use: {\n                loader: 'babel-loader',\n                options: {\n                    presets: ['env','es2015', 'react']\n                }\n            }\n        },\n        {\n            test: /\\.svg$/,\n            use: {\n                loader: 'svg-url-loader',\n                options: {\n                    noquotes: true\n                }\n            }\n        }\n        ]\n    }\n}\n```\n※上記はこの記述だけではない。「test: /\\.svg$/」あたりのオブジェクトが該当箇所です。\n\nポイントはオプションに`noquotes`を`true`で渡すこと。\n最初なにもつけずにやったら\u003cimg src=\"\" ... \"\" \u003eみたいにダブルクォーテーションがかぶった。\n\nSVGの読み込みはとくに特別なことせず\n\n```\nimport Logo from '../assets/svg/logo.svg';\n```\n\nこういう感じでimportすればOKです。\n\n書きながら「React v15.0」からSVGの云々がサポートされるように云々というのを目にしてしまったけど、\nWebpackの設定が悪かったのかコンパイル通らなかったから見なかったことにしよう。\n","coediting":false,"created_at":"2017-05-18T01:51:57+09:00","group":null,"id":"4cc20529683b4967a490","private":false,"tags":[{"name":"JavaScript","versions":[]},{"name":"React","versions":[]}],"title":"ReactでSVGを読み込んでdata:で埋め込む","updated_at":"2017-05-18T01:51:57+09:00","url":"http://qiita.com/tsushimori/items/4cc20529683b4967a490","user":{"description":"if (like == language) {\r\n    c++, Javascript\r\n} elseif (Interest == field) {\r\n    Artificial Intelligence\r\n}\r\nreturn Me;","facebook_id":"","followees_count":14,"followers_count":6,"github_login_name":"tsushimori","id":"tsushimori","items_count":23,"linkedin_id":"","location":"Tokyo, Japan.","name":"Atsushi Mori","organization":"FamilyLand, Inc.","permanent_id":144150,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/144150/profile-images/1476280450","twitter_screen_name":"tsushimori","website_url":"https://github.com/tsushimori"}},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"nodejsとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nodejs%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNode.jsとは？\u003c/h2\u003e\n\n\u003cp\u003eいろんなサイトで書いているとは思うけど\u003cbr\u003e\n簡単に言うとサーバーサイドのJavaScriptです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"今回インストールするもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BB%8A%E5%9B%9E%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e今回インストールするもの\u003c/h2\u003e\n\n\u003col\u003e\n\u003cli\u003envm\u003c/li\u003e\n\u003cli\u003eNode.js\u003c/li\u003e\n\u003cli\u003enpm\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"nvmとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nvm%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003envmとは\u003c/h2\u003e\n\n\u003cp\u003eNode Version ManagerといってNode.jsのバージョンを管理する\u003cbr\u003e\nためのものです。\u003cbr\u003e\nNode.jsはバージョンによって動作しないものがある為いろんなNode.jsのバージョンを\u003cbr\u003e\nインストールしたり、使用するバージョンを変更したりできるnvmはとても便利なので\u003cbr\u003e\nインストールすることをお勧めします。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"nvmインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nvm%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003envmインストール\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/coreybutler/nvm-windows/releases\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/coreybutler/nvm-windows/releases\u003c/a\u003e\u003cbr\u003e\n上記のURLからzipファイルをダウンロードし、インストールしよう。\u003c/p\u003e\n\n\u003cp\u003enode -versionでインストールしたバージョンが見れます。\u003cbr\u003e\nMacだと node --version\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/180742/c0af20e3-caef-ca93-e11d-540d03ae18e3.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"173\" alt=\"スクリーンショット 2017-05-18 1.30.35.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/c0af20e3-caef-ca93-e11d-540d03ae18e3.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eこのように表示されたら完了\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"nodejsとは-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nodejs%E3%81%A8%E3%81%AF-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNode.jsとは？\u003c/h2\u003e\n\n\u003cp\u003eNode.jsとはなにか？\u003cbr\u003e\n知っておくべきことはサーバーサイドのJavaScript\u003cbr\u003e\n非同期 (I/Oの処理結果を待たず処理を進める)という二つです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"nodejsをインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nodejs%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNode.jsをインストール\u003c/h2\u003e\n\n\u003cp\u003enode ls-remoteでインストールできるNode.jsのバージョンを見ることができます。\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/180742/0c3cd368-6ff0-3b2e-288c-eb7defb60082.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"173\" alt=\"スクリーンショット 2017-05-18 1.32.46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/0c3cd368-6ff0-3b2e-288c-eb7defb60082.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nnode install (version)でインストールすることができます。\u003cbr\u003e\nインストールしたらnode -vで確認しましょう。\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/180742/23b4ac52-51c1-039f-12a8-9badc97e9851.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"137\" alt=\"スクリーンショット 2017-05-18 1.35.01.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/23b4ac52-51c1-039f-12a8-9badc97e9851.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nこう出たらインストール完了です！\u003c/p\u003e\n\n\u003cp\u003eさて最後にnpmのお話です。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"npmとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#npm%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003enpmとは？\u003c/h2\u003e\n\n\u003cp\u003enpmとは簡単にいうとパッケージ管理ツールです。\u003cbr\u003e\nNode.jsで拡張機能を使いたい際にnpmでインストールしたりします。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"npmインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#npm%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003enpmインストール\u003c/h2\u003e\n\n\u003cp\u003enamのインストールは実は完了しています。\u003cbr\u003e\nなぜならnamはNode.jsをインストールした際に一緒にインストールされるからです！\u003cbr\u003e\nさてではインストールされているかを確認しましょう！\u003cbr\u003e\nnam -vとコマンドプロンプトorターミナルで打ってみましょう。\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/180742/b8457991-e038-2bc5-f153-055fb52489e4.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"131\" alt=\"スクリーンショット 2017-05-18 1.46.05.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/b8457991-e038-2bc5-f153-055fb52489e4.png\"\u003e\u003c/a\u003e\u003cbr\u003e\nしっかりとバージョンが表示されましたね。\u003cbr\u003e\nこれでインストールの確認ができました。\u003c/p\u003e\n\n\u003cp\u003e以上です。\u003c/p\u003e\n","body":"##Node.jsとは？\nいろんなサイトで書いているとは思うけど\n簡単に言うとサーバーサイドのJavaScriptです。\n\n##今回インストールするもの\n1. nvm\n2. Node.js\n3. npm\n\n##nvmとは\nNode Version ManagerといってNode.jsのバージョンを管理する\nためのものです。\nNode.jsはバージョンによって動作しないものがある為いろんなNode.jsのバージョンを\nインストールしたり、使用するバージョンを変更したりできるnvmはとても便利なので\nインストールすることをお勧めします。\n\n##nvmインストール\nhttps://github.com/coreybutler/nvm-windows/releases\n上記のURLからzipファイルをダウンロードし、インストールしよう。\n\nnode -versionでインストールしたバージョンが見れます。\nMacだと node --version\n\n\u003cimg width=\"173\" alt=\"スクリーンショット 2017-05-18 1.30.35.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/c0af20e3-caef-ca93-e11d-540d03ae18e3.png\"\u003e\n\nこのように表示されたら完了\n\n##Node.jsとは？\nNode.jsとはなにか？\n知っておくべきことはサーバーサイドのJavaScript\n非同期 (I/Oの処理結果を待たず処理を進める)という二つです。\n\n##Node.jsをインストール\n\nnode ls-remoteでインストールできるNode.jsのバージョンを見ることができます。\n\u003cimg width=\"173\" alt=\"スクリーンショット 2017-05-18 1.32.46.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/0c3cd368-6ff0-3b2e-288c-eb7defb60082.png\"\u003e\nnode install (version)でインストールすることができます。\nインストールしたらnode -vで確認しましょう。\n\u003cimg width=\"137\" alt=\"スクリーンショット 2017-05-18 1.35.01.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/23b4ac52-51c1-039f-12a8-9badc97e9851.png\"\u003e\nこう出たらインストール完了です！\n\nさて最後にnpmのお話です。\n\n##npmとは？\nnpmとは簡単にいうとパッケージ管理ツールです。\nNode.jsで拡張機能を使いたい際にnpmでインストールしたりします。\n\n##npmインストール\nnamのインストールは実は完了しています。\nなぜならnamはNode.jsをインストールした際に一緒にインストールされるからです！\nさてではインストールされているかを確認しましょう！\nnam -vとコマンドプロンプトorターミナルで打ってみましょう。\n\u003cimg width=\"131\" alt=\"スクリーンショット 2017-05-18 1.46.05.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/180742/b8457991-e038-2bc5-f153-055fb52489e4.png\"\u003e\nしっかりとバージョンが表示されましたね。\nこれでインストールの確認ができました。\n\n以上です。\n","coediting":false,"created_at":"2017-05-18T01:48:10+09:00","group":null,"id":"e3b7908987dba4da850e","private":false,"tags":[{"name":"Node.js","versions":[]}],"title":"Node.jsをインストールしてみよう","updated_at":"2017-05-18T01:48:10+09:00","url":"http://qiita.com/shoya1310/items/e3b7908987dba4da850e","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"shoya1310","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":180742,"profile_image_url":"https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=50","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"経緯\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%8C%E7%B7%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e経緯\u003c/h1\u003e\n\n\u003cp\u003eWindows10でJavaScript関連の作業環境を構築するためにyarnを導入しようと思ったが、\u003ccode\u003eyarn init\u003c/code\u003eで引っかかったときのこと\u003c/p\u003e\n\n\u003cp\u003e結局 \u003ccode\u003eyarn\u003c/code\u003e だけで実行するのが良さそう\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"gitbash-mingw64\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gitbash-mingw64\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGitBash (MINGW64)\u003c/h2\u003e\n\n\u003cp\u003e今回は結局こちらを採用しました\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003epackage\u003c/th\u003e\n\u003cth\u003eversion\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eNode\u003c/td\u003e\n\u003ctd\u003e7.10.0\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003enpm\u003c/td\u003e\n\u003ctd\u003e4.2.0\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eyarn\u003c/td\u003e\n\u003ctd\u003e0.24.4\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"コマンドプロンプト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコマンドプロンプト\u003c/h2\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003epackage\u003c/th\u003e\n\u003cth\u003eversion\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003echocolatey\u003c/td\u003e\n\u003ctd\u003e0.10.5\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ストーリー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eストーリー\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"gitbashでてきとーに動かしてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gitbash%E3%81%A7%E3%81%A6%E3%81%8D%E3%81%A8%E3%83%BC%E3%81%AB%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGitBashでてきとーに動かしてみる\u003c/h2\u003e\n\n\u003cp\u003ewebpackやreactを導入したくて、yarnを使おうとしていました。\u003c/p\u003e\n\n\u003cp\u003e特に何も調べず、NPMでパッケージをインストール(\u003ccode\u003enpm install -g yarn\u003c/code\u003e)して、\u003cbr\u003e\n特に何も考えず、リポジトリ上で\u003ccode\u003eyarn init\u003c/code\u003eしたところ下記のエラーが発生しました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell-session\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"go\"\u003eyarn init v0.24.4\u003c/span\u003e\n\u003cspan class=\"go\"\u003eerror An unexpected error occurred: \"Can't answer a question unless a user TTY\".\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eどうやらこのままでは使用できないご様子でしたが、色々調べながら\u003ccode\u003eyarn\u003c/code\u003eだけで実行してみたら特にエラーなくlockfileが作成されました。\u003c/p\u003e\n\n\u003cp\u003e成功？\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"コマンドプロンプトでやろうとしてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%83%97%E3%83%AD%E3%83%B3%E3%83%97%E3%83%88%E3%81%A7%E3%82%84%E3%82%8D%E3%81%86%E3%81%A8%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコマンドプロンプトでやろうとしてみる\u003c/h2\u003e\n\n\u003cp\u003eただし、以下によるとnpmは非推奨とのこと\u003cbr\u003e\n\u003ca href=\"http://qiita.com/knjname/items/0cc813622e0121c05723\" id=\"reference-14df1ba80aaef59207c8\"\u003eyarn (+ webpack) を使ってみる\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e推奨されている方法でもやってみました。\u003c/p\u003e\n\n\u003cp\u003eコマンドプロンプトを管理者権限で立ち上げて、\u003cbr\u003e\n\u003ccode\u003echoco install yarn\u003c/code\u003eを実行してインストール完了でした。\u003c/p\u003e\n\n\u003cp\u003e意気込んでworkspaceがあるDドライブへ移動しようと思って\u003ccode\u003ecd D:\\~~~~\u003c/code\u003eをしました。\u003c/p\u003e\n\n\u003cp\u003eところが、移動に失敗しました。コマンドプロンプトでは、C:直下にいるときに\u003ccode\u003eD:\u003c/code\u003eとしないとドライブ移動できないようです\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"決断\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%B1%BA%E6%96%AD\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e決断\u003c/h2\u003e\n\n\u003cp\u003eコマンドプロンプトでは早々に戦意が失われたので、npmでインストールしたもので進めていこうと思います。\u003c/p\u003e\n\n\u003cp\u003eこれで作業してみて詰まったら追記します。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/yarnpkg/yarn/issues/743\" rel=\"nofollow noopener\" target=\"_blank\"\u003eYarn init fails on Windows under Git bash / MinGW / Cygwin #743\u003c/a\u003e\u003c/p\u003e\n","body":"# 経緯\n\nWindows10でJavaScript関連の作業環境を構築するためにyarnを導入しようと思ったが、`yarn init`で引っかかったときのこと\n\n結局 `yarn` だけで実行するのが良さそう\n\n# 環境\n\n## GitBash (MINGW64)\n\n今回は結局こちらを採用しました\n\n|package|version|\n|----|----|\n|Node|7.10.0|\n|npm|4.2.0|\n|yarn|0.24.4|\n\n## コマンドプロンプト\n\n|package|version|\n|----|----|\n|chocolatey|0.10.5|\n\n# ストーリー\n\n## GitBashでてきとーに動かしてみる\n\nwebpackやreactを導入したくて、yarnを使おうとしていました。\n\n特に何も調べず、NPMでパッケージをインストール(`npm install -g yarn`)して、\n特に何も考えず、リポジトリ上で`yarn init`したところ下記のエラーが発生しました。\n\n```shell-session\nyarn init v0.24.4\nerror An unexpected error occurred: \"Can't answer a question unless a user TTY\".\n```\n\nどうやらこのままでは使用できないご様子でしたが、色々調べながら`yarn`だけで実行してみたら特にエラーなくlockfileが作成されました。\n\n成功？\n\n## コマンドプロンプトでやろうとしてみる\n\nただし、以下によるとnpmは非推奨とのこと\n[yarn (+ webpack) を使ってみる](http://qiita.com/knjname/items/0cc813622e0121c05723)\n\n推奨されている方法でもやってみました。\n\nコマンドプロンプトを管理者権限で立ち上げて、\n`choco install yarn`を実行してインストール完了でした。\n\n意気込んでworkspaceがあるDドライブへ移動しようと思って`cd D:\\~~~~`をしました。\n\nところが、移動に失敗しました。コマンドプロンプトでは、C:直下にいるときに`D:`としないとドライブ移動できないようです\n\n## 決断\n\nコマンドプロンプトでは早々に戦意が失われたので、npmでインストールしたもので進めていこうと思います。\n\nこれで作業してみて詰まったら追記します。\n\n# 参考\n\n[Yarn init fails on Windows under Git bash / MinGW / Cygwin #743](https://github.com/yarnpkg/yarn/issues/743)\n\n\n","coediting":false,"created_at":"2017-05-18T01:31:53+09:00","group":null,"id":"3a0cb0802b3072db34d4","private":false,"tags":[{"name":"npm","versions":[]},{"name":"cmd","versions":[]},{"name":"Windows10","versions":[]},{"name":"yarnpkg","versions":[]}],"title":"Windowsでnpmからyarnをインストールしたけどyarn initできない","updated_at":"2017-05-18T01:35:04+09:00","url":"http://qiita.com/coizmo/items/3a0cb0802b3072db34d4","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":"coizmo","id":"coizmo","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":44871,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/44871/profile-images/1493135438","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cp\u003eGlassFish4がほしいと思ってダウンロードページに出かけたら・・・閉鎖されていた\u003cimg alt=\":scream:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f631.png\" title=\":scream:\" width=\"20\"\u003e\u003cbr\u003e\n\u003ca href=\"https://www.infoq.com/jp/news/2013/11/glassfish-commercial-dead\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGlassFish Commercial Editionの提供が終了\u003c/a\u003e\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003e\u003ca href=\"https://glassfish.java.net/download.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://glassfish.java.net/download.html\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/864ed794-8d3f-5c89-ab3b-dd2460d93ed9.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/864ed794-8d3f-5c89-ab3b-dd2460d93ed9.png\" alt=\"Screen Shot 2017-05-18 at 0.17.43.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eJavaEE7に同梱されているみたいだけど・・・GlassFish4だけ欲しい・・・\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/d4acfc5e-2cb7-d279-a68d-c35275700741.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/d4acfc5e-2cb7-d279-a68d-c35275700741.png\" alt=\"Screen Shot 2017-05-18 at 0.19.16.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e欲しいものは欲しいのでHomebrewでGlassFish4をインストールすることにしました。\u003cbr\u003e\n\u003ca href=\"http://brewformulas.org/glassfish\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGlassfish — BrewFormulas\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e環境\n\n\u003cul\u003e\n\u003cli\u003eOS : macOS Sierra version10.12.4 64bit\u003c/li\u003e\n\u003cli\u003eHomebrew 1.2.1\u003c/li\u003e\n\u003cli\u003eEclipse : Neon.3 Release (4.6.3)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"1-homebewを更新する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-homebew%E3%82%92%E6%9B%B4%E6%96%B0%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. Homebewを更新する\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ brew update\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"2-glassfishをインストールする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-glassfish%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. GlassFishをインストールする\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ brew install glassfish\n==\u0026gt; Using the sandbox\n==\u0026gt; Downloading http://download.java.net/glassfish/4.1.2/release/glassfish-4.1.2.zip\n######################################################################## 100.0%\n==\u0026gt; Caveats\nThe home of GlassFish Application Server 4 is:\n  /usr/local/opt/glassfish/libexec\n\nYou may want to add the following to your .bash_profile:\n  export GLASSFISH_HOME=/usr/local/opt/glassfish/libexec\n  export PATH=${PATH}:${GLASSFISH_HOME}/bin\n\nNote: The support scripts used by GlassFish Application Server 4\nare *NOT* linked to bin.\n==\u0026gt; Summary\n🍺  /usr/local/Cellar/glassfish/4.1.2: 1,005 files, 126.6MB, built in 1 minute 30 seconds\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"3glassfishを起動してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3glassfish%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3.GlassFishを起動してみる\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ sudo /usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/bin/asadmin\nUse \"exit\" to exit and \"help\" for online help.\nasadmin\u0026gt; start-domain domain1\nWaiting for domain1 to start .........................................\nSuccessfully started the domain : domain1\ndomain  Location: /usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/domains/domain1\nLog File: /usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/domains/domain1/logs/server.log\nAdmin Port: 4848\nCommand start-domain executed successfully.\nasadmin\u0026gt; \n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ca href=\"http://localhost:4848/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:4848/\u003c/a\u003e をみてみる\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/8556364c-fd48-6753-d821-e79292292ec1.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/8556364c-fd48-6753-d821-e79292292ec1.png\" alt=\"Screen Shot 2017-05-18 at 0.48.58.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"4eclipseにglassfishを設定してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4eclipse%E3%81%ABglassfish%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4.EclipseにGlassFishを設定してみる\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/20d72a43-fb1f-28ad-f750-2275dfa6be9c.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/20d72a43-fb1f-28ad-f750-2275dfa6be9c.png\" alt=\"Screen Shot 2017-05-18 at 0.52.58.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/6a005178-2b50-8705-73c5-5217f6a60688.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/6a005178-2b50-8705-73c5-5217f6a60688.png\" alt=\"Screen Shot 2017-05-18 at 0.53.10.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/0f02c3b9-24e3-9afd-c2f5-13ca775179f1.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/0f02c3b9-24e3-9afd-c2f5-13ca775179f1.png\" alt=\"Screen Shot 2017-05-18 at 0.53.27.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"5-glassfishにデータベースを設定してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-glassfish%E3%81%AB%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. GlassFishにデータベースを設定してみる\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/86d26f8d-3c51-0dc8-77c2-df93cfe44d3d.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/86d26f8d-3c51-0dc8-77c2-df93cfe44d3d.png\" alt=\"Screen Shot 2017-05-18 at 0.56.58.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/0cdf39f1-4186-a4fe-b261-d4d9da7d847e.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/0cdf39f1-4186-a4fe-b261-d4d9da7d847e.png\" alt=\"Screen Shot 2017-05-18 at 0.57.12.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/54565450-c916-9f61-4a7f-c98a736aeb84.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/54565450-c916-9f61-4a7f-c98a736aeb84.png\" alt=\"Screen Shot 2017-05-18 at 1.00.30.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e[Next...]をクリックしたら「HTTP Status 500 - Internal Server Error」になった場合\n\n\u003cul\u003e\n\u003cli\u003e/usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/domain/domain1/configにある domain.xml にデータベースの情報をガチで書く\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/4b78e025-9aa7-06f4-92dc-167e2b546394.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/4b78e025-9aa7-06f4-92dc-167e2b546394.png\" alt=\"Screen Shot 2017-05-18 at 1.01.08.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e使いたいデータベースの情報を入れる。\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/159761/e9ac0c1b-38d5-d959-d44d-cc3d45df7069.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/159761/e9ac0c1b-38d5-d959-d44d-cc3d45df7069.png\" alt=\"Screen Shot 2017-05-18 at 1.03.20.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"参考にさせていただいたサイト様\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88%E6%A7%98\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考にさせていただいたサイト様\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/abey1192/items/1534f876085c2c6fd0fe\" id=\"reference-c44352b7b2801b4456e6\"\u003eScalaでServletを作る with IDEA14 備忘録 - Qiita\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/muneo/items/a88ba8d1e3702e227179\" id=\"reference-6b9983e233d512ca4bb3\"\u003eEclipseにGlassFishサーバーを設定 - Qiita\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","body":"GlassFish4がほしいと思ってダウンロードページに出かけたら・・・閉鎖されていた:scream:\n[GlassFish Commercial Editionの提供が終了](https://www.infoq.com/jp/news/2013/11/glassfish-commercial-dead)\n\u003e https://glassfish.java.net/download.html\n\u003e ![Screen Shot 2017-05-18 at 0.17.43.png](https://qiita-image-store.s3.amazonaws.com/0/159761/864ed794-8d3f-5c89-ab3b-dd2460d93ed9.png)\n\nJavaEE7に同梱されているみたいだけど・・・GlassFish4だけ欲しい・・・\n![Screen Shot 2017-05-18 at 0.19.16.png](https://qiita-image-store.s3.amazonaws.com/0/159761/d4acfc5e-2cb7-d279-a68d-c35275700741.png)\n\n欲しいものは欲しいのでHomebrewでGlassFish4をインストールすることにしました。\n[Glassfish — BrewFormulas](http://brewformulas.org/glassfish)\n\n- 環境\n    - OS : macOS Sierra version10.12.4 64bit\n    - Homebrew 1.2.1\n    - Eclipse : Neon.3 Release (4.6.3)\n\n### 1. Homebewを更新する\n```text\n$ brew update\n```\n### 2. GlassFishをインストールする\n```text\n$ brew install glassfish\n==\u003e Using the sandbox\n==\u003e Downloading http://download.java.net/glassfish/4.1.2/release/glassfish-4.1.2.zip\n######################################################################## 100.0%\n==\u003e Caveats\nThe home of GlassFish Application Server 4 is:\n  /usr/local/opt/glassfish/libexec\n\nYou may want to add the following to your .bash_profile:\n  export GLASSFISH_HOME=/usr/local/opt/glassfish/libexec\n  export PATH=${PATH}:${GLASSFISH_HOME}/bin\n\nNote: The support scripts used by GlassFish Application Server 4\nare *NOT* linked to bin.\n==\u003e Summary\n🍺  /usr/local/Cellar/glassfish/4.1.2: 1,005 files, 126.6MB, built in 1 minute 30 seconds\n```\n### 3.GlassFishを起動してみる\n```text\n$ sudo /usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/bin/asadmin\nUse \"exit\" to exit and \"help\" for online help.\nasadmin\u003e start-domain domain1\nWaiting for domain1 to start .........................................\nSuccessfully started the domain : domain1\ndomain  Location: /usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/domains/domain1\nLog File: /usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/domains/domain1/logs/server.log\nAdmin Port: 4848\nCommand start-domain executed successfully.\nasadmin\u003e \n```\nhttp://localhost:4848/ をみてみる\n![Screen Shot 2017-05-18 at 0.48.58.png](https://qiita-image-store.s3.amazonaws.com/0/159761/8556364c-fd48-6753-d821-e79292292ec1.png)\n\n### 4.EclipseにGlassFishを設定してみる\n![Screen Shot 2017-05-18 at 0.52.58.png](https://qiita-image-store.s3.amazonaws.com/0/159761/20d72a43-fb1f-28ad-f750-2275dfa6be9c.png)\n\n![Screen Shot 2017-05-18 at 0.53.10.png](https://qiita-image-store.s3.amazonaws.com/0/159761/6a005178-2b50-8705-73c5-5217f6a60688.png)\n\n![Screen Shot 2017-05-18 at 0.53.27.png](https://qiita-image-store.s3.amazonaws.com/0/159761/0f02c3b9-24e3-9afd-c2f5-13ca775179f1.png)\n\n### 5. GlassFishにデータベースを設定してみる\n![Screen Shot 2017-05-18 at 0.56.58.png](https://qiita-image-store.s3.amazonaws.com/0/159761/86d26f8d-3c51-0dc8-77c2-df93cfe44d3d.png)\n\n![Screen Shot 2017-05-18 at 0.57.12.png](https://qiita-image-store.s3.amazonaws.com/0/159761/0cdf39f1-4186-a4fe-b261-d4d9da7d847e.png)\n\n![Screen Shot 2017-05-18 at 1.00.30.png](https://qiita-image-store.s3.amazonaws.com/0/159761/54565450-c916-9f61-4a7f-c98a736aeb84.png)\n\n- [Next...]をクリックしたら「HTTP Status 500 - Internal Server Error」になった場合\n    - /usr/local/Cellar/glassfish/4.1.2/libexec/glassfish/domain/domain1/configにある domain.xml にデータベースの情報をガチで書く\n\n![Screen Shot 2017-05-18 at 1.01.08.png](https://qiita-image-store.s3.amazonaws.com/0/159761/4b78e025-9aa7-06f4-92dc-167e2b546394.png)\n\n使いたいデータベースの情報を入れる。\n![Screen Shot 2017-05-18 at 1.03.20.png](https://qiita-image-store.s3.amazonaws.com/0/159761/e9ac0c1b-38d5-d959-d44d-cc3d45df7069.png)\n\n\n### 参考にさせていただいたサイト様\n- [ScalaでServletを作る with IDEA14 備忘録 - Qiita](http://qiita.com/abey1192/items/1534f876085c2c6fd0fe)\n- [EclipseにGlassFishサーバーを設定 - Qiita](http://qiita.com/muneo/items/a88ba8d1e3702e227179)\n","coediting":false,"created_at":"2017-05-18T01:23:48+09:00","group":null,"id":"611039314a2e85d02f2b","private":false,"tags":[{"name":"Mac","versions":[]},{"name":"Eclipse","versions":[]},{"name":"homebrew","versions":[]},{"name":"glassfish","versions":[]}],"title":"HomebrewでGlassFish4をインストールする","updated_at":"2017-05-18T01:25:14+09:00","url":"http://qiita.com/ponsuke0531/items/611039314a2e85d02f2b","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":1,"github_login_name":"ponsuke0531","id":"ponsuke0531","items_count":18,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":159761,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/159761/profile-images/1484388282","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cp\u003ewerckerを使っていてローカルではテストが通るのにCIではコケる場合にデバッグする方法です。\u003cbr\u003e\nいづれの方法もテスト実行時の状態のdocker imageをローカルに持ってくる方法になります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"前提条件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提条件　\u003c/h2\u003e\n\n\u003cp\u003eローカルでdockerが使えること。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"方法1-ローカルでciを実行する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%B9%E6%B3%951-%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7ci%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e方法1: ローカルでCIを実行する\u003c/h2\u003e\n\n\u003cp\u003ewercker cliをつかってローカルでCIを実行する方法です。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"wercker-cliのインストールmac\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#wercker-cli%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%ABmac\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewercker cliのインストール(Mac)\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003ebrew tap wercker/wercker\nbrew install wercker-cli\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003ewercker build --no-remove\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003e--no-remove\u003c/code\u003eをつけるとdocker containerが残るので　containerに入ってデバッグします。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"方法2-werckerでbuildしたimageをpullする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%B9%E6%B3%952-wercker%E3%81%A7build%E3%81%97%E3%81%9Fimage%E3%82%92pull%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e方法2: werckerでbuildしたimageをpullする\u003c/h2\u003e\n\n\u003cp\u003ewercker上でbuildしたimageをpullする方法です。\u003cbr\u003e\n方法1と同様にwercker ciを使います。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"werckeryml\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#werckeryml\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewercker.yml\u003c/h4\u003e\n\n\u003cp\u003e以下を追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ewercker.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003ebuild\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003eafter-steps\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"p p-Indicator\"\u003e-\u003c/span\u003e \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003einternal/store-container\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"wercker-pull\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#wercker-pull\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewercker pull\u003c/h3\u003e\n\n\u003cp\u003ewercker上でbuildが走ったあとに以下のコマンドでpullできます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003ewercker login\nwercker pull isule/test\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003egithubのアカウントを使っていてログインできない、ってひとは\u003ca href=\"https://skatsuta.github.io/2015/07/21/wercker-github-login/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eを参照ください。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"方法3-werckerでbuildしたimageをdockerhubにpushする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%B9%E6%B3%953-wercker%E3%81%A7build%E3%81%97%E3%81%9Fimage%E3%82%92dockerhub%E3%81%ABpush%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e方法3: werckerでbuildしたimageをdockerhubにpushする\u003c/h2\u003e\n\n\u003cp\u003e方法2は自分の環境では以下のエラーになって実行できませんでした。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003eERROR No finished builds found for this application\nFATAL Exiting.\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそんなときはwerckerでbuildしたimageをdockerhubにpushしましょう。\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"werckeryml-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#werckeryml-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewercker.yml\u003c/h4\u003e\n\n\u003cp\u003e以下を追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ewercker.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003ebuild\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003eafter-steps\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"p p-Indicator\"\u003e-\u003c/span\u003e \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003einternal/docker-push\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003eusername\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003e$DOCKER_HUB_USERNAME\u003c/span\u003e\n            \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003epassword\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003e$DOCKER_HUB_PASSWORD\u003c/span\u003e\n            \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003etag\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003edebug\u003c/span\u003e\n            \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003erepository\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003emy/repository\u003c/span\u003e \u003cspan class=\"c1\"\u003e#適宜変更\u003c/span\u003e\n            \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003eregistry\u003c/span\u003e\u003cspan class=\"p p-Indicator\"\u003e:\u003c/span\u003e \u003cspan class=\"l l-Scalar l-Scalar-Plain\"\u003ehttps://registry.hub.docker.com\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eDOCKER_HUB_USERNAME\u003c/code\u003eと\u003ccode\u003eDOCKER_HUB_PASSWORD\u003c/code\u003eを環境変数に追加します。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/152997/d2fd9f22-0c11-d42b-7279-ba1eabbb91c3.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/152997/d2fd9f22-0c11-d42b-7279-ba1eabbb91c3.png\" alt=\"image.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"実行-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行\u003c/h3\u003e\n\n\u003cp\u003ebuildを実行すればdockerhubにpushされるはず。\u003c/p\u003e\n\n\u003cp\u003e以上です。\u003c/p\u003e\n","body":"werckerを使っていてローカルではテストが通るのにCIではコケる場合にデバッグする方法です。\nいづれの方法もテスト実行時の状態のdocker imageをローカルに持ってくる方法になります。\n\n## 前提条件　\n\nローカルでdockerが使えること。\n\n## 方法1: ローカルでCIを実行する\n\nwercker cliをつかってローカルでCIを実行する方法です。\n\n#### wercker cliのインストール(Mac)\n\n```\nbrew tap wercker/wercker\nbrew install wercker-cli\n```\n\n#### 実行\n\n```\nwercker build --no-remove\n```\n\n`--no-remove`をつけるとdocker containerが残るので　containerに入ってデバッグします。\n\n## 方法2: werckerでbuildしたimageをpullする\n\nwercker上でbuildしたimageをpullする方法です。\n方法1と同様にwercker ciを使います。\n\n#### wercker.yml\n\n以下を追加します。\n\n```yaml:wercker.yml\nbuild:\n  after-steps:\n    - internal/store-container\n```\n\n### wercker pull\n\nwercker上でbuildが走ったあとに以下のコマンドでpullできます。\n\n```\nwercker login\nwercker pull isule/test\n```\n\ngithubのアカウントを使っていてログインできない、ってひとは[こちら](https://skatsuta.github.io/2015/07/21/wercker-github-login/)を参照ください。\n\n## 方法3: werckerでbuildしたimageをdockerhubにpushする\n\n方法2は自分の環境では以下のエラーになって実行できませんでした。\n\n```\nERROR No finished builds found for this application\nFATAL Exiting.\n```\n\nそんなときはwerckerでbuildしたimageをdockerhubにpushしましょう。\n\n#### wercker.yml\n\n以下を追加します。\n\n\n```yaml:wercker.yml\nbuild:\n    after-steps:\n        - internal/docker-push:\n            username: $DOCKER_HUB_USERNAME\n            password: $DOCKER_HUB_PASSWORD\n            tag: debug\n            repository: my/repository #適宜変更\n            registry: https://registry.hub.docker.com\n```\n\n`DOCKER_HUB_USERNAME`と`DOCKER_HUB_PASSWORD`を環境変数に追加します。\n\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/152997/d2fd9f22-0c11-d42b-7279-ba1eabbb91c3.png)\n\n### 実行\n\nbuildを実行すればdockerhubにpushされるはず。\n\n以上です。\n","coediting":false,"created_at":"2017-05-18T01:18:09+09:00","group":null,"id":"4259c659014016475639","private":false,"tags":[{"name":"CI","versions":[]},{"name":"wercker","versions":[]}],"title":"werckerを使っていてローカルではテストが通るのにCIではコケる場合にデバッグする3つの方法","updated_at":"2017-05-18T01:18:09+09:00","url":"http://qiita.com/isuke/items/4259c659014016475639","user":{"description":null,"facebook_id":null,"followees_count":3,"followers_count":1,"github_login_name":"isuke","id":"isuke","items_count":7,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":152997,"profile_image_url":"https://avatars.githubusercontent.com/u/6189067?v=3","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cp\u003e今回は、C9で PHP をバージョンアップしてLaravelをcomposerで管理を\u003cbr\u003e\n行ったときのメモです。\u003c/p\u003e\n\n\u003cp\u003ePart1ではPHPをPHP7以上にバージョンアップするところまで行います。\u003c/p\u003e\n\n\u003cp\u003e＊開発環境＊\u003cbr\u003e\n・cloud9\u003cbr\u003e\n・PHP7\u003cbr\u003e\n・Laravel5.2\u003c/p\u003e\n\n\u003cp\u003e$ sudo apt-get update\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003esudo apt-get update\nGet:1 http://security.ubuntu.com trusty-security InRelease [65.9 kB]\nIgn http://downloads-distro.mongodb.org dist InRelease                         \nGet:2 http://ppa.launchpad.net trusty InRelease [15.5 kB]                      \nHit http://downloads-distro.mongodb.org dist Release.gpg                       \nIgn http://asia-east1.gce.clouds.archive.ubuntu.com trusty InRelease           \nGet:3 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates InRelease [65.9 kB]\nGet:4 http://ppa.launchpad.net trusty InRelease [15.4 kB]    \nIgn http://toolbelt.heroku.com ./ InRelease                                    \nGet:5 http://security.ubuntu.com trusty-security/main Sources [167 kB]         \nHit http://downloads-distro.mongodb.org dist Release                           \nGet:6 http://ppa.launchpad.net trusty/main amd64 Packages [23.2 kB]            \nGet:7 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports InRelease [65.9 kB]\nHit http://toolbelt.heroku.com ./ Release.gpg                                  \nGet:8 http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release.gpg [933 B]\nHit http://downloads-distro.mongodb.org dist/10gen amd64 Packages              \nGet:9 http://security.ubuntu.com trusty-security/universe Sources [62.7 kB]    \nGet:10 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main Sources [492 kB]\nHit http://toolbelt.heroku.com ./ Release                                      \nGet:11 http://ppa.launchpad.net trusty/main i386 Packages [23.2 kB]            \nGet:12 http://security.ubuntu.com trusty-security/main amd64 Packages [767 kB] \nHit http://downloads-distro.mongodb.org dist/10gen i386 Packages               \nGet:13 http://ppa.launchpad.net trusty/main amd64 Packages [3427 B]            \nHit http://toolbelt.heroku.com ./ Packages                                     \nGet:14 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted Sources [6467 B]\nGet:15 http://ppa.launchpad.net trusty/main i386 Packages [3427 B]             \nGet:16 http://security.ubuntu.com trusty-security/universe amd64 Packages [203 kB]\nGet:17 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe Sources [226 kB]\nGet:18 http://security.ubuntu.com trusty-security/main i386 Packages [710 kB]\nGet:19 http://security.ubuntu.com trusty-security/universe i386 Packages [203 kB]\nGet:20 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse Sources [7656 B]\nGet:21 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main amd64 Packages [1233 kB]\nGet:22 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted amd64 Packages [21.2 kB]\nGet:23 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe amd64 Packages [524 kB]\nGet:24 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [15.6 kB]\nGet:25 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main i386 Packages [1174 kB]\nGet:26 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted i386 Packages [20.9 kB]\nGet:27 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe i386 Packages [526 kB]\nGet:28 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse i386 Packages [16.1 kB]\nGet:29 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main Sources [10.4 kB]\nGet:30 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted Sources [40 B]\nGet:31 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe Sources [41.2 kB]\nGet:32 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse Sources [1751 B]\nGet:33 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main amd64 Packages [14.8 kB]\nGet:34 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted amd64 Packages [40 B]\nGet:35 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe amd64 Packages [52.6 kB]\nGet:36 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1396 B]\nGet:37 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main i386 Packages [14.8 kB]\nGet:38 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted i386 Packages [40 B]\nGet:39 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe i386 Packages [52.6 kB]\nGet:40 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1381 B]\nGet:41 http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release [58.5 kB]\nGet:42 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main Sources [1335 kB]\nGet:43 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted Sources [5335 B]\nGet:44 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe Sources [7926 kB]\nGet:45 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse Sources [211 kB]\nGet:46 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main amd64 Packages [1743 kB]\nGet:47 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted amd64 Packages [16.0 kB]\nGet:48 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe amd64 Packages [7589 kB]\nGet:49 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse amd64 Packages [169 kB]\nGet:50 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main i386 Packages [1739 kB]\nGet:51 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted i386 Packages [16.4 kB]\nGet:52 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe i386 Packages [7597 kB]\nGet:53 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse i386 Packages [172 kB]\nFetched 35.4 MB in 18s (1892 kB/s)                                             \nReading package lists... Done\nW: Size of file /var/lib/apt/lists/ppa.launchpad.net_fkrull_deadsnakes_ubuntu_dists_trusty_main_binary-amd64_Packages.gz is not what the server reported 23171 23198\nW: Size of file /var/lib/apt/lists/ppa.launchpad.net_fkrull_deadsnakes_ubuntu_dists_trusty_main_binary-i386_Packages.gz is not what the server reported 23183 23195\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e$sudo add-apt-repository ppa:ondrej/php\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003esg_tmt:~/workspace $ sudo add-apt-repository ppa:ondrej/php\nCo-installable PHP versions: PHP 5.6, PHP 7.0, PHP 7.1 and most requested extensions are included.\n\nPLEASE DON'T USE PHP 5.4 OR PHP 5.5. The PHP 5.5 and later are no longer supported with security updates, therefore they are not included in this repository.\n\nYou can get more information about the packages at https://deb.sury.org\n\nBUGS\u0026amp;FEATURES: This PPA now has a issue tracker: https://deb.sury.org/#bug-reporting\n\nPLEASE READ: If you like my work and want to give me a little motivation, please consider donating regularly: https://donate.sury.org/\n\nWARNING: add-apt-repository is broken with non-UTF-8 locales, see https://github.com/oerdnj/deb.sury.org/issues/56 for workaround:\n\n# LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php\n More info: https://launchpad.net/~ondrej/+archive/ubuntu/php\nPress [ENTER] to continue or ctrl-c to cancel adding it\n\ngpg: keyring `/tmp/tmptrdsipzz/secring.gpg' created\ngpg: keyring `/tmp/tmptrdsipzz/pubring.gpg' created\ngpg: requesting key E5267A6C from hkp server keyserver.ubuntu.com\ngpg: /tmp/tmptrdsipzz/trustdb.gpg: trustdb created\ngpg: key E5267A6C: public key \"Launchpad PPA for Ondřej Surý\" imported\ngpg: Total number processed: 1\ngpg:               imported: 1  (RSA: 1)\nOK\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e$sudo apt-get install python-software-properties\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003esg_tmt:~/workspace $ sudo apt-get install python-software-properties\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n python-pycurl\nSuggested packages:\n libcurl4-gnutls-dev python-pycurl-dbg\nThe following NEW packages will be installed:\n python-pycurl python-software-properties\n0 upgraded, 2 newly installed, 0 to remove and 93 not upgraded.\nNeed to get 67.5 kB of archives.\nAfter this operation, 358 kB of additional disk space will be used.\nDo you want to continue? [Y/n] Y\nGet:1 http://asia-east1.gce.clouds.archive.ubuntu.com/ubuntu/ trusty/main python-pycurl amd64 7.19.3-0ubuntu3 [47.9 kB]\nGet:2 http://asia-east1.gce.clouds.archive.ubuntu.com/ubuntu/ trusty-updates/universe python-software-properties all 0.92.37.7 [19.6 kB]\nFetched 67.5 kB in 1s (52.9 kB/s)                     \ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\nSelecting previously unselected package python-pycurl.\n(Reading database ... 75437 files and directories currently installed.)\nPreparing to unpack .../python-pycurl_7.19.3-0ubuntu3_amd64.deb ...\nUnpacking python-pycurl (7.19.3-0ubuntu3) ...\nSelecting previously unselected package python-software-properties.\nPreparing to unpack .../python-software-properties_0.92.37.7_all.deb ...\nUnpacking python-software-properties (0.92.37.7) ...\nSetting up python-pycurl (7.19.3-0ubuntu3) ...\nSetting up python-software-properties (0.92.37.7) ...\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e$sudo apt-get update\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003esg_tmt:~/workspace $ sudo apt-get update\nHit http://security.ubuntu.com trusty-security InRelease\nHit http://ppa.launchpad.net trusty InRelease                                  \nIgn http://downloads-distro.mongodb.org dist InRelease                         \nIgn http://asia-east1.gce.clouds.archive.ubuntu.com trusty InRelease           \nHit http://ppa.launchpad.net trusty InRelease \nGet:1 http://ppa.launchpad.net trusty InRelease [20.9 kB]                      \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates InRelease   \nHit http://security.ubuntu.com trusty-security/main Sources                    \nIgn http://toolbelt.heroku.com ./ InRelease                                    \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports InRelease \nHit http://downloads-distro.mongodb.org dist Release.gpg                       \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release.gpg         \nHit http://security.ubuntu.com trusty-security/universe Sources                \nHit http://ppa.launchpad.net trusty/main amd64 Packages                        \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release             \nHit http://security.ubuntu.com trusty-security/main amd64 Packages             \nHit http://downloads-distro.mongodb.org dist Release                           \nHit http://ppa.launchpad.net trusty/main i386 Packages                         \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main Sources\nHit http://security.ubuntu.com trusty-security/universe amd64 Packages         \nHit http://security.ubuntu.com trusty-security/main i386 Packages              \nHit http://ppa.launchpad.net trusty/main amd64 Packages                        \nHit http://toolbelt.heroku.com ./ Release.gpg                                  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted Sources\nHit http://security.ubuntu.com trusty-security/universe i386 Packages          \nHit http://ppa.launchpad.net trusty/main i386 Packages                         \nHit http://downloads-distro.mongodb.org dist/10gen amd64 Packages              \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe Sources\nGet:2 http://ppa.launchpad.net trusty/main amd64 Packages [53.3 kB]            \nHit http://toolbelt.heroku.com ./ Release                                      \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse Sources\nHit http://downloads-distro.mongodb.org dist/10gen i386 Packages               \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main amd64 Packages\nHit http://toolbelt.heroku.com ./ Packages                                     \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted amd64 Packages\nGet:3 http://ppa.launchpad.net trusty/main i386 Packages [53.4 kB]\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main Sources        \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted Sources  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe Sources    \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse Sources  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main amd64 Packages \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main i386 Packages  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse i386 Packages\nFetched 128 kB in 11s (10.7 kB/s)                                              \nReading package lists... Done\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e$sudo apt-get install php \u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"log\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\nsg_tmt:~/workspace $ sudo apt-get install php\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n  libapache2-mod-php7.1 libssl1.0.2 php-common php7.1 php7.1-cli php7.1-common\n  php7.1-json php7.1-opcache php7.1-readline\nThe following NEW packages will be installed:\n  libapache2-mod-php7.1 libssl1.0.2 php php-common php7.1 php7.1-cli\n  php7.1-common php7.1-json php7.1-opcache php7.1-readline\n0 upgraded, 10 newly installed, 0 to remove and 105 not upgraded.\nNeed to get 4928 kB of archives.\nAfter this operation, 18.2 MB of additional disk space will be used.\nDo you want to continue? [Y/n] Y\nGet:1 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main libssl1.0.2 amd64 1.0.2k-1+deb.sury.org~trusty+5 [1270 kB]\nGet:2 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php-common all 1:52+deb.sury.org~trusty+1 [14.3 kB]\nGet:3 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-common amd64 7.1.5-1+deb.sury.org~trusty+1 [877 kB]\nGet:4 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-json amd64 7.1.5-1+deb.sury.org~trusty+1 [17.4 kB]\nGet:5 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-opcache amd64 7.1.5-1+deb.sury.org~trusty+1 [140 kB]\nGet:6 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-readline amd64 7.1.5-1+deb.sury.org~trusty+1 [12.2 kB]\nGet:7 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-cli amd64 7.1.5-1+deb.sury.org~trusty+1 [1300 kB]\nGet:8 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main libapache2-mod-php7.1 amd64 7.1.5-1+deb.sury.org~trusty+1 [1242 kB]\nGet:9 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1 all 7.1.5-1+deb.sury.org~trusty+1 [50.1 kB]\nGet:10 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php all 1:7.1+52+deb.sury.org~trusty+1 [5200 B]\nFetched 4928 kB in 12s (386 kB/s)                                              \ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\nPreconfiguring packages ...\nSelecting previously unselected package libssl1.0.2:amd64.\n(Reading database ... 75480 files and directories currently installed.)\nPreparing to unpack .../libssl1.0.2_1.0.2k-1+deb.sury.org~trusty+5_amd64.deb ...\nUnpacking libssl1.0.2:amd64 (1.0.2k-1+deb.sury.org~trusty+5) ...\nSelecting previously unselected package php-common.\nPreparing to unpack .../php-common_1%3a52+deb.sury.org~trusty+1_all.deb ...\nUnpacking php-common (1:52+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-common.\nPreparing to unpack .../php7.1-common_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-common (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-json.\nPreparing to unpack .../php7.1-json_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-json (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-opcache.\nPreparing to unpack .../php7.1-opcache_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-opcache (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-readline.\nPreparing to unpack .../php7.1-readline_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-readline (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-cli.\nPreparing to unpack .../php7.1-cli_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-cli (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package libapache2-mod-php7.1.\nPreparing to unpack .../libapache2-mod-php7.1_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking libapache2-mod-php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1.\nPreparing to unpack .../php7.1_7.1.5-1+deb.sury.org~trusty+1_all.deb ...\nUnpacking php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php.\nPreparing to unpack .../php_1%3a7.1+52+deb.sury.org~trusty+1_all.deb ...\nUnpacking php (1:7.1+52+deb.sury.org~trusty+1) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libssl1.0.2:amd64 (1.0.2k-1+deb.sury.org~trusty+5) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\nSetting up php-common (1:52+deb.sury.org~trusty+1) ...\nSetting up php7.1-common (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/calendar.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/ctype.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/exif.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/fileinfo.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/ftp.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/gettext.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/iconv.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/pdo.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/phar.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/posix.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/shmop.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sockets.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sysvmsg.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sysvsem.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sysvshm.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/tokenizer.ini with new version\nSetting up php7.1-json (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/json.ini with new version\nSetting up php7.1-opcache (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/opcache.ini with new version\nSetting up php7.1-readline (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/readline.ini with new version\nSetting up php7.1-cli (7.1.5-1+deb.sury.org~trusty+1) ...\nupdate-alternatives: using /usr/bin/php7.1 to provide /usr/bin/php (php) in auto mode\nupdate-alternatives: using /usr/bin/phar7.1 to provide /usr/bin/phar (phar) in auto mode\nupdate-alternatives: using /usr/bin/phar.phar7.1 to provide /usr/bin/phar.phar (phar.phar) in auto mode\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/cli/php.ini with new version\nSetting up libapache2-mod-php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/apache2/php.ini with new version\nlibapache2-mod-php7.1: php5 module already enabled, not enabling PHP 7.1\nSetting up php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\nSetting up php (1:7.1+52+deb.sury.org~trusty+1) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e$php -v\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003esg_tmt:~/workspace $ php -v\nPHP 7.1.5-1+deb.sury.org~trusty+1 (cli) (built: May 11 2017 14:36:07) ( NTS )\nCopyright (c) 1997-2017 The PHP Group\nZend Engine v3.1.0, Copyright (c) 1998-2017 Zend Technologies\nwith Zend OPcache v7.1.5-1+deb.sury.org~trusty+1, Copyright (c) 1999-2017, by Zend Technologies\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこれでPHPがPHP7以上にupdate完了\u003c/p\u003e\n","body":"\n今回は、C9で PHP をバージョンアップしてLaravelをcomposerで管理を\u003c/br\u003e\n行ったときのメモです。\n\nPart1ではPHPをPHP7以上にバージョンアップするところまで行います。\n\n＊開発環境＊\u003c/br\u003e\n・cloud9\u003c/br\u003e\n・PHP7\u003c/br\u003e\n・Laravel5.2\n\n$ sudo apt-get update\n\n```\nsudo apt-get update\nGet:1 http://security.ubuntu.com trusty-security InRelease [65.9 kB]\nIgn http://downloads-distro.mongodb.org dist InRelease                         \nGet:2 http://ppa.launchpad.net trusty InRelease [15.5 kB]                      \nHit http://downloads-distro.mongodb.org dist Release.gpg                       \nIgn http://asia-east1.gce.clouds.archive.ubuntu.com trusty InRelease           \nGet:3 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates InRelease [65.9 kB]\nGet:4 http://ppa.launchpad.net trusty InRelease [15.4 kB]    \nIgn http://toolbelt.heroku.com ./ InRelease                                    \nGet:5 http://security.ubuntu.com trusty-security/main Sources [167 kB]         \nHit http://downloads-distro.mongodb.org dist Release                           \nGet:6 http://ppa.launchpad.net trusty/main amd64 Packages [23.2 kB]            \nGet:7 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports InRelease [65.9 kB]\nHit http://toolbelt.heroku.com ./ Release.gpg                                  \nGet:8 http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release.gpg [933 B]\nHit http://downloads-distro.mongodb.org dist/10gen amd64 Packages              \nGet:9 http://security.ubuntu.com trusty-security/universe Sources [62.7 kB]    \nGet:10 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main Sources [492 kB]\nHit http://toolbelt.heroku.com ./ Release                                      \nGet:11 http://ppa.launchpad.net trusty/main i386 Packages [23.2 kB]            \nGet:12 http://security.ubuntu.com trusty-security/main amd64 Packages [767 kB] \nHit http://downloads-distro.mongodb.org dist/10gen i386 Packages               \nGet:13 http://ppa.launchpad.net trusty/main amd64 Packages [3427 B]            \nHit http://toolbelt.heroku.com ./ Packages                                     \nGet:14 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted Sources [6467 B]\nGet:15 http://ppa.launchpad.net trusty/main i386 Packages [3427 B]             \nGet:16 http://security.ubuntu.com trusty-security/universe amd64 Packages [203 kB]\nGet:17 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe Sources [226 kB]\nGet:18 http://security.ubuntu.com trusty-security/main i386 Packages [710 kB]\nGet:19 http://security.ubuntu.com trusty-security/universe i386 Packages [203 kB]\nGet:20 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse Sources [7656 B]\nGet:21 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main amd64 Packages [1233 kB]\nGet:22 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted amd64 Packages [21.2 kB]\nGet:23 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe amd64 Packages [524 kB]\nGet:24 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse amd64 Packages [15.6 kB]\nGet:25 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main i386 Packages [1174 kB]\nGet:26 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted i386 Packages [20.9 kB]\nGet:27 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe i386 Packages [526 kB]\nGet:28 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse i386 Packages [16.1 kB]\nGet:29 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main Sources [10.4 kB]\nGet:30 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted Sources [40 B]\nGet:31 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe Sources [41.2 kB]\nGet:32 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse Sources [1751 B]\nGet:33 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main amd64 Packages [14.8 kB]\nGet:34 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted amd64 Packages [40 B]\nGet:35 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe amd64 Packages [52.6 kB]\nGet:36 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse amd64 Packages [1396 B]\nGet:37 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main i386 Packages [14.8 kB]\nGet:38 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted i386 Packages [40 B]\nGet:39 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe i386 Packages [52.6 kB]\nGet:40 http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse i386 Packages [1381 B]\nGet:41 http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release [58.5 kB]\nGet:42 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main Sources [1335 kB]\nGet:43 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted Sources [5335 B]\nGet:44 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe Sources [7926 kB]\nGet:45 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse Sources [211 kB]\nGet:46 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main amd64 Packages [1743 kB]\nGet:47 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted amd64 Packages [16.0 kB]\nGet:48 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe amd64 Packages [7589 kB]\nGet:49 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse amd64 Packages [169 kB]\nGet:50 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main i386 Packages [1739 kB]\nGet:51 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted i386 Packages [16.4 kB]\nGet:52 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe i386 Packages [7597 kB]\nGet:53 http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse i386 Packages [172 kB]\nFetched 35.4 MB in 18s (1892 kB/s)                                             \nReading package lists... Done\nW: Size of file /var/lib/apt/lists/ppa.launchpad.net_fkrull_deadsnakes_ubuntu_dists_trusty_main_binary-amd64_Packages.gz is not what the server reported 23171 23198\nW: Size of file /var/lib/apt/lists/ppa.launchpad.net_fkrull_deadsnakes_ubuntu_dists_trusty_main_binary-i386_Packages.gz is not what the server reported 23183 23195\n```\n$sudo add-apt-repository ppa:ondrej/php\n\n```\nsg_tmt:~/workspace $ sudo add-apt-repository ppa:ondrej/php\nCo-installable PHP versions: PHP 5.6, PHP 7.0, PHP 7.1 and most requested extensions are included.\n\nPLEASE DON'T USE PHP 5.4 OR PHP 5.5. The PHP 5.5 and later are no longer supported with security updates, therefore they are not included in this repository.\n\nYou can get more information about the packages at https://deb.sury.org\n\nBUGS\u0026FEATURES: This PPA now has a issue tracker: https://deb.sury.org/#bug-reporting\n\nPLEASE READ: If you like my work and want to give me a little motivation, please consider donating regularly: https://donate.sury.org/\n\nWARNING: add-apt-repository is broken with non-UTF-8 locales, see https://github.com/oerdnj/deb.sury.org/issues/56 for workaround:\n\n# LC_ALL=C.UTF-8 add-apt-repository ppa:ondrej/php\n More info: https://launchpad.net/~ondrej/+archive/ubuntu/php\nPress [ENTER] to continue or ctrl-c to cancel adding it\n\ngpg: keyring `/tmp/tmptrdsipzz/secring.gpg' created\ngpg: keyring `/tmp/tmptrdsipzz/pubring.gpg' created\ngpg: requesting key E5267A6C from hkp server keyserver.ubuntu.com\ngpg: /tmp/tmptrdsipzz/trustdb.gpg: trustdb created\ngpg: key E5267A6C: public key \"Launchpad PPA for Ondřej Surý\" imported\ngpg: Total number processed: 1\ngpg:               imported: 1  (RSA: 1)\nOK\n```\n$sudo apt-get install python-software-properties\n\n```\nsg_tmt:~/workspace $ sudo apt-get install python-software-properties\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n python-pycurl\nSuggested packages:\n libcurl4-gnutls-dev python-pycurl-dbg\nThe following NEW packages will be installed:\n python-pycurl python-software-properties\n0 upgraded, 2 newly installed, 0 to remove and 93 not upgraded.\nNeed to get 67.5 kB of archives.\nAfter this operation, 358 kB of additional disk space will be used.\nDo you want to continue? [Y/n] Y\nGet:1 http://asia-east1.gce.clouds.archive.ubuntu.com/ubuntu/ trusty/main python-pycurl amd64 7.19.3-0ubuntu3 [47.9 kB]\nGet:2 http://asia-east1.gce.clouds.archive.ubuntu.com/ubuntu/ trusty-updates/universe python-software-properties all 0.92.37.7 [19.6 kB]\nFetched 67.5 kB in 1s (52.9 kB/s)                     \ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\nSelecting previously unselected package python-pycurl.\n(Reading database ... 75437 files and directories currently installed.)\nPreparing to unpack .../python-pycurl_7.19.3-0ubuntu3_amd64.deb ...\nUnpacking python-pycurl (7.19.3-0ubuntu3) ...\nSelecting previously unselected package python-software-properties.\nPreparing to unpack .../python-software-properties_0.92.37.7_all.deb ...\nUnpacking python-software-properties (0.92.37.7) ...\nSetting up python-pycurl (7.19.3-0ubuntu3) ...\nSetting up python-software-properties (0.92.37.7) ...\n```\n$sudo apt-get update\n\n```\nsg_tmt:~/workspace $ sudo apt-get update\nHit http://security.ubuntu.com trusty-security InRelease\nHit http://ppa.launchpad.net trusty InRelease                                  \nIgn http://downloads-distro.mongodb.org dist InRelease                         \nIgn http://asia-east1.gce.clouds.archive.ubuntu.com trusty InRelease           \nHit http://ppa.launchpad.net trusty InRelease \nGet:1 http://ppa.launchpad.net trusty InRelease [20.9 kB]                      \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates InRelease   \nHit http://security.ubuntu.com trusty-security/main Sources                    \nIgn http://toolbelt.heroku.com ./ InRelease                                    \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports InRelease \nHit http://downloads-distro.mongodb.org dist Release.gpg                       \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release.gpg         \nHit http://security.ubuntu.com trusty-security/universe Sources                \nHit http://ppa.launchpad.net trusty/main amd64 Packages                        \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty Release             \nHit http://security.ubuntu.com trusty-security/main amd64 Packages             \nHit http://downloads-distro.mongodb.org dist Release                           \nHit http://ppa.launchpad.net trusty/main i386 Packages                         \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main Sources\nHit http://security.ubuntu.com trusty-security/universe amd64 Packages         \nHit http://security.ubuntu.com trusty-security/main i386 Packages              \nHit http://ppa.launchpad.net trusty/main amd64 Packages                        \nHit http://toolbelt.heroku.com ./ Release.gpg                                  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted Sources\nHit http://security.ubuntu.com trusty-security/universe i386 Packages          \nHit http://ppa.launchpad.net trusty/main i386 Packages                         \nHit http://downloads-distro.mongodb.org dist/10gen amd64 Packages              \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe Sources\nGet:2 http://ppa.launchpad.net trusty/main amd64 Packages [53.3 kB]            \nHit http://toolbelt.heroku.com ./ Release                                      \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse Sources\nHit http://downloads-distro.mongodb.org dist/10gen i386 Packages               \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main amd64 Packages\nHit http://toolbelt.heroku.com ./ Packages                                     \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted amd64 Packages\nGet:3 http://ppa.launchpad.net trusty/main i386 Packages [53.4 kB]\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/main i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/restricted i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/universe i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-updates/multiverse i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse Sources\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/main i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/restricted i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/universe i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty-backports/multiverse i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main Sources        \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted Sources  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe Sources    \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse Sources  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main amd64 Packages \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse amd64 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/main i386 Packages  \nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/restricted i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/universe i386 Packages\nHit http://asia-east1.gce.clouds.archive.ubuntu.com trusty/multiverse i386 Packages\nFetched 128 kB in 11s (10.7 kB/s)                                              \nReading package lists... Done\n```\n\n$sudo apt-get install php \n\n```log\n\nsg_tmt:~/workspace $ sudo apt-get install php\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n  libapache2-mod-php7.1 libssl1.0.2 php-common php7.1 php7.1-cli php7.1-common\n  php7.1-json php7.1-opcache php7.1-readline\nThe following NEW packages will be installed:\n  libapache2-mod-php7.1 libssl1.0.2 php php-common php7.1 php7.1-cli\n  php7.1-common php7.1-json php7.1-opcache php7.1-readline\n0 upgraded, 10 newly installed, 0 to remove and 105 not upgraded.\nNeed to get 4928 kB of archives.\nAfter this operation, 18.2 MB of additional disk space will be used.\nDo you want to continue? [Y/n] Y\nGet:1 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main libssl1.0.2 amd64 1.0.2k-1+deb.sury.org~trusty+5 [1270 kB]\nGet:2 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php-common all 1:52+deb.sury.org~trusty+1 [14.3 kB]\nGet:3 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-common amd64 7.1.5-1+deb.sury.org~trusty+1 [877 kB]\nGet:4 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-json amd64 7.1.5-1+deb.sury.org~trusty+1 [17.4 kB]\nGet:5 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-opcache amd64 7.1.5-1+deb.sury.org~trusty+1 [140 kB]\nGet:6 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-readline amd64 7.1.5-1+deb.sury.org~trusty+1 [12.2 kB]\nGet:7 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1-cli amd64 7.1.5-1+deb.sury.org~trusty+1 [1300 kB]\nGet:8 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main libapache2-mod-php7.1 amd64 7.1.5-1+deb.sury.org~trusty+1 [1242 kB]\nGet:9 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php7.1 all 7.1.5-1+deb.sury.org~trusty+1 [50.1 kB]\nGet:10 http://ppa.launchpad.net/ondrej/php/ubuntu/ trusty/main php all 1:7.1+52+deb.sury.org~trusty+1 [5200 B]\nFetched 4928 kB in 12s (386 kB/s)                                              \ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\nPreconfiguring packages ...\nSelecting previously unselected package libssl1.0.2:amd64.\n(Reading database ... 75480 files and directories currently installed.)\nPreparing to unpack .../libssl1.0.2_1.0.2k-1+deb.sury.org~trusty+5_amd64.deb ...\nUnpacking libssl1.0.2:amd64 (1.0.2k-1+deb.sury.org~trusty+5) ...\nSelecting previously unselected package php-common.\nPreparing to unpack .../php-common_1%3a52+deb.sury.org~trusty+1_all.deb ...\nUnpacking php-common (1:52+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-common.\nPreparing to unpack .../php7.1-common_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-common (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-json.\nPreparing to unpack .../php7.1-json_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-json (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-opcache.\nPreparing to unpack .../php7.1-opcache_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-opcache (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-readline.\nPreparing to unpack .../php7.1-readline_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-readline (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1-cli.\nPreparing to unpack .../php7.1-cli_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking php7.1-cli (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package libapache2-mod-php7.1.\nPreparing to unpack .../libapache2-mod-php7.1_7.1.5-1+deb.sury.org~trusty+1_amd64.deb ...\nUnpacking libapache2-mod-php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php7.1.\nPreparing to unpack .../php7.1_7.1.5-1+deb.sury.org~trusty+1_all.deb ...\nUnpacking php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\nSelecting previously unselected package php.\nPreparing to unpack .../php_1%3a7.1+52+deb.sury.org~trusty+1_all.deb ...\nUnpacking php (1:7.1+52+deb.sury.org~trusty+1) ...\nProcessing triggers for man-db (2.6.7.1-1ubuntu1) ...\nSetting up libssl1.0.2:amd64 (1.0.2k-1+deb.sury.org~trusty+5) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\nSetting up php-common (1:52+deb.sury.org~trusty+1) ...\nSetting up php7.1-common (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/calendar.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/ctype.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/exif.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/fileinfo.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/ftp.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/gettext.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/iconv.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/pdo.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/phar.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/posix.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/shmop.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sockets.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sysvmsg.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sysvsem.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/sysvshm.ini with new version\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/tokenizer.ini with new version\nSetting up php7.1-json (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/json.ini with new version\nSetting up php7.1-opcache (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/opcache.ini with new version\nSetting up php7.1-readline (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/mods-available/readline.ini with new version\nSetting up php7.1-cli (7.1.5-1+deb.sury.org~trusty+1) ...\nupdate-alternatives: using /usr/bin/php7.1 to provide /usr/bin/php (php) in auto mode\nupdate-alternatives: using /usr/bin/phar7.1 to provide /usr/bin/phar (phar) in auto mode\nupdate-alternatives: using /usr/bin/phar.phar7.1 to provide /usr/bin/phar.phar (phar.phar) in auto mode\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/cli/php.ini with new version\nSetting up libapache2-mod-php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend requires a screen at least 13 lines tall and 31 columns wide.)\ndebconf: falling back to frontend: Readline\n\nCreating config file /etc/php/7.1/apache2/php.ini with new version\nlibapache2-mod-php7.1: php5 module already enabled, not enabling PHP 7.1\nSetting up php7.1 (7.1.5-1+deb.sury.org~trusty+1) ...\nSetting up php (1:7.1+52+deb.sury.org~trusty+1) ...\nProcessing triggers for libc-bin (2.19-0ubuntu6.9) ...\n\n```\n\n$php -v\n\n```\nsg_tmt:~/workspace $ php -v\nPHP 7.1.5-1+deb.sury.org~trusty+1 (cli) (built: May 11 2017 14:36:07) ( NTS )\nCopyright (c) 1997-2017 The PHP Group\nZend Engine v3.1.0, Copyright (c) 1998-2017 Zend Technologies\nwith Zend OPcache v7.1.5-1+deb.sury.org~trusty+1, Copyright (c) 1999-2017, by Zend Technologies\n```\n\nこれでPHPがPHP7以上にupdate完了\n","coediting":false,"created_at":"2017-05-18T01:11:38+09:00","group":null,"id":"d1f262e700ba6b43135f","private":false,"tags":[{"name":"PHP","versions":[]}],"title":"PHP7でLaravelの開発環境を構築する-Part1","updated_at":"2017-05-18T01:11:38+09:00","url":"http://qiita.com/sgtmt/items/d1f262e700ba6b43135f","user":{"description":null,"facebook_id":null,"followees_count":22,"followers_count":5,"github_login_name":"sgtmt","id":"sgtmt","items_count":7,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":96445,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/96445/profile-images/1473706888","twitter_screen_name":"sg_tmt","website_url":null}},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"material-ui-α版\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#material-ui-%CE%B1%E7%89%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMaterial-UI α版\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"http://qiita.com/vimyum/items/5ba06ca166ebe4992617\" id=\"reference-cc604395e041307602f7\"\u003eこちらの記事\u003c/a\u003e引き続き、React.js向けのマテリアルデザインMaterial-UIについて、αブランチ(v1.0-alphe 14)の機能をみていきます。\u003cbr\u003e\n現在v0.18ではCSSはLESSによって構築されていますが、v1.0からはCSS in JSの仕組みが提供されるようです。別途CSS-Moduleを入れたりWebpackに設定する必要もないので簡単に利用できそうです。\u003cbr\u003e\nα版のインストールにはnpmで\u003ca href=\"/next\" class=\"user-mention js-hovercard\" title=\"next\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"next\"\u003e@next\u003c/a\u003eを指定します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"shell-session\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"gp\"\u003e$\u003c/span\u003e npm install --save material-ui@next\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"cssinjs-in-material-ui\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cssinjs-in-material-ui\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCSSinJS in Material-UI\u003c/h2\u003e\n\n\u003cp\u003eMaterial-UIのCSSinJSでは\u003ccode\u003ecreateStyleSheet\u003c/code\u003eと\u003ccode\u003ewithStyles\u003c/code\u003eという2つのAPIを利用します。\u003ccode\u003ecreateStyleSheet\u003c/code\u003eでDOMに適用するスタイルを生成し、\u003ccode\u003ewithStyles\u003c/code\u003eでスタイルを適用したDOMを生成するという手順です。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"createstylesheet\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#createstylesheet\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ecreateStyleSheet\u003c/h3\u003e\n\n\u003cp\u003ecreateStyleSheetは第１引数に名前、第２引数にスタイルのオブジェクト、またはスタイルのオブジェクトを返す関数を指定します。第１引数は単にデバッグ目的に利用されるだけのようです。第２引数に渡す関数の引数\u003ccode\u003etheme\u003c/code\u003eについてはあとで説明します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kr\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateStyleSheet\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nx\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'material-ui/styles'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003emyStyleSheet\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateStyleSheet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"myStyle\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eroot\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'#CCC'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003ewidth\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'500px'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"withstyle\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#withstyle\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewithStyle\u003c/h3\u003e\n\n\u003cp\u003ewithStyleの第１引数には先ほど生成したスタイルを指定します。返り値は高階コンポーネント(higher-order component)です。高階コンポーネントの正しい意味はよくわかりませんが、高階コンポーネントにReactコンポーネント(DOM)を渡してあげると、先ほどのスタイルが適用される新たなDOMが生成されます。\u003cbr\u003e\nスタイルが適用されるコンポーネントには\u003ccode\u003eprops\u003c/code\u003eを通して\u003ccode\u003eclasses\u003c/code\u003eプロパティが渡されます。classNameにclassesのプロパティを指定することで、その要素にスタイルが適用されます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kr\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ewithStyles\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nx\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'material-ui/styles'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// いつものReactコンポーネント（ただしpropsにclassesが渡される)\u003c/span\u003e\n\u003cspan class=\"kr\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eMyApp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eprops\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eclasses\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eroot\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"c1\"\u003e//渡されたclassesを適用\u003c/span\u003e\n       \u003cspan class=\"nx\"\u003eHello\u003c/span\u003e \u003cspan class=\"nx\"\u003eWorld\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"err\"\u003e/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// スタイルを適用したコンポーネント\u003c/span\u003e\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eStyledMyApp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ewithStyles\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emyStyleSheet\u003c/span\u003e\u003cspan class=\"p\"\u003e)(\u003c/span\u003e\u003cspan class=\"nx\"\u003eMyApp\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// スタイル付きコンポーネントは\u0026lt;MuiThemeProvider\u0026gt;の子要素にする\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eReactDOM\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eMuiThemeProvider\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eStyledMyApp\u003c/span\u003e \u003cspan class=\"o\"\u003e/\u0026gt;\u0026lt;\u003c/span\u003e\u003cspan class=\"err\"\u003e/MuiThemeProvider\u0026gt;,\u003c/span\u003e\n \u003cspan class=\"nb\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003equerySelector\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'#app'\u003c/span\u003e\u003cspan class=\"p\"\u003e));\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"themeprovider\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#themeprovider\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ethemeProvider\u003c/h2\u003e\n\n\u003cp\u003eアプリケーション全体でデザインを統一するためにテーマ(theme)の概念があるようです。themeは\u003ccode\u003ecreateMuiTheme\u003c/code\u003eで作成して、\u003ccode\u003eMuiThemeProvider\u003c/code\u003eの属性値として渡すことで適用できます。\u003cbr\u003e\n前述の\u003ccode\u003ecteateStyleSheet\u003c/code\u003eの第２引数の関数に渡される\u003ccode\u003etheme\u003c/code\u003eは\u003ccode\u003eMuiThemeProvider\u003c/code\u003eに適用されたものになります。themeオブジェクトのプロパティはたくさんあるので\u003ca href=\"https://github.com/callemall/material-ui/blob/next/src/styles/theme.js\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eを参照してください。色は\u003ca href=\"https://material-ui-1dab0.firebaseapp.com/style/color\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eを参照。\u003cbr\u003e\n使い方は例えばこんな感じ。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kr\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003epurple\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003egreen\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ered\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nx\"\u003efrom\u003c/span\u003e \u003cspan class=\"s1\"\u003e'material-ui/styles/colors'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 独自テーマを作って\u003c/span\u003e\n\u003cspan class=\"kr\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etheme\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateMuiTheme\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003edanger\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'orange'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 適用する\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eReactDOM\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eMuiThemeProvider\u003c/span\u003e \u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eただ、実際にはあまりテーマを作成することはなく、テーマはそのまま利用し、自作コンポーネントにそのテーマから値(色とかフォントとか）を適用する、というのがメインになるかなと思います。たとえばこんな感じで。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003emyStyleSheet\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateStyleSheet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"myStyle\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eroot\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n       \u003cspan class=\"nx\"\u003ebackgroundColor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epalette\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprimary\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n       \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epalette\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003egetContrastText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epalette\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprimary\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e]),\u003c/span\u003e\n       \u003cspan class=\"nx\"\u003epadding\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"sb\"\u003e`\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003espacing\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eunit\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"sb\"\u003epx`\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e  \u003cspan class=\"c1\"\u003e//余白もテーマで統一できる\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e上の例のとおり、paletteに対してgetContrastTextを使うと、背景色に適したテキスト色が選択されます。これで色環とかもう考えなくても良いですね。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"やってみた\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやってみた\u003c/h2\u003e\n\n\u003cp\u003e適当にテーマをいじったりしてみました。いくらフレームワークがしっかりしていても、マテリアルデザインに則らずに適当に値を指定してしまったので、全然イケてないですね。。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/160451/4e3c39a2-b1d3-47ce-4141-fe5e3e615689.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"1431\" alt=\"スクリーンショット 2017-05-18 0.53.29.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/160451/4e3c39a2-b1d3-47ce-4141-fe5e3e615689.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eMaterial-UIを利用することで、見た目に関する色々な機能が(ほぼ)オールインワンで提供されるので、僕のような初学者にはオススメかと思います。\u003c/p\u003e\n","body":"## Material-UI α版\n[こちらの記事](http://qiita.com/vimyum/items/5ba06ca166ebe4992617)引き続き、React.js向けのマテリアルデザインMaterial-UIについて、αブランチ(v1.0-alphe 14)の機能をみていきます。\n現在v0.18ではCSSはLESSによって構築されていますが、v1.0からはCSS in JSの仕組みが提供されるようです。別途CSS-Moduleを入れたりWebpackに設定する必要もないので簡単に利用できそうです。\nα版のインストールにはnpmで@nextを指定します。\n\n```shell-session\n$ npm install --save material-ui@next\n```\n\n\n## CSSinJS in Material-UI\nMaterial-UIのCSSinJSでは`createStyleSheet`と`withStyles`という2つのAPIを利用します。`createStyleSheet`でDOMに適用するスタイルを生成し、`withStyles`でスタイルを適用したDOMを生成するという手順です。\n\n### createStyleSheet\ncreateStyleSheetは第１引数に名前、第２引数にスタイルのオブジェクト、またはスタイルのオブジェクトを返す関数を指定します。第１引数は単にデバッグ目的に利用されるだけのようです。第２引数に渡す関数の引数`theme`についてはあとで説明します。\n\n```js\nimport { createStyleSheet } from 'material-ui/styles';\n\nlet myStyleSheet = createStyleSheet(\"myStyle\", (theme) =\u003e {\n    root : {\n        color: '#CCC',\n        width: '500px',\n    },\n});\n```\n### withStyle\nwithStyleの第１引数には先ほど生成したスタイルを指定します。返り値は高階コンポーネント(higher-order component)です。高階コンポーネントの正しい意味はよくわかりませんが、高階コンポーネントにReactコンポーネント(DOM)を渡してあげると、先ほどのスタイルが適用される新たなDOMが生成されます。\nスタイルが適用されるコンポーネントには`props`を通して`classes`プロパティが渡されます。classNameにclassesのプロパティを指定することで、その要素にスタイルが適用されます。\n\n```js\nimport { withStyles } from 'material-ui/styles';\n\n// いつものReactコンポーネント（ただしpropsにclassesが渡される)\nconst MyApp = (props) = (\n    \u003cdiv className={props.classes.root}\u003e //渡されたclassesを適用\n       Hello World\n    \u003c/div\u003e\n)\n\n// スタイルを適用したコンポーネント\nlet StyledMyApp = withStyles(myStyleSheet)(MyApp);\n\n// スタイル付きコンポーネントは\u003cMuiThemeProvider\u003eの子要素にする\nReactDOM.render(\u003cMuiThemeProvider\u003e\u003cStyledMyApp /\u003e\u003c/MuiThemeProvider\u003e,\n document.querySelector('#app'));\n```\n\n## themeProvider\n\nアプリケーション全体でデザインを統一するためにテーマ(theme)の概念があるようです。themeは`createMuiTheme`で作成して、`MuiThemeProvider`の属性値として渡すことで適用できます。\n前述の`cteateStyleSheet`の第２引数の関数に渡される`theme`は`MuiThemeProvider`に適用されたものになります。themeオブジェクトのプロパティはたくさんあるので[こちら](https://github.com/callemall/material-ui/blob/next/src/styles/theme.js)を参照してください。色は[こちら](https://material-ui-1dab0.firebaseapp.com/style/color)を参照。\n使い方は例えばこんな感じ。\n\n```js\nimport { purple, green, red } from 'material-ui/styles/colors';\n\n// 独自テーマを作って\nconst theme = createMuiTheme({\n  status: {\n    danger: 'orange',\n  },\n});\n\n// 適用する\nReactDOM.render(\u003cMuiThemeProvider theme={theme}\u003e ...\n```\n\nただ、実際にはあまりテーマを作成することはなく、テーマはそのまま利用し、自作コンポーネントにそのテーマから値(色とかフォントとか）を適用する、というのがメインになるかなと思います。たとえばこんな感じで。\n\n```js\nlet myStyleSheet = createStyleSheet(\"myStyle\", (theme) =\u003e {\n    root : {\n       backgroundColor: theme.palette.primary[200],\n       color: theme.palette.getContrastText(theme.palette.primary[200]),\n       padding: `${theme.spacing.unit}px`,  //余白もテーマで統一できる\n    },\n});\n```\n\n上の例のとおり、paletteに対してgetContrastTextを使うと、背景色に適したテキスト色が選択されます。これで色環とかもう考えなくても良いですね。\n\n## やってみた\n適当にテーマをいじったりしてみました。いくらフレームワークがしっかりしていても、マテリアルデザインに則らずに適当に値を指定してしまったので、全然イケてないですね。。\n\n\u003cimg width=\"1431\" alt=\"スクリーンショット 2017-05-18 0.53.29.png\" src=\"https://qiita-image-store.s3.amazonaws.com/0/160451/4e3c39a2-b1d3-47ce-4141-fe5e3e615689.png\"\u003e\n\n\nMaterial-UIを利用することで、見た目に関する色々な機能が(ほぼ)オールインワンで提供されるので、僕のような初学者にはオススメかと思います。\n\n\n\n\n\n\n\n\n\n\n\n","coediting":false,"created_at":"2017-05-18T00:57:32+09:00","group":null,"id":"f89b963b7f253237e482","private":false,"tags":[{"name":"JavaScript","versions":[]},{"name":"reactjs","versions":[]},{"name":"material-ui","versions":[]}],"title":"Material-UI(α版)でCSS in JS！","updated_at":"2017-05-18T00:57:32+09:00","url":"http://qiita.com/vimyum/items/f89b963b7f253237e482","user":{"description":"寝る前の趣味としてフロントエンド技術を勉強中です。","facebook_id":"","followees_count":2,"followers_count":1,"github_login_name":null,"id":"vimyum","items_count":5,"linkedin_id":"","location":"Kanagawa, Japan","name":"Sagara","organization":"","permanent_id":160451,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/160451/profile-images/1490287074","twitter_screen_name":"vimyum","website_url":"https://github.com/vimyum"}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"cookieをオブジェクト形式で取得するコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cookie%E3%82%92%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%BD%A2%E5%BC%8F%E3%81%A7%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCookieをオブジェクト形式で取得するコード\u003c/h1\u003e\n\n\u003cp\u003eCookieのリストをオブジェクト形式で取得するコード\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/API/Document/cookie\" rel=\"nofollow noopener\" target=\"_blank\"\u003edocument.cookie - Web API インターフェイス | MDN\u003c/a\u003eに載っているやり方だと、同名のCookieが複数あったときに1つの値しか取り出すことができず、不都合があったため作成。\u003c/p\u003e\n\n\u003cp\u003e以下のコードによりCookieを取得すれば、オブジェクトの中に配列としてCookieの値を格納しているので、\u003cbr\u003e\n同名のCookieが複数あった場合でも上書きによって値が消えることがありません。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"コード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコード\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003egetCookie.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003egetCookie\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ecookie\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eunescape\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecookie\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ecookies\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{};\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!!\u003c/span\u003e\u003cspan class=\"nx\"\u003ecookie\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprototype\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eforEach\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecall\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecookie\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e';'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ekey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'='\u003c/span\u003e\u003cspan class=\"p\"\u003e)[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"nx\"\u003etrim\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003eval\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'='\u003c/span\u003e\u003cspan class=\"p\"\u003e)[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"nx\"\u003etrim\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003ecookies\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ehasOwnProperty\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e)){\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003ecookies\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"k\"\u003eelse\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003ecookies\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"nx\"\u003epush\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eval\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003ecookies\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e出力された結果は連想配列的に利用して、\u003ca href=\"Array.prototype.join()%20-%20JavaScript%20%7C%20MDN\"\u003e\u003ccode\u003ejoin()\u003c/code\u003e\u003c/a\u003eや\u003ca href=\"https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/toString\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\u003ccode\u003etoString()\u003c/code\u003e\u003c/a\u003eで文字列に直してあげると使いやすいです。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"動作イメージ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8B%95%E4%BD%9C%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e動作イメージ\u003c/h3\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/103957/083bcce6-d217-e14c-edce-2ec8a76ea91b.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/103957/083bcce6-d217-e14c-edce-2ec8a76ea91b.png\" alt=\"image.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/103957/d8a01bfd-d8bf-2a6c-e1e3-47f8572a7570.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/103957/d8a01bfd-d8bf-2a6c-e1e3-47f8572a7570.png\" alt=\"image.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e完\u003c/strong\u003e\u003c/p\u003e\n","body":"#Cookieをオブジェクト形式で取得するコード\n\nCookieのリストをオブジェクト形式で取得するコード\n\n[document.cookie - Web API インターフェイス | MDN](https://developer.mozilla.org/ja/docs/Web/API/Document/cookie)に載っているやり方だと、同名のCookieが複数あったときに1つの値しか取り出すことができず、不都合があったため作成。\n\n以下のコードによりCookieを取得すれば、オブジェクトの中に配列としてCookieの値を格納しているので、\n同名のCookieが複数あった場合でも上書きによって値が消えることがありません。\n\n###コード\n```js:getCookie.js\nfunction getCookie(){\n  var cookie = unescape(document.cookie);\n  var cookies = {};\n  if(!!cookie){\n    Array.prototype.forEach.call(cookie.split(';'),function(c){\n      var key = c.split('=')[0].trim();\n      var val = c.split('=')[1].trim();\n      if(!cookies.hasOwnProperty(key)){\n        cookies[key] = [val];\n      }else{\n        cookies[key].push(val);\n      }\n    });\n  }\n  return cookies;\n}\n```\n\n出力された結果は連想配列的に利用して、[`join()`](Array.prototype.join() - JavaScript | MDN)や[`toString()`](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Array/toString)で文字列に直してあげると使いやすいです。\n\n###動作イメージ\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/103957/083bcce6-d217-e14c-edce-2ec8a76ea91b.png)\n\n![image.png](https://qiita-image-store.s3.amazonaws.com/0/103957/d8a01bfd-d8bf-2a6c-e1e3-47f8572a7570.png)\n\n\n**完**\n","coediting":false,"created_at":"2017-05-18T00:48:17+09:00","group":null,"id":"925a7cb04276d9f916d7","private":false,"tags":[{"name":"JavaScript","versions":[]}],"title":"Cookieをオブジェクト形式で取得するコード","updated_at":"2017-05-18T01:08:43+09:00","url":"http://qiita.com/AQRiL_1132/items/925a7cb04276d9f916d7","user":{"description":"Webマーケティング会社のマーケッター兼エンジニアもどき。\r\n主に初心者・ノンプログラマ向けに情報共有します。","facebook_id":"shogonishimura1011","followees_count":15,"followers_count":8,"github_login_name":null,"id":"AQRiL_1132","items_count":16,"linkedin_id":"aqril","location":"Fukuoka,Japan","name":"西村 彰悟","organization":"アンダス株式会社","permanent_id":103957,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/103957/profile-images/1483768234","twitter_screen_name":"AQRiL_1132","website_url":"http://www.andus.co.jp/"}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"tldr\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tldr\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTL;DR\u003c/h1\u003e\n\n\u003cp\u003e\u003ccode\u003etig\u003c/code\u003eが以下のエラーを吐いて動かなかったのでいろいろ試した。\u003cbr\u003e\n結論からいってしまうとHomebrewで使用しているreadlineのバージョンをスイッチすればだいたいOK\u003cbr\u003e\nそのあとワーニングが出る場合の対処は後述する。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"対象読者-or-前提条件-or-環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E8%B1%A1%E8%AA%AD%E8%80%85-or-%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6-or-%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対象読者 or 前提条件 or 環境\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"対象者\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E8%B1%A1%E8%80%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対象者:\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e気軽に\u003ccode\u003ebrew update\u003c/code\u003eしてしまい急にtigが動かなくなった人\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"前提条件\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提条件:\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003ebrew経由でreadline入れてる\u003c/li\u003e\n\u003cli\u003ebrew経由でtig入れてる\u003c/li\u003e\n\u003cli\u003e気軽に\u003ccode\u003ebrew update\u003c/code\u003eした OR ついつい間違って\u003ccode\u003ebrew update\u003c/code\u003eしてしまった\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境:\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003emacOS 10.12.4\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"経緯\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%8C%E7%B7%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e経緯:\u003c/h2\u003e\n\n\u003cp\u003e元々のエラーは↓\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e# tigで使用しようとしているlibreadline.x.dylibが見つかんねえぞ！と怒られてる\ndyld: Library not loaded: /usr/local/opt/readline/lib/libreadline.7.dylib\n  Referenced from: /usr/local/bin/tig\n  Reason: image not found\nzsh: abort      tig\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003ereadline\u003c/code\u003eは確かすでに入れてあったしこの前\u003ccode\u003etig\u003c/code\u003eコマンドを実行したときは普通に動いてたよなー確かと記憶を探る。\u003cbr\u003e\nそういえばさっき\u003ccode\u003ebrew update\u003c/code\u003eしたから動かなくなったのかなー？\u003cbr\u003e\n…と思い「Library not loaded tig」とかで検索しいくつかのサイトを参考にした。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://chaika.hatenablog.com/entry/2014/06/11/170441\" rel=\"nofollow noopener\" target=\"_blank\"\u003eMac OS10.9にしたらHomebrewで入れていたコマンドとか、いろいろ動かなくなった。\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://blog.skylarking.me/2016/10/07/psql-readline-error/\" rel=\"nofollow noopener\" target=\"_blank\"\u003epsqlしたらreadlineのエラーが出るようになって\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eで結局原因としてはやはりというか当たり前だが\u003ccode\u003ebrew update\u003c/code\u003eしたことによって\u003ccode\u003etig\u003c/code\u003eが求めている\u003ccode\u003ereadline\u003c/code\u003eのバージョンが上がったということだった。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003ebrew switch readline 7.x.x\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eなので↑のコマンド叩いて問題解決！\u003cbr\u003e\nとは残念ながらならなかった…。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"tigのwarningを消す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tig%E3%81%AEwarning%E3%82%92%E6%B6%88%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003etig\u003c/code\u003eのwarningを消す:\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003etig warning: /usr/local/etc/tigrc:90: status-untracked-dirs has been renamed to status-show-untracked-dirs\ntig warning: Errors while loading /usr/local/etc/tigrc.\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e今度は↑のワーニングが出るようになった。\u003cbr\u003e\nなおワーニングなのでtigそのものは動く、動くんだけどワーニングが表示されたままだと気持ち悪い。\u003cbr\u003e\nちなみにどうでもいいがワーニングとカタカナで書くのも書かれているのも気持ち悪い。\u003cbr\u003e\n置換が面倒なのでこのまま押し通すが。\u003c/p\u003e\n\n\u003cp\u003eとりあえず素直にワーニング文を読んだところ、\u003ccode\u003e/usr/local/etc/tigrc\u003c/code\u003e の90行目がリネームされているのはわかった。\u003c/p\u003e\n\n\u003cp\u003e出来れば直接いじらずになんとかしたかったがググったりインストール/アンインストールしてもどうにもならんかった。\u003cbr\u003e\nbrewだけで問題を解決するのは難しそう\u0026amp;そこまで時間をかけるほどの価値がないので↓のコードを書き換えた。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"/usr/local/etc/tigrc\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e# 元々は↓だったがコメントアウトしてリネーム後のものに書き換えた\n# set status-untracked-dirs   = yes       # Show files in untracked directories? (status)\nset status-show-untracked-dirs  = yes     # Show files in untracked directories? (status)\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eそしてようやくエラーやワーニングに煩わされない快適なtig ライフが戻ってきた。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"あとがき\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%82%E3%81%A8%E3%81%8C%E3%81%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eあとがき\u003c/h1\u003e\n\n\u003cp\u003ehomebrewは便利なんだけどもこの手の依存関係で時間を取られることがまれにあって鬱陶しい。\u003cbr\u003e\n依存関係も諸々含めて解決して欲しい。\u003cbr\u003e\n本質的でないところで時間を取られる感じがしてすごく嫌だ。\u003cbr\u003e\nとはいえこの手の開発ツールに対する自分の理解度が低い問題もあるので一概に攻められはしないのだが。\u003c/p\u003e\n","body":"# TL;DR\n\n`tig`が以下のエラーを吐いて動かなかったのでいろいろ試した。\n結論からいってしまうとHomebrewで使用しているreadlineのバージョンをスイッチすればだいたいOK\nそのあとワーニングが出る場合の対処は後述する。\n\n\n# 対象読者 or 前提条件 or 環境\n## 対象者:\n\n- 気軽に`brew update`してしまい急にtigが動かなくなった人\n\n## 前提条件:\n\n- brew経由でreadline入れてる\n- brew経由でtig入れてる\n- 気軽に`brew update`した OR ついつい間違って`brew update`してしまった\n\n## 環境:\n\n- macOS 10.12.4\n\n## 経緯:\n\n元々のエラーは↓\n\n```\n# tigで使用しようとしているlibreadline.x.dylibが見つかんねえぞ！と怒られてる\ndyld: Library not loaded: /usr/local/opt/readline/lib/libreadline.7.dylib\n  Referenced from: /usr/local/bin/tig\n  Reason: image not found\nzsh: abort      tig\n```\n\n`readline`は確かすでに入れてあったしこの前`tig`コマンドを実行したときは普通に動いてたよなー確かと記憶を探る。\nそういえばさっき`brew update`したから動かなくなったのかなー？\n…と思い「Library not loaded tig」とかで検索しいくつかのサイトを参考にした。\n\n- [Mac OS10.9にしたらHomebrewで入れていたコマンドとか、いろいろ動かなくなった。](http://chaika.hatenablog.com/entry/2014/06/11/170441)\n- [psqlしたらreadlineのエラーが出るようになって](http://blog.skylarking.me/2016/10/07/psql-readline-error/)\n\nで結局原因としてはやはりというか当たり前だが`brew update`したことによって`tig`が求めている`readline`のバージョンが上がったということだった。\n\n```\nbrew switch readline 7.x.x\n```\n\nなので↑のコマンド叩いて問題解決！\nとは残念ながらならなかった…。\n\n## `tig`のwarningを消す:\n\n```\ntig warning: /usr/local/etc/tigrc:90: status-untracked-dirs has been renamed to status-show-untracked-dirs\ntig warning: Errors while loading /usr/local/etc/tigrc.\n```\n\n今度は↑のワーニングが出るようになった。\nなおワーニングなのでtigそのものは動く、動くんだけどワーニングが表示されたままだと気持ち悪い。\nちなみにどうでもいいがワーニングとカタカナで書くのも書かれているのも気持ち悪い。\n置換が面倒なのでこのまま押し通すが。\n\nとりあえず素直にワーニング文を読んだところ、`/usr/local/etc/tigrc` の90行目がリネームされているのはわかった。\n\n出来れば直接いじらずになんとかしたかったがググったりインストール/アンインストールしてもどうにもならんかった。\nbrewだけで問題を解決するのは難しそう\u0026そこまで時間をかけるほどの価値がないので↓のコードを書き換えた。\n\n```/usr/local/etc/tigrc\n# 元々は↓だったがコメントアウトしてリネーム後のものに書き換えた\n# set status-untracked-dirs   = yes       # Show files in untracked directories? (status)\nset status-show-untracked-dirs  = yes     # Show files in untracked directories? (status)\n```\n\nそしてようやくエラーやワーニングに煩わされない快適なtig ライフが戻ってきた。\n\n# あとがき\n\nhomebrewは便利なんだけどもこの手の依存関係で時間を取られることがまれにあって鬱陶しい。\n依存関係も諸々含めて解決して欲しい。\n本質的でないところで時間を取られる感じがしてすごく嫌だ。\nとはいえこの手の開発ツールに対する自分の理解度が低い問題もあるので一概に攻められはしないのだが。\n","coediting":false,"created_at":"2017-05-18T00:46:39+09:00","group":null,"id":"e36faff2d7e4320f2bf3","private":false,"tags":[{"name":"Mac","versions":[]},{"name":"homebrew","versions":[]},{"name":"tig","versions":[]}],"title":"tigがLibrary not loadedとエラーになってしまう現象の対応","updated_at":"2017-05-18T00:46:39+09:00","url":"http://qiita.com/luccafort/items/e36faff2d7e4320f2bf3","user":{"description":"Web Application Engineer.\r\ni love php, go-lang, mysql.","facebook_id":"","followees_count":85,"followers_count":30,"github_login_name":"luccafort","id":"luccafort","items_count":9,"linkedin_id":"","location":"kyoto, japan","name":"","organization":"","permanent_id":18493,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/18493/profile-images/1473682449","twitter_screen_name":"lucca0show","website_url":""}},{"rendered_body":"\u003cp\u003e１年目の駆け出しプログラマです。復習を兼ねて、自分用メモを整理して公開したものです。\u003cbr\u003e\n間違っている可能性も高いのでお気を付け下さい。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"心構え\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%83%E6%A7%8B%E3%81%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e心構え\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e学校で習った数学のイメージでやると違いにビビる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ex\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとか\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"n\"\u003ecount\u003c/span\u003e \u003cspan class=\"o\"\u003e+=\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとか、プログラマとしては「ああ、はい」といった感じなのだが初めてプログラミングを始めたばかりの人からすると「！？？」となることがある。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eこのように一般的な数学の演算子の意味と異なることがあるので、基本的には別の意味と思って臨むことが必要。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eその上で共通な所を見出していけばよい。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"式の構成要素\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BC%8F%E3%81%AE%E6%A7%8B%E6%88%90%E8%A6%81%E7%B4%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e式の構成要素\u003c/h2\u003e\n\n\u003col\u003e\n\u003cli\u003e演算子（Operater）：「＋」「－」「＝」など\u003c/li\u003e\n\u003cli\u003eオペランド（Operand）：演算子以外のこと\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"リテラルliteral\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%86%E3%83%A9%E3%83%ABliteral\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリテラル（Literal）\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eソースコードに記述されている値であり、それ自体が要素となるもの\u003c/li\u003e\n\u003cli\u003eオペランドとの違いは、リテラルは記述された値そのものが要素となるが、オペランドは記述された値が要素そのものとは限らない\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e          \u003cspan class=\"c1\"\u003e//10は整数リテラル\u003c/span\u003e\n\u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e27\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e     \u003cspan class=\"c1\"\u003e//a,b,27はオペランドだが、リテラルは27のみ\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003eboolean\u003c/span\u003e \u003cspan class=\"n\"\u003eflag\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eflag\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e     \u003cspan class=\"c1\"\u003e//trueはbooleanリテラル\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"評価\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A9%95%E4%BE%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e評価\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e演算子は周囲のオペランドを使って計算を行い、オペランドと共に値へと変化する\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e例\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003enumA\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003enumB\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eans\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003enumA\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003enumB\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 演算子+がnumAとnumBと共に値3へと変化する。\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enumA\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"n\"\u003enumB\u003c/span\u003e\u003cspan class=\"o\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"numAはnumBより小さい\"\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 演算子\u0026gt;がnumAとnumBと共にtrueへと変化する\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enumA\u003c/span\u003e \u003cspan class=\"o\"\u003e==\u003c/span\u003e \u003cspan class=\"n\"\u003enumB\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 実際に文字出力すると、結果はfalseになる\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"演算子\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%BC%94%E7%AE%97%E5%AD%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e演算子\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003e右記サイトが分かりやすい（丸投げ）。参考）\u003ca href=\"http://www.javaroad.jp/index_basic.htm#enzan\" rel=\"nofollow noopener\" target=\"_blank\"\u003eJavaの道：演算子\u003c/a\u003e\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eざっと表にまとめておく\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e種類\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e演算子\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e意味（ざっくり）\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e備考\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e算術演算子\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e+\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e足す\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e-\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e引く\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e*\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e掛ける\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e/\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e割る\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e%\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e余りを求める\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e代入演算子\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e右辺を左辺に代入する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e+=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e左辺に右辺を足した値を代入する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e-=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e左辺から右辺を割った値を代入する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e*=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e左辺に右辺を掛けた値を代入する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e/=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e左辺から右辺を割った値を代入する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e%=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e左辺割る右辺の余りを代入する\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eインクリメント演算子\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e++\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e値を1増加させる\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003ea++と++aで意味が異なる\u003cbr\u003e†注1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003eデクリメント演算子\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e--\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e値を1減少させる\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003ea--と--aで意味が異なる\u003cbr\u003e†注1\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e比較演算子\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e==\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e等しい\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e†注2\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e!=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e等しくない\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u0026gt;\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e大きい\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u0026gt;=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e以上\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u0026lt;\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e小さい\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u0026lt;=\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e以下\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e論理演算子\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u0026amp;\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eかつ\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u0026amp;\u0026amp;\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eかつ\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e短絡評価を行う\u003cbr\u003e†注3\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e|\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e||\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eまたは\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e短絡評価を行う\u003cbr\u003e†注3\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e!\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e否定\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e†注1：a++は値を代入してから+1する。++aは+1してから代入する。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e例\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003eb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"o\"\u003e++);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 結果は0\u003c/span\u003e\n\u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(++\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 結果は1\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 結果は1\u003c/span\u003e\n\u003cspan class=\"n\"\u003eSystem\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eout\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eprintln\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eb\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 結果は1\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eでも実際\u003ccode\u003ei++;\u003c/code\u003eとか単独で見ることがほとんどで、区別できないと駄目ってコードは（今の所）見たことないし書いたこともない。\u003cbr\u003e\n頭の片隅において置けばいいと思う。\u003c/p\u003e\n\n\u003cp\u003e†注2：オブジェクトの比較を行う場合注意が必要。参考）\u003ca href=\"http://www.okapiproject.com/java/java_ref/foundation/manual_06.htm\" rel=\"nofollow noopener\" target=\"_blank\"\u003eオブジェクトの比較\u003c/a\u003e\u003cbr\u003e\n†注3：短絡評価とは\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003enum\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003enum\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"n\"\u003enum\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"o\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 処理Ａ \u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 処理Ｂ\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eのような処理があった場合、num \u0026gt; 2 の評価が終わった時点でtrueとなることが確定しているためnum \u0026gt; 7の評価を行わない。\u003cbr\u003e\nこのように評価が確定した時点で、以降の不要な評価を行わないことを\u003cstrong\u003e\u003cem\u003e短絡評価\u003c/em\u003e\u003c/strong\u003eという。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"三項演算子\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%89%E9%A0%85%E6%BC%94%E7%AE%97%E5%AD%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e三項演算子\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e下記のように使用する\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e書き方\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e条件\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eTRUEの場合の返却値\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eFALSEの場合の返却値\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003e安易に使用すると可読性が悪い、と言われるため注意が必要。慣れるまでは読むとき専用で覚えるとよい\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"o\"\u003e?\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e \u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 意味は以下と同じ\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ea\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"n\"\u003en\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e参考）\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/stkdev/items/cbb83cbd9921b9f755a4\"\u003e三項演算子は悪か？\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n","body":"１年目の駆け出しプログラマです。復習を兼ねて、自分用メモを整理して公開したものです。\n間違っている可能性も高いのでお気を付け下さい。\n\n## 心構え\n- 学校で習った数学のイメージでやると違いにビビる\n\n```java\nx = x + 1;\n```\nとか\n\n```java\ncount += 2;\n```\n\nとか、プログラマとしては「ああ、はい」といった感じなのだが初めてプログラミングを始めたばかりの人からすると「！？？」となることがある。\n\n- このように一般的な数学の演算子の意味と異なることがあるので、基本的には別の意味と思って臨むことが必要。\n\nその上で共通な所を見出していけばよい。\n\n## 式の構成要素\n1. 演算子（Operater）：「＋」「－」「＝」など\n2. オペランド（Operand）：演算子以外のこと\n\n## リテラル（Literal）\n- ソースコードに記述されている値であり、それ自体が要素となるもの\n- オペランドとの違いは、リテラルは記述された値そのものが要素となるが、オペランドは記述された値が要素そのものとは限らない\n\n```java\nint a , b;\na = 10;          //10は整数リテラル\nb = a + 27;     //a,b,27はオペランドだが、リテラルは27のみ\n\nboolean flag;\nflag = true;     //trueはbooleanリテラル\n```\n\n## 評価\n\n- 演算子は周囲のオペランドを使って計算を行い、オペランドと共に値へと変化する\n\n```java:例\nint numA = 1;\nint numB = 2;\nint ans = numA + numB;\n// 演算子+がnumAとnumBと共に値3へと変化する。\n\nif(numA \u003c numB){\n    System.out.println(\"numAはnumBより小さい\");\n}\n// 演算子\u003eがnumAとnumBと共にtrueへと変化する\n\nSystem.out.println(numA == numB);\n// 実際に文字出力すると、結果はfalseになる\n```\n\n## 演算子\n\n- 右記サイトが分かりやすい（丸投げ）。参考）[Javaの道：演算子](http://www.javaroad.jp/index_basic.htm#enzan)\n\n- ざっと表にまとめておく\n\n|種類|演算子|意味（ざっくり）|備考\n|:-:|:-:|:--|:--|\n|算術演算子|+|足す|\n||-|引く|\n||*|掛ける|\n||/|割る|\n||%|余りを求める|\n|代入演算子|=|右辺を左辺に代入する|\n||+=|左辺に右辺を足した値を代入する|\n||-=|左辺から右辺を割った値を代入する|\n||*=|左辺に右辺を掛けた値を代入する|\n||/=|左辺から右辺を割った値を代入する|\n||%=|左辺割る右辺の余りを代入する|\n|インクリメント演算子|++|値を1増加させる|a++と++aで意味が異なる\u003cbr\u003e†注1\n|デクリメント演算子|--|値を1減少させる|a--と--aで意味が異なる\u003cbr\u003e†注1\n|比較演算子|==|等しい|†注2\n||!=|等しくない|\n||\u003e|大きい|\n||\u003e=|以上|\n||\u003c|小さい|\n||\u003c=|以下|\n論理演算子|\u0026|かつ|\n||\u0026\u0026|かつ|短絡評価を行う\u003cbr\u003e†注3\n|| \u0026#124;|||\n||\u0026#124;\u0026#124;|または|短絡評価を行う\u003cbr\u003e†注3\n||!|否定|\n\n†注1：a++は値を代入してから+1する。++aは+1してから代入する。\n\n```java:例\nint a = 0;\nint b = 0;\nSystem.out.println(a++);    // 結果は0\nSystem.out.println(++b);    // 結果は1\n\nSystem.out.println(a);    // 結果は1\nSystem.out.println(b);    // 結果は1\n```\n\nでも実際```i++;```とか単独で見ることがほとんどで、区別できないと駄目ってコードは（今の所）見たことないし書いたこともない。\n頭の片隅において置けばいいと思う。\n\n†注2：オブジェクトの比較を行う場合注意が必要。参考）[オブジェクトの比較](http://www.okapiproject.com/java/java_ref/foundation/manual_06.htm)\n†注3：短絡評価とは\n\n```java\nint num = 5;\nif(num \u003e 2 || num \u003e 7){\n    // 処理Ａ \n} else {\n    // 処理Ｂ\n}\n```\n\nのような処理があった場合、num \u003e 2 の評価が終わった時点でtrueとなることが確定しているためnum \u003e 7の評価を行わない。\nこのように評価が確定した時点で、以降の不要な評価を行わないことを___短絡評価___という。\n\n## 三項演算子\n- 下記のように使用する\n\n```java:書き方\n[条件] ? [TRUEの場合の返却値] : [FALSEの場合の返却値] ;\n```\n\n- 安易に使用すると可読性が悪い、と言われるため注意が必要。慣れるまでは読むとき専用で覚えるとよい\n\n```java\nint n = a \u003e 0 ? 1 : 0 ;\n// 意味は以下と同じ\n\nint n;\nif(a \u003e 0){\n    n = 1;\n} else {\n    n = 0;\n}\n```\n\n参考）\n\n- [三項演算子は悪か？](http://qiita.com/stkdev/items/cbb83cbd9921b9f755a4)\n","coediting":false,"created_at":"2017-05-18T00:44:18+09:00","group":null,"id":"e1e4b62f4351d4c0c070","private":false,"tags":[{"name":"Java","versions":[]},{"name":"Java入門","versions":[]}],"title":"【Java入門】javaの演算の基礎（初学者向け）","updated_at":"2017-05-18T00:59:53+09:00","url":"http://qiita.com/miyabi1452/items/e1e4b62f4351d4c0c070","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":"miyabi1452","id":"miyabi1452","items_count":3,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":150463,"profile_image_url":"https://avatars.githubusercontent.com/u/20530212?v=3","twitter_screen_name":null,"website_url":""}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/remew/nullsafe-object\" rel=\"nofollow noopener\" target=\"_blank\"\u003enullsafe-object\u003c/a\u003eというnpmライブラリを\u003ca href=\"https://www.npmjs.com/package/nullsafe-object\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公開\u003c/a\u003eしたので紹介します（手前味噌かーい）。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h2\u003e\n\n\u003cp\u003eオブジェクトの深い階層のプロパティに \u003cem\u003e自然な形で安全に\u003c/em\u003e アクセスする方法を提供するライブラリです。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"example\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#example\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eExample\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"kr\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eNullSafeObject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003erequire\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'nullsafe-object'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"kr\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esrcObj\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{};\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 空のオブジェクトなので普通に下のようにアクセスすると\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// Uncaught TypeError: Cannot read property 'info' of undefined\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// とか言いながら死ぬ\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// console.log(srcObj.deep.property.access);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// NullSafeObjectで包む\u003c/span\u003e\n\u003cspan class=\"kr\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eobj\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eNullSafeObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003esrcObj\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 深い階層にアクセスして unwrap() メソッドで結果を取得できる\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edeep\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eproperty\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eaccess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eunwrap\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e \u003cspan class=\"c1\"\u003e// =\u0026gt; null\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 存在するプロパティにももちろんアクセスできる\u003c/span\u003e\n\u003cspan class=\"kr\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esrcObj2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eexists\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003eproperty\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'some string'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"kr\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eobj2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eNullSafeObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ewrap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003esrcObj2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// unwrap() メソッドは必須\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eobj2\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eexists\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eproperty\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eunwrap\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e \u003cspan class=\"c1\"\u003e// =\u0026gt; 'some string'\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// githubのREADMEに書くの忘れてたけどちゃんと代入もできる\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eobj\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003enew_property\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 元のオブジェクトに反映されている\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003esrcObj\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003enew_property\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// =\u0026gt; 'hoge'\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"インストール方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインストール方法\u003c/h2\u003e\n\n\u003cp\u003eいつもの\u003cbr\u003e\n\u003ccode\u003enpm install --save nullsafe-object\u003c/code\u003e\u003cbr\u003e\n\u003ccode\u003eyarn add nullsafe-object\u003c/code\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"実現方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E7%8F%BE%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実現方法\u003c/h2\u003e\n\n\u003cp\u003eES2015で追加された\u003ccode\u003eProxy\u003c/code\u003eを使用しています。\u003ccode\u003eProxy\u003c/code\u003eについては\u003ca href=\"http://qiita.com/ToshihiroGoto/items/36a4b355ba274ab25b46\" id=\"reference-e82f05491e4a64c1780f\"\u003eこちら\u003c/a\u003eの記事が参考になります。あとはMDNとかを見ていただきたいきもち。\u003cbr\u003e\n対応ブラウザは\u003ca href=\"http://caniuse.com/#search=Proxy\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこのへん\u003c/a\u003eを見ると良いと思います。\u003cdel\u003eIE11ってなんですか？。\u003c/del\u003e\u003cbr\u003e\n\u003ccode\u003eNullSafeObject.wrap\u003c/code\u003eは内部で\u003ccode\u003eNullSafeObject\u003c/code\u003eのインスタンスを作成しており、作成されたインスタンスを\u003ccode\u003eProxy\u003c/code\u003eに渡してプロパティアクセスをフックする処理が書いてあるみたいな感じです。\u003cbr\u003e\nプロパティアクセスをフックすると「どのキーにアクセスしたか」がわかるので、アクセスしたキーを順番に保存していきます。\u003cbr\u003e\n\u003ccode\u003eNullSafeObject#unwrap\u003c/code\u003eを呼び出すと、元のオブジェクトから、保存したキーを順番にたどっていき、途中で\u003ccode\u003enull\u003c/code\u003eだったり\u003ccode\u003eundefined\u003c/code\u003eだったりしたら\u003ccode\u003enull\u003c/code\u003eを返すようにしています。\u003cbr\u003e\n代入もフックできるので、いいかんじにやってます（キーボード打つのにつかれてきた人が書く解説）（そのうち編集しなきゃ）。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"なぜ作ろうかと思ったか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%9C%E4%BD%9C%E3%82%8D%E3%81%86%E3%81%8B%E3%81%A8%E6%80%9D%E3%81%A3%E3%81%9F%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなぜ作ろうかと思ったか\u003c/h2\u003e\n\n\u003cp\u003eぶっちゃけ\u003ccode\u003eProxy\u003c/code\u003eで何か面白いことできないかなって思ったのが9割くらいですね。\u003cbr\u003e\nあとは前々から途中に\u003ccode\u003enull\u003c/code\u003eやら\u003ccode\u003eundefined\u003c/code\u003eがあってしぬみたいなことがあってストレスが溜まってたのが残りの1割（？）\u003cbr\u003e\n（実は、全然難しい実装ではないのになんで作られていなかったんだろうと心配になっています。知らないだけで類似ライブラリあったのかな・・・）\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"これから対応したい機能\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%82%8C%E3%81%8B%E3%82%89%E5%AF%BE%E5%BF%9C%E3%81%97%E3%81%9F%E3%81%84%E6%A9%9F%E8%83%BD\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eこれから対応したい機能\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003eArray#map\u003c/code\u003eとかの呼び出しにも対応したい（できるのか不明）（テストコードだけ書いて対応してないせいでテストがしんでる）\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003eobj._root\u003c/code\u003e \u003ccode\u003eobj._path\u003c/code\u003eとかやると、もとのオブジェクトの\u003ccode\u003e_root\u003c/code\u003eや\u003ccode\u003e_path\u003c/code\u003eではなく、クラス内部で使用している管理用オブジェクトに触れることができてしまうのでそれをなんとかしたい（方針は立っていて、\u003ccode\u003eSymbol\u003c/code\u003eを使えば良さそう）\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"さいごに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eさいごに\u003c/h2\u003e\n\n\u003cp\u003e使用感の報告やIssueやプルリクをいただけると泣いて喜びます！\u003c/p\u003e\n","body":"# はじめに\n[nullsafe-object](https://github.com/remew/nullsafe-object)というnpmライブラリを[公開](https://www.npmjs.com/package/nullsafe-object)したので紹介します（手前味噌かーい）。\n\n## 概要\nオブジェクトの深い階層のプロパティに *自然な形で安全に* アクセスする方法を提供するライブラリです。\n\n## Example\n```js\nconst NullSafeObject = require('nullsafe-object');\nconst srcObj = {};\n\n// 空のオブジェクトなので普通に下のようにアクセスすると\n// Uncaught TypeError: Cannot read property 'info' of undefined\n// とか言いながら死ぬ\n// console.log(srcObj.deep.property.access);\n\n// NullSafeObjectで包む\nconst obj = NullSafeObject.wrap(srcObj);\n\n// 深い階層にアクセスして unwrap() メソッドで結果を取得できる\nconsole.log(obj.deep.property.access.unwrap()); // =\u003e null\n\n// 存在するプロパティにももちろんアクセスできる\nconst srcObj2 = {\n    exists: {\n        property: 'some string'\n    }\n};\nconst obj2 = NullSafeObject.wrap(srcObj2);\n\n// unwrap() メソッドは必須\nconsole.log(obj2.exists.property.unwrap()); // =\u003e 'some string'\n\n// githubのREADMEに書くの忘れてたけどちゃんと代入もできる\nobj.new_property = 'hoge';\n// 元のオブジェクトに反映されている\nconsole.log(srcObj.new_property); // =\u003e 'hoge'\n```\n## インストール方法\nいつもの\n`npm install --save nullsafe-object`\n`yarn add nullsafe-object`\n\n## 実現方法\nES2015で追加された`Proxy`を使用しています。`Proxy`については[こちら](http://qiita.com/ToshihiroGoto/items/36a4b355ba274ab25b46)の記事が参考になります。あとはMDNとかを見ていただきたいきもち。\n対応ブラウザは[このへん](http://caniuse.com/#search=Proxy)を見ると良いと思います。~~IE11ってなんですか？。~~\n`NullSafeObject.wrap`は内部で`NullSafeObject`のインスタンスを作成しており、作成されたインスタンスを`Proxy`に渡してプロパティアクセスをフックする処理が書いてあるみたいな感じです。\nプロパティアクセスをフックすると「どのキーにアクセスしたか」がわかるので、アクセスしたキーを順番に保存していきます。\n`NullSafeObject#unwrap`を呼び出すと、元のオブジェクトから、保存したキーを順番にたどっていき、途中で`null`だったり`undefined`だったりしたら`null`を返すようにしています。\n代入もフックできるので、いいかんじにやってます（キーボード打つのにつかれてきた人が書く解説）（そのうち編集しなきゃ）。\n\n## なぜ作ろうかと思ったか\nぶっちゃけ`Proxy`で何か面白いことできないかなって思ったのが9割くらいですね。\nあとは前々から途中に`null`やら`undefined`があってしぬみたいなことがあってストレスが溜まってたのが残りの1割（？）\n（実は、全然難しい実装ではないのになんで作られていなかったんだろうと心配になっています。知らないだけで類似ライブラリあったのかな・・・）\n\n## これから対応したい機能\n- `Array#map`とかの呼び出しにも対応したい（できるのか不明）（テストコードだけ書いて対応してないせいでテストがしんでる）\n- `obj._root` `obj._path`とかやると、もとのオブジェクトの`_root`や`_path`ではなく、クラス内部で使用している管理用オブジェクトに触れることができてしまうのでそれをなんとかしたい（方針は立っていて、`Symbol`を使えば良さそう）\n\n## さいごに\n使用感の報告やIssueやプルリクをいただけると泣いて喜びます！\n","coediting":false,"created_at":"2017-05-18T00:43:11+09:00","group":null,"id":"156382c906a60535cc4d","private":false,"tags":[{"name":"JavaScript","versions":[]},{"name":"null安全","versions":[]}],"title":"JavaScriptでオブジェクトの深い階層に安全にアクセスする","updated_at":"2017-05-18T00:43:11+09:00","url":"http://qiita.com/remew/items/156382c906a60535cc4d","user":{"description":"初心者なので記事を読むばかり。\r\nいつか投稿できるようになりたい。","facebook_id":"","followees_count":4,"followers_count":5,"github_login_name":"remew","id":"remew","items_count":3,"linkedin_id":"","location":"Okinawa","name":"れみゅー","organization":"","permanent_id":94164,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/94164/profile-images/1473706185","twitter_screen_name":"_remew_","website_url":"http://remew.net"}},{"rendered_body":"\u003cp\u003eRuby on Railsでコントローラーの中でアクションは違えど\u003cbr\u003e\n同じHTTPメソッドを使っている場合にどう住み分けをするかという話。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e準備\u003c/h3\u003e\n\n\u003cp\u003escaffoldで本（Book）についてのコードを自動生成します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ rails g scaffold book title\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e本についての情報をすべてCSVでダウンロードする\u003ccode\u003eBooksController#download\u003c/code\u003eを作成します。\u003cbr\u003e\nルーティングは\u003ccode\u003eget\u003c/code\u003eを使って追加します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"no\"\u003eRails\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eapplication\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eroutes\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edraw\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eresources\u003c/span\u003e \u003cspan class=\"ss\"\u003e:books\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s1\"\u003e'books/download'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003e/books/download\u003c/code\u003eにアクセスすると対応する\u003ccode\u003eBooksController#show\u003c/code\u003eが実行されます。\u003cbr\u003e\nルーティングはroutes.rbの上にある設定値が優先されるため\u003ccode\u003edownload\u003c/code\u003eがあたかも\u003ccode\u003eid\u003c/code\u003eのように処理されて例外が発生しています。\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/137044/a3aa57c5-4a7f-d4b7-0396-9aab2c2b900d.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/137044/a3aa57c5-4a7f-d4b7-0396-9aab2c2b900d.png\" alt=\"Error#1.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"対策\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E7%AD%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対策\u003c/h3\u003e\n\n\u003cp\u003eベストではないですが、URLフォーマットを特定の形式に制限するとうまくいきました。\u003cbr\u003e\n\u003ccode\u003e:id\u003c/code\u003eはすべて整数値であること期待するようにします。\u003c/p\u003e\n\n\u003cp\u003eつまり、\u003ccode\u003e/books/5\u003c/code\u003eといった\u003ccode\u003e:id\u003c/code\u003eが整数なアクセスであれば\u003ccode\u003eBooksController#show\u003c/code\u003eを実行するように制限すると、\u003cbr\u003e\nその他のHTTPメソッドがGETであるルーティングはroutes.rbに準ずるようになりました。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"no\"\u003eRails\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eapplication\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eroutes\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edraw\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eresources\u003c/span\u003e \u003cspan class=\"ss\"\u003e:books\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003econstraints\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"sr\"\u003e/[0-9]+/\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eget\u003c/span\u003e \u003cspan class=\"s1\"\u003e'books/download'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eformat\u003c/code\u003eを利用してアクションを切り替えてもいいかもしれません。\u003cbr\u003e\n\u003cdel\u003eCSVダウンロードだったら別にコントローラを作れという説もあります。\u003c/del\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"検証環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A4%9C%E8%A8%BC%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e検証環境\u003c/h3\u003e\n\n\u003cp\u003eRuby 2.4\u003cbr\u003e\nRails 5.1.1\u003c/p\u003e\n","body":"Ruby on Railsでコントローラーの中でアクションは違えど\n同じHTTPメソッドを使っている場合にどう住み分けをするかという話。\n\n### 準備\nscaffoldで本（Book）についてのコードを自動生成します。\n\n```\n$ rails g scaffold book title\n```\n\n本についての情報をすべてCSVでダウンロードする`BooksController#download`を作成します。\nルーティングは`get`を使って追加します。\n\n```ruby\nRails.application.routes.draw do\n  resources :books\n  get 'books/download'\nend\n```\n\n`/books/download`にアクセスすると対応する`BooksController#show`が実行されます。\nルーティングはroutes.rbの上にある設定値が優先されるため`download`があたかも`id`のように処理されて例外が発生しています。\n\n![Error#1.png](https://qiita-image-store.s3.amazonaws.com/0/137044/a3aa57c5-4a7f-d4b7-0396-9aab2c2b900d.png)\n\n### 対策\nベストではないですが、URLフォーマットを特定の形式に制限するとうまくいきました。\n`:id`はすべて整数値であること期待するようにします。\n\nつまり、`/books/5`といった`:id`が整数なアクセスであれば`BooksController#show`を実行するように制限すると、\nその他のHTTPメソッドがGETであるルーティングはroutes.rbに準ずるようになりました。\n\n```ruby\nRails.application.routes.draw do\n  resources :books, constraints: {id: /[0-9]+/}\n  get 'books/download'\nend\n```\n\n`format`を利用してアクションを切り替えてもいいかもしれません。\n~~CSVダウンロードだったら別にコントローラを作れという説もあります。~~\n\n### 検証環境\nRuby 2.4\nRails 5.1.1\n","coediting":false,"created_at":"2017-05-18T00:39:40+09:00","group":null,"id":"5614ce19d2672c85db69","private":false,"tags":[{"name":"Rails","versions":[]}],"title":"RoR｜GETでアクセスするアクションが複数あったらどうするか","updated_at":"2017-05-18T00:41:57+09:00","url":"http://qiita.com/opt-link/items/5614ce19d2672c85db69","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":2,"github_login_name":"opt-link","id":"opt-link","items_count":10,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":137044,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/137044/profile-images/1473720150","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cp\u003eMastodon立ち上げたらいい会社に入れると聞いて、邪な気持ちで。。。いや、Mastodonとモンストって相性よさそうだなぁと思いたち、少し乗り遅れた感をかもしだしながら、フルにAWSを使って規模拡大しても大丈夫な構成で作ってみた。\u003c/p\u003e\n\n\u003cp\u003eモンストドン (\u003ca href=\"https://monstdn.com\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://monstdn.com\u003c/a\u003e)\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e構成\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/54317/db27c905-578d-2fda-9e00-3896a0e780e5.png\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/54317/db27c905-578d-2fda-9e00-3896a0e780e5.png\" alt=\"monstdn.png\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003e最小構成のざっくり料金($1=113円、1ヶ月30日計算)\u003c/strong\u003e\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: left\"\u003eサービス\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e単価\u003c/th\u003e\n\u003cth style=\"text-align: left\"\u003e月額料金\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eALB\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e1台 × $0.0243/1H + データ転送的なの　\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e約2000円 + α\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eEC2\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e2台(t2.nano) × $0.008/1H + データ転送的なの\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e約1300円 + α\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eRDS\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e1台(db.t2.micro シングルAZ) $0.028/1H + データ転送的なの\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e約2300円 + α\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eElasticCache\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e1台(cache.t2.micro) $0.026/1H + データ転送的なの\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e約2100円 + α\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eS3Bucket\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e$0.025/GB + リクエスト数的なの\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e+ α\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003eSES\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e$0.10/1,000通あたり + データ転送的なの\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e+ α\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: left\"\u003e合計  　　　\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003e( 約7700円 + α なので )\u003c/td\u003e\n\u003ctd style=\"text-align: left\"\u003eざっくり1万ぐらい\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003e※無料枠があるので1年目はもう少しやすくできそう\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"やったこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%81%A3%E3%81%9F%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやったこと\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eAWSのアカウント作成\u003c/li\u003e\n\u003cli\u003eIAMの作成とアカウントの初期設定(二段階認証とか、パスワードポリシーとか)\u003c/li\u003e\n\u003cli\u003eRoute53でドメインを買う\u003c/li\u003e\n\u003cli\u003eSESでメール設定と制限解除申請\u003c/li\u003e\n\u003cli\u003eACMの取得(無料でHTTPS通信)\u003c/li\u003e\n\u003cli\u003eS3バケット作成(画像とかのアップロードファイルの配信用)\u003c/li\u003e\n\u003cli\u003eVPCとセキュリティグループの作成\u003c/li\u003e\n\u003cli\u003eSES、S3へアクセスする為のIAMユーザの作成\u003c/li\u003e\n\u003cli\u003eElasticCacheでRedisの作成\u003c/li\u003e\n\u003cli\u003eRDSでPostgreSQLの作成\u003c/li\u003e\n\u003cli\u003eEC2でCentOSを使ってMastodonの構築(下に詳細)とイメージ(AMI)の作成\u003c/li\u003e\n\u003cli\u003eAutoScallingの設定\u003c/li\u003e\n\u003cli\u003eALB(ApplicationLoadBalancer)の作成(ACMをつける)\u003c/li\u003e\n\u003cli\u003eRoute53でHostZoneのレコード設定\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"centosでのmastdon構築20170517現在\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#centos%E3%81%A7%E3%81%AEmastdon%E6%A7%8B%E7%AF%8920170517%E7%8F%BE%E5%9C%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCentOSでのMastdon構築(20170517現在)\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003esudo su -\nyum -y update\nyum -y install vim\n\nlocalectl set-locale LANG=ja_JP.utf8\nlocalectl set-keymap jp106\nlocalectl status\n\ntimedatectl set-timezone Asia/Tokyo\ntimedatectl status\n\ndd if=/dev/zero of=/mnt/swapfile bs=1M count=2560\nmkswap /mnt/swapfile\nswapon /mnt/swapfile\nchmod 0644 /mnt/swapfile\necho \"/mnt/swapfile                             swap                    swap    defaults                0 0\" \u0026gt;\u0026gt; /etc/fstab\nfree\n\nvim /etc/sysconfig/selinux\n　SELINUX=enforcing\n　↓\n　SELINUX=disabled\n\nsystemctl disable postfix\nsystemctl disable auditd.service\n\nyum -y install libxml2-devel ImageMagick libxslt-devel git curl nodejs file\nyum -y install epel-release\nrpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro\nrpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpm\nyum -y install ffmpeg ffmpeg-devel\n\nyum -y group install \"Development tools\"\ncurl -sL https://rpm.nodesource.com/setup_4.x | sudo bash -\n\nyum -y install nodejs\nnpm -g install yarn\n\nyum -y install postgresql postgresql-contrib postgresql-devel\nyum install -y openssl-devel readline-devel\n\nuseradd mastodon\npasswd mastodon\nsu - mastodon\ngit clone https://github.com/rbenv/rbenv.git ~/.rbenv\ncd ~/.rbenv \u0026amp;\u0026amp; src/configure \u0026amp;\u0026amp; make -C src \u0026amp;\u0026amp; cd ~\necho 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' \u0026gt;\u0026gt; ~/.bash_profile\necho 'eval \"$(rbenv init -)\"' \u0026gt;\u0026gt; ~/.bash_profile \u0026amp;\u0026amp; source ~/.bash_profile\ngit clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build\nrbenv install 2.4.1 \u0026amp;\u0026amp; rbenv global $_ \u0026amp;\u0026amp; rbenv rehash\n\n# 確認\nruby -v\n\ncd ~\ngit clone https://github.com/tootsuite/mastodon.git live\ncd live\ngit checkout $(git tag | tail -n 1)\n\ngem install bundler\nbundle install --deployment --without development test\nyarn install --pure-lockfile\n\ncp .env.production.sample .env.production\nsed -i \"/^PAPERCLIP_SECRET=$/ s/$/`rake secret`/\" .env.production\nsed -i \"/^SECRET_KEY_BASE=$/ s/$/`rake secret`/\" .env.production\nsed -i \"/^OTP_SECRET=$/ s/$/`rake secret`/\" .env.production\n\nvim .env.production\n#Redis,Postgresql,言語,SMTP,S3の設定\n\nRAILS_ENV=production bundle exec rails db:setup\nRAILS_ENV=production bundle exec rails assets:precompile\n\nexit\n\ncat \u0026lt;\u0026lt; \"_EOF_\" \u0026gt; /etc/systemd/system/mastodon-web.service\n[Unit]\nDescription=mastodon-web\nAfter=network.target\n\n[Service]\nType=simple\nUser=mastodon\nWorkingDirectory=/home/mastodon/live\nEnvironment=\"RAILS_ENV=production\"\nEnvironment=\"PORT=3000\"\nExecStart=/home/mastodon/.rbenv/shims/bundle exec puma -C config/puma.rb\nTimeoutSec=15\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n_EOF_\n\n\ncat \u0026lt;\u0026lt; \"_EOF_\" \u0026gt; /etc/systemd/system/mastodon-sidekiq.service\n[Unit]\nDescription=mastodon-sidekiq\nAfter=network.target\n\n[Service]\nType=simple\nUser=mastodon\nWorkingDirectory=/home/mastodon/live\nEnvironment=\"RAILS_ENV=production\"\nEnvironment=\"DB_POOL=5\"\nExecStart=/home/mastodon/.rbenv/shims/bundle exec sidekiq -c 5 -q default -q mailers -q pull -q push\nTimeoutSec=15\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n_EOF_\n\ncat \u0026lt;\u0026lt; \"_EOF_\" \u0026gt; /etc/systemd/system/mastodon-streaming.service\n[Unit]\nDescription=mastodon-streaming\nAfter=network.target\n\n[Service]\nType=simple\nUser=mastodon\nWorkingDirectory=/home/mastodon/live\nEnvironment=\"NODE_ENV=production\"\nEnvironment=\"PORT=4000\"\nExecStart=/usr/bin/npm run start\nTimeoutSec=15\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n_EOF_\n\nsystemctl enable mastodon-{web,sidekiq,streaming}\nsystemctl start mastodon-{web,sidekiq,streaming}\n\ncat \u0026lt;\u0026lt; \"_EOF_\" | crontab -\nRAILS_ENV=production\n@daily cd /home/mastodon/live \u0026amp;\u0026amp; /home/mastodon/.rbenv/shims/bundle exec rake mastodon:daily \u0026gt; /dev/null\n_EOF_\n\nyum -y install nginx\n\ncat \u0026lt;\u0026lt; \"_EOF_\" \u0026gt; /etc/nginx/conf.d/mastodon.conf\nmap $http_upgrade $connection_upgrade {\n  default upgrade;\n  ''      close;\n}\n\nserver {\n  listen 80;\n  listen [::]:80;\n  server_name {domainName};\n\n  keepalive_timeout    70;\n  sendfile             on;\n  client_max_body_size 0;\n\n  root /home/mastodon/live/public;\n\n  gzip on;\n  gzip_disable \"msie6\";\n  gzip_vary on;\n  gzip_proxied any;\n  gzip_comp_level 6;\n  gzip_buffers 16 8k;\n  gzip_http_version 1.1;\n  gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n  add_header Strict-Transport-Security \"max-age=31536000\";\n\n  location / {\n    try_files $uri @proxy;\n  }\n\n  location @proxy {\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto https;\n    proxy_set_header Proxy \"\";\n    proxy_pass_header Server;\n\n    proxy_pass http://127.0.0.1:3000;\n    proxy_buffering off;\n    proxy_redirect off;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection $connection_upgrade;\n\n    tcp_nodelay on;\n  }\n\n  location /api/v1/streaming {\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto https;\n    proxy_set_header Proxy \"\";\n\n    proxy_pass http://localhost:4000;\n    proxy_buffering off;\n    proxy_redirect off;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection $connection_upgrade;\n\n    tcp_nodelay on;\n  }\n\n  error_page 500 501 502 503 504 /500.html;\n}\n_EOF_\n\nsystemctl enable nginx\nsystemctl start nginx\n\n# ユーザ登録後 admin設定\nRAILS_ENV=production bundle exec rails mastodon:make_admin USERNAME={UserName}\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"メモ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%83%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメモ\u003c/h2\u003e\n\n\u003cp\u003eEC2のDiskはSSDで(swapで使う)\u003cbr\u003e\nロードバランサーはApplicationの方じゃないとwebSocketがうまくいかない\u003cbr\u003e\nコミュニティベースのシステムだからCloudFrontはあまり必要性感じなかったので使わなかった\u003cbr\u003e\n(日本向けだしS3のバケット東京リージョンにあるし、S3もかなり性能いいし)\u003cbr\u003e\nもしCloudFrontを使うなら、websocketできないからS3の前に置く感じ\u003cbr\u003e\n今回CloudFrontの利点があるとすれば\"ドメイン\"が自分の使えることぐらいかな\u003cbr\u003e\nCentOSじゃなくてAmazonLinux使いたかったけど、ffmpeg入れるのにやたら時間かかったからやめた。一応動いたけど(純正AWSが。。。)\u003cbr\u003e\nDockerはDeployまで楽そうだけど、効率よくなさそうだったのでやめた\u003cbr\u003e\nAWSでDocker使うならECSでやってみたいけど、Mastodonはすんなりできるのかなー\u003cbr\u003e\nセキュリティ的にはロードバランサーからの80番ポートしか受け付けないように制御してるから大丈夫かな。\u003cbr\u003e\nsshでのログインは同じVPC内に踏み台サーバ立ててと。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\n\u003cp\u003eここまで読んで頂きありがとうございます。\u003cbr\u003e\n技術的なことを投稿するのはこれが初めてですが、だれかのお役にたてれたら嬉しいです。\u003cbr\u003e\n普段はPHPとAWS少しいじる程度なのでいい勉強になりました。\u003cbr\u003e\nほとんど公開されている文献をもとにプラモデル感覚で作りましたので、ご指摘等あればコメント頂ければと思います。\u003cbr\u003e\n個人でのサイト運用となりますので、落ちたらごめんなさい。\u003c/p\u003e\n","body":"Mastodon立ち上げたらいい会社に入れると聞いて、邪な気持ちで。。。いや、Mastodonとモンストって相性よさそうだなぁと思いたち、少し乗り遅れた感をかもしだしながら、フルにAWSを使って規模拡大しても大丈夫な構成で作ってみた。\n\nモンストドン (https://monstdn.com)\n\n##構成\n![monstdn.png](https://qiita-image-store.s3.amazonaws.com/0/54317/db27c905-578d-2fda-9e00-3896a0e780e5.png)\n\n\n**最小構成のざっくり料金($1=113円、1ヶ月30日計算)**\n\n|サービス     |単価|月額料金|\n|:-----------|:--|:--|\n|ALB         | 1台 × $0.0243/1H + データ転送的なの　| 約2000円 + α   |\n|EC2         | 2台(t2.nano) × $0.008/1H + データ転送的なの  | 約1300円 + α |\n|RDS         | 1台(db.t2.micro シングルAZ) $0.028/1H + データ転送的なの| 約2300円 + α |\n|ElasticCache|1台(cache.t2.micro) $0.026/1H + データ転送的なの| 約2100円 + α   |\n|S3Bucket    |$0.025/GB + リクエスト数的なの | + α |\n|SES         |$0.10/1,000通あたり + データ転送的なの | + α |\n| 合計  　　　|( 約7700円 + α なので )  | ざっくり1万ぐらい|\n※無料枠があるので1年目はもう少しやすくできそう\n\n##やったこと\n- AWSのアカウント作成\n- IAMの作成とアカウントの初期設定(二段階認証とか、パスワードポリシーとか)\n- Route53でドメインを買う\n- SESでメール設定と制限解除申請\n- ACMの取得(無料でHTTPS通信)\n- S3バケット作成(画像とかのアップロードファイルの配信用)\n- VPCとセキュリティグループの作成\n- SES、S3へアクセスする為のIAMユーザの作成\n- ElasticCacheでRedisの作成\n- RDSでPostgreSQLの作成\n- EC2でCentOSを使ってMastodonの構築(下に詳細)とイメージ(AMI)の作成\n- AutoScallingの設定\n- ALB(ApplicationLoadBalancer)の作成(ACMをつける)\n- Route53でHostZoneのレコード設定\n\n##CentOSでのMastdon構築(20170517現在)\n\n```\nsudo su -\nyum -y update\nyum -y install vim\n\nlocalectl set-locale LANG=ja_JP.utf8\nlocalectl set-keymap jp106\nlocalectl status\n\ntimedatectl set-timezone Asia/Tokyo\ntimedatectl status\n\ndd if=/dev/zero of=/mnt/swapfile bs=1M count=2560\nmkswap /mnt/swapfile\nswapon /mnt/swapfile\nchmod 0644 /mnt/swapfile\necho \"/mnt/swapfile                             swap                    swap    defaults                0 0\" \u003e\u003e /etc/fstab\nfree\n\nvim /etc/sysconfig/selinux\n　SELINUX=enforcing\n　↓\n　SELINUX=disabled\n\nsystemctl disable postfix\nsystemctl disable auditd.service\n\nyum -y install libxml2-devel ImageMagick libxslt-devel git curl nodejs file\nyum -y install epel-release\nrpm --import http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro\nrpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release-0-5.el7.nux.noarch.rpm\nyum -y install ffmpeg ffmpeg-devel\n\nyum -y group install \"Development tools\"\ncurl -sL https://rpm.nodesource.com/setup_4.x | sudo bash -\n\nyum -y install nodejs\nnpm -g install yarn\n\nyum -y install postgresql postgresql-contrib postgresql-devel\nyum install -y openssl-devel readline-devel\n\nuseradd mastodon\npasswd mastodon\nsu - mastodon\ngit clone https://github.com/rbenv/rbenv.git ~/.rbenv\ncd ~/.rbenv \u0026\u0026 src/configure \u0026\u0026 make -C src \u0026\u0026 cd ~\necho 'export PATH=\"$HOME/.rbenv/bin:$PATH\"' \u003e\u003e ~/.bash_profile\necho 'eval \"$(rbenv init -)\"' \u003e\u003e ~/.bash_profile \u0026\u0026 source ~/.bash_profile\ngit clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build\nrbenv install 2.4.1 \u0026\u0026 rbenv global $_ \u0026\u0026 rbenv rehash\n\n# 確認\nruby -v\n\ncd ~\ngit clone https://github.com/tootsuite/mastodon.git live\ncd live\ngit checkout $(git tag | tail -n 1)\n\ngem install bundler\nbundle install --deployment --without development test\nyarn install --pure-lockfile\n\ncp .env.production.sample .env.production\nsed -i \"/^PAPERCLIP_SECRET=$/ s/$/`rake secret`/\" .env.production\nsed -i \"/^SECRET_KEY_BASE=$/ s/$/`rake secret`/\" .env.production\nsed -i \"/^OTP_SECRET=$/ s/$/`rake secret`/\" .env.production\n\nvim .env.production\n#Redis,Postgresql,言語,SMTP,S3の設定\n\nRAILS_ENV=production bundle exec rails db:setup\nRAILS_ENV=production bundle exec rails assets:precompile\n\nexit\n\ncat \u003c\u003c \"_EOF_\" \u003e /etc/systemd/system/mastodon-web.service\n[Unit]\nDescription=mastodon-web\nAfter=network.target\n\n[Service]\nType=simple\nUser=mastodon\nWorkingDirectory=/home/mastodon/live\nEnvironment=\"RAILS_ENV=production\"\nEnvironment=\"PORT=3000\"\nExecStart=/home/mastodon/.rbenv/shims/bundle exec puma -C config/puma.rb\nTimeoutSec=15\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n_EOF_\n\n\ncat \u003c\u003c \"_EOF_\" \u003e /etc/systemd/system/mastodon-sidekiq.service\n[Unit]\nDescription=mastodon-sidekiq\nAfter=network.target\n\n[Service]\nType=simple\nUser=mastodon\nWorkingDirectory=/home/mastodon/live\nEnvironment=\"RAILS_ENV=production\"\nEnvironment=\"DB_POOL=5\"\nExecStart=/home/mastodon/.rbenv/shims/bundle exec sidekiq -c 5 -q default -q mailers -q pull -q push\nTimeoutSec=15\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n_EOF_\n\ncat \u003c\u003c \"_EOF_\" \u003e /etc/systemd/system/mastodon-streaming.service\n[Unit]\nDescription=mastodon-streaming\nAfter=network.target\n\n[Service]\nType=simple\nUser=mastodon\nWorkingDirectory=/home/mastodon/live\nEnvironment=\"NODE_ENV=production\"\nEnvironment=\"PORT=4000\"\nExecStart=/usr/bin/npm run start\nTimeoutSec=15\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n_EOF_\n\nsystemctl enable mastodon-{web,sidekiq,streaming}\nsystemctl start mastodon-{web,sidekiq,streaming}\n\ncat \u003c\u003c \"_EOF_\" | crontab -\nRAILS_ENV=production\n@daily cd /home/mastodon/live \u0026\u0026 /home/mastodon/.rbenv/shims/bundle exec rake mastodon:daily \u003e /dev/null\n_EOF_\n\nyum -y install nginx\n\ncat \u003c\u003c \"_EOF_\" \u003e /etc/nginx/conf.d/mastodon.conf\nmap $http_upgrade $connection_upgrade {\n  default upgrade;\n  ''      close;\n}\n\nserver {\n  listen 80;\n  listen [::]:80;\n  server_name {domainName};\n\n  keepalive_timeout    70;\n  sendfile             on;\n  client_max_body_size 0;\n\n  root /home/mastodon/live/public;\n\n  gzip on;\n  gzip_disable \"msie6\";\n  gzip_vary on;\n  gzip_proxied any;\n  gzip_comp_level 6;\n  gzip_buffers 16 8k;\n  gzip_http_version 1.1;\n  gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n  add_header Strict-Transport-Security \"max-age=31536000\";\n\n  location / {\n    try_files $uri @proxy;\n  }\n\n  location @proxy {\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto https;\n    proxy_set_header Proxy \"\";\n    proxy_pass_header Server;\n\n    proxy_pass http://127.0.0.1:3000;\n    proxy_buffering off;\n    proxy_redirect off;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection $connection_upgrade;\n\n    tcp_nodelay on;\n  }\n\n  location /api/v1/streaming {\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto https;\n    proxy_set_header Proxy \"\";\n\n    proxy_pass http://localhost:4000;\n    proxy_buffering off;\n    proxy_redirect off;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection $connection_upgrade;\n\n    tcp_nodelay on;\n  }\n\n  error_page 500 501 502 503 504 /500.html;\n}\n_EOF_\n\nsystemctl enable nginx\nsystemctl start nginx\n\n# ユーザ登録後 admin設定\nRAILS_ENV=production bundle exec rails mastodon:make_admin USERNAME={UserName}\n```\n\n##メモ\n\nEC2のDiskはSSDで(swapで使う)\nロードバランサーはApplicationの方じゃないとwebSocketがうまくいかない\nコミュニティベースのシステムだからCloudFrontはあまり必要性感じなかったので使わなかった\n(日本向けだしS3のバケット東京リージョンにあるし、S3もかなり性能いいし)\nもしCloudFrontを使うなら、websocketできないからS3の前に置く感じ\n今回CloudFrontの利点があるとすれば\"ドメイン\"が自分の使えることぐらいかな\nCentOSじゃなくてAmazonLinux使いたかったけど、ffmpeg入れるのにやたら時間かかったからやめた。一応動いたけど(純正AWSが。。。)\nDockerはDeployまで楽そうだけど、効率よくなさそうだったのでやめた\nAWSでDocker使うならECSでやってみたいけど、Mastodonはすんなりできるのかなー\nセキュリティ的にはロードバランサーからの80番ポートしか受け付けないように制御してるから大丈夫かな。\nsshでのログインは同じVPC内に踏み台サーバ立ててと。\n\n\n##最後に\nここまで読んで頂きありがとうございます。\n技術的なことを投稿するのはこれが初めてですが、だれかのお役にたてれたら嬉しいです。\n普段はPHPとAWS少しいじる程度なのでいい勉強になりました。\nほとんど公開されている文献をもとにプラモデル感覚で作りましたので、ご指摘等あればコメント頂ければと思います。\n個人でのサイト運用となりますので、落ちたらごめんなさい。\n","coediting":false,"created_at":"2017-05-18T00:38:10+09:00","group":null,"id":"12ba511d266386be1576","private":false,"tags":[{"name":"AWS","versions":[]},{"name":"mastodon","versions":[]}],"title":"XFLAGの中の人に憧れてMastodon×AWSでモンストドン作ってみた","updated_at":"2017-05-18T00:38:10+09:00","url":"http://qiita.com/HIGEMARUSHI/items/12ba511d266386be1576","user":{"description":null,"facebook_id":null,"followees_count":1,"followers_count":0,"github_login_name":null,"id":"HIGEMARUSHI","items_count":1,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":54317,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/54317/profile-images/1473693338","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cdiv class=\"code-frame\" data-lang=\"vbnet\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"c\"\u003e'Made by QiiQ Form QITA\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'For Language Japanese\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'For Especially Outlook 2013 Later \u003c/span\u003e\n\u003cspan class=\"k\"\u003eConst\u003c/span\u003e \u003cspan class=\"n\"\u003eStoreName\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\"\u003c/span\u003e \u003cspan class=\"err\"\u003e’\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e!!\u003c/span\u003e\u003cspan class=\"n\"\u003eInput\u003c/span\u003e \u003cspan class=\"n\"\u003eYour\u003c/span\u003e \u003cspan class=\"n\"\u003eMail\u003c/span\u003e \u003cspan class=\"n\"\u003eAddress\u003c/span\u003e\n\u003cspan class=\"k\"\u003eConst\u003c/span\u003e \u003cspan class=\"n\"\u003eolFolderJounal\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e11\u003c/span\u003e\n\u003cspan class=\"k\"\u003eConst\u003c/span\u003e \u003cspan class=\"n\"\u003eolJournalItem\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eConst\u003c/span\u003e \u003cspan class=\"n\"\u003eolSave\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\u003cspan class=\"k\"\u003eConst\u003c/span\u003e \u003cspan class=\"n\"\u003eolDiscard\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n\u003cspan class=\"k\"\u003eConst\u003c/span\u003e \u003cspan class=\"n\"\u003eJpnOlJounrnalTypeNameOfEmail\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"電子メールメッセージ\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eConst\u003c/span\u003e \u003cspan class=\"n\"\u003eJpnOlJounrnalTypeNameOfDocument\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"ドキュメント\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eoApp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eoApp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCreateObject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Outlook.Application\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eNS\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eNS\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoApp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetNamespace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"MAPI\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eoJfol\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eobjArgs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eI\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrFile\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrFolder\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eobjFile\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eobjFolder\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eobjPath\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrScr\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003estrBase\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrParent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrPath\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003estrZip\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRetVal\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eobjShell\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eobjShell\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCreateObject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"WScript.Shell\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCreateObject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Scripting.FileSystemObject\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003emyJItm\u003c/span\u003e \u003cspan class=\"c\"\u003e'As Outlook.JournalItem\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003emyMItm\u003c/span\u003e \u003cspan class=\"c\"\u003e'As Outlook.MailItem\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eblnExist\u003c/span\u003e \u003cspan class=\"c\"\u003e'As Boolean\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eoRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eolStore\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eolStore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoApp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStores\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItem\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eStoreName\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eoRoot\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoApp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStores\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItem\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eStoreName\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"n\"\u003eGetRootFolder\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eoJfol\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eFolders\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItem\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e14\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eobjArgs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eWscript\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eArguments\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'For I = 0 To objArgs.Count - 1\u003c/span\u003e\n\u003cspan class=\"n\"\u003eI\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eobjFile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eCStr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobjArgs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"n\"\u003estrParent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetParentFolderName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobjFile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eobjPath\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetFolder\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrParent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003estrBase\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetBaseName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eCStr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobjArgs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetExtensionName\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eCStr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobjArgs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n\u003cspan class=\"n\"\u003estrPath\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003estrParent\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\\"\u003c/span\u003e\n\u003cspan class=\"n\"\u003eblnExist\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eFalse\u003c/span\u003e\n\u003cspan class=\"k\"\u003eFor\u003c/span\u003e \u003cspan class=\"k\"\u003eEach\u003c/span\u003e \u003cspan class=\"n\"\u003ejitm\u003c/span\u003e \u003cspan class=\"ow\"\u003eIn\u003c/span\u003e \u003cspan class=\"n\"\u003eoJfol\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eItems\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003ejitm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSubject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eobjFile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"n\"\u003eblnExist\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eWscript\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eQuit\u003c/span\u003e\n\u003cspan class=\"k\"\u003eNext\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eblnExist\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eFalse\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e\n\u003cspan class=\"n\"\u003emsgbox\u003c/span\u003e \u003cspan class=\"n\"\u003eobjfile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003epath\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003emyJItm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eoApp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCreateItem\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'Set myJItm = oJfol.Items.Add\u003c/span\u003e\n\u003cspan class=\"k\"\u003eWith\u003c/span\u003e \u003cspan class=\"n\"\u003emyJItm\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDisplay\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSubject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\u0026lt;\"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"s\"\u003e\"file:///\"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003ereplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobjFile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePath\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\\\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\u0026gt;\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"CurrentFilePath:= \"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003estrParent\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003evbCrLf\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e _\n\u003cspan class=\"s\"\u003e\"FolderLink:= \"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \u0026lt;\"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"s\"\u003e\"file:///\"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003ereplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrParent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e\"\\\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\u0026gt; \"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003evbCrLf\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e _\n\u003cspan class=\"s\"\u003e\"FileName:= \"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eobjFile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eName\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003evbCrLf\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e _\n\u003cspan class=\"s\"\u003e\"CreationTime:= \"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"k\"\u003eCdate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eCStr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobjArgs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI\u003c/span\u003e\u003cspan class=\"p\"\u003e))).\u003c/span\u003e\u003cspan class=\"n\"\u003eDateCreated\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003evbCrLf\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e _\n\u003cspan class=\"s\"\u003e\"LastWriteTime:= \"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"k\"\u003eCdate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eFSO\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eGetFile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eCStr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eobjArgs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eI\u003c/span\u003e\u003cspan class=\"p\"\u003e))).\u003c/span\u003e\u003cspan class=\"n\"\u003eDateLastModified\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"doc\"\u003c/span\u003e \u003cspan class=\"ow\"\u003eOr\u003c/span\u003e \u003cspan class=\"n\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"htm\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Microsoft Word\"\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"csv\"\u003c/span\u003e \u003cspan class=\"ow\"\u003eOr\u003c/span\u003e \u003cspan class=\"n\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLcase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"xls\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Microsoft Excel\"\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eVbLike\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"ppt*\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Microsoft Powerpoint\"\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"mdb\"\u003c/span\u003e \u003cspan class=\"ow\"\u003eOr\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"accdb\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Microsoft Office Access\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"pdf\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Adobe Acrobat\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"msg\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003emyMItm\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emyJtm\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJpnOlJounrnalTypeNameOfEmail\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emyJItm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eVbCrLf\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003eLeft\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003emyMItm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eContactNames\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003emyMItm\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSenderName\u003c/span\u003e\n\u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eIf\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"vbs\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"VBScript\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"txt\"\u003c/span\u003e \u003cspan class=\"ow\"\u003eOr\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"log\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Text\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eLCase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003estrExt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"pub\"\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eJpnOlJounrnalTypeNameOfDocument\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eStartTimer\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCategories\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eCategories\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSave\u003c/span\u003e\n\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eClose\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n\u003cspan class=\"n\"\u003eWscript\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSleep\u003c/span\u003e \u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\n\u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eWith\u003c/span\u003e\n\u003cspan class=\"k\"\u003eElse\u003c/span\u003e\n\u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eIf\u003c/span\u003e\n\u003cspan class=\"c\"\u003e' Next\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eobjShell\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eNothing\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eFSO\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eNothing\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eNS\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eNothing\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eoApp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eNothing\u003c/span\u003e\n\u003cspan class=\"n\"\u003eWscript\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eQuit\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eFunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eVbLike\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esTest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eDim\u003c/span\u003e \u003cspan class=\"n\"\u003eobjRE\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esAdd1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003esAdd_1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003exAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eUAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eAAdd\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eobjRE\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eCreateObject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"VBScript.RegExp\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'escape character add\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'spattern = Replace(sPattern, \"\\\", \"\\\\\", 1, -1)\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'spattern = Replace(sPattern, \"*\", \"\\*\", 1, -1) 'wildcard escape\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'spattern = Replace(sPattern, \"?\", \"\\?\", 1, -1) 'wildcard escape\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'sPattern = Replace(sPattern, \".\", \"\\.\", 1, -1) 'wildcard escape\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"+\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\+\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"|\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\|\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\")\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"(\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\(\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"[\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\[\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\]\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eChr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e13\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\r\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eChr\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\n\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003evbTab\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\t\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\" \"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\s\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eReplace\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esPattern\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"　\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\s\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c\"\u003e'Add character\u003c/span\u003e\n\u003cspan class=\"n\"\u003esAdd1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\w\"\u003c/span\u003e \u003cspan class=\"c\"\u003e'[a-zA-Z_0-9]\u003c/span\u003e\n\u003cspan class=\"n\"\u003esAdd_1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\W\"\u003c/span\u003e \u003cspan class=\"c\"\u003e'[^a-zA-Z_0-9]\u003c/span\u003e\n\u003cspan class=\"n\"\u003exAdd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\50\"\u003c/span\u003e \u003cspan class=\"c\"\u003e'( 50 is 8 digit ASCII\u003c/span\u003e\n\u003cspan class=\"n\"\u003eUAdd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"\\u00A3\"\u003c/span\u003e \u003cspan class=\"c\"\u003e'( 00A3 is 16 digit UNICODE\u003c/span\u003e\n\u003cspan class=\"n\"\u003eAAdd\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"[A-z]\"\u003c/span\u003e\n\u003cspan class=\"n\"\u003eobjRE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ePattern\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"^.*\"\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"n\"\u003esPattern\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"s\"\u003e\".*$\"\u003c/span\u003e\n\u003cspan class=\"k\"\u003eIf\u003c/span\u003e \u003cspan class=\"n\"\u003eobjRE\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003esTest\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e \u003cspan class=\"k\"\u003eThen\u003c/span\u003e\n\u003cspan class=\"n\"\u003eVbLike\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eTrue\u003c/span\u003e\n\u003cspan class=\"k\"\u003eElse\u003c/span\u003e\n\u003cspan class=\"n\"\u003eVbLike\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eFalse\u003c/span\u003e\n\u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eIf\u003c/span\u003e\n\u003cspan class=\"k\"\u003eSet\u003c/span\u003e \u003cspan class=\"n\"\u003eobjRE\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eNothing\u003c/span\u003e\n\u003cspan class=\"k\"\u003eEnd\u003c/span\u003e \u003cspan class=\"k\"\u003eFunction\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"履歴機能は生きている\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B1%A5%E6%AD%B4%E6%A9%9F%E8%83%BD%E3%81%AF%E7%94%9F%E3%81%8D%E3%81%A6%E3%81%84%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e履歴機能は生きている\u003c/h2\u003e\n\n\u003cp\u003eOutlook 2013 で死んだように扱われていますが、自動的に登録しなくなっただけで生きています。\u003cbr\u003e\nそこで、VB Scriptを利用してファイルを登録します。\u003cbr\u003e\n前回の仕事の元はこちらになります。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ファイルには制限があります\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AB%E3%81%AF%E5%88%B6%E9%99%90%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eファイルには制限があります\u003c/h2\u003e\n\n\u003cp\u003eOffice の主要なファイルとPDFです。\u003c/p\u003e\n","body":"```vbnet\n'Made by QiiQ Form QITA\n'For Language Japanese\n'For Especially Outlook 2013 Later \nConst StoreName = \"\" ’\u003c!!Input Your Mail Address\nConst olFolderJounal = 11\nConst olJournalItem = 4\n\nConst olSave = 0\nConst olDiscard = 1\nConst JpnOlJounrnalTypeNameOfEmail = \"電子メールメッセージ\"\nConst JpnOlJounrnalTypeNameOfDocument = \"ドキュメント\"\nDim oApp: Set oApp = CreateObject(\"Outlook.Application\")\nDim NS: Set NS = oApp.GetNamespace(\"MAPI\")\nDim oJfol\nDim objArgs, I, strFile, strFolder\nDim objFile, objFolder, objPath, strScr\nDim strBase, strExt, strParent, strPath, strZip, RetVal\nDim objShell: Set objShell = CreateObject(\"WScript.Shell\")\nDim FSO: Set FSO = CreateObject(\"Scripting.FileSystemObject\")\nDim myJItm 'As Outlook.JournalItem\nDim myMItm 'As Outlook.MailItem\nDim blnExist 'As Boolean\nDim oRoot, olStore\nSet olStore = oApp.Session.Stores.Item(StoreName)\nSet oRoot = oApp.Session.Stores.Item(StoreName).GetRootFolder\nSet oJfol = oRoot.Folders.Item(14)\nSet objArgs = Wscript.Arguments\n'For I = 0 To objArgs.Count - 1\nI=0\nSet objFile = FSO.GetFile(CStr(objArgs(I)))\nstrParent = FSO.GetParentFolderName(objFile)\nSet objPath = FSO.GetFolder(strParent)\nstrBase = FSO.GetBaseName(CStr(objArgs(I)))\nstrExt = FSO.GetExtensionName(CStr(objArgs(I)))\nstrPath = strParent \u0026 \"\\\"\nblnExist = False\nFor Each jitm In oJfol.Items\nIf jitm.Subject = objFile.Path Then blnExist = True: Wscript.Quit\nNext\nIf blnExist = False Then\nmsgbox objfile.path\nSet myJItm = oApp.CreateItem(4)\n'Set myJItm = oJfol.Items.Add\nWith myJItm\n.Display\n.Subject = \"\u003c\" \u0026 \"file:///\" \u0026 replace(objFile.Path,\"\\\",\"/\",1,-1) \u0026 \"\u003e\"\n.Body = \"CurrentFilePath:= \" \u0026 strParent \u0026 vbCrLf \u0026 _\n\"FolderLink:= \" \u0026 \" \u003c\" \u0026 \"file:///\" \u0026 replace(strParent,\"\\\",\"/\",1,-1) \u0026 \"\u003e \" \u0026 vbCrLf \u0026 _\n\"FileName:= \" \u0026 objFile.Name \u0026 vbCrLf \u0026 _\n\"CreationTime:= \" \u0026 Cdate(FSO.GetFile(CStr(objArgs(I))).DateCreated) \u0026 vbCrLf \u0026 _\n\"LastWriteTime:= \" \u0026 Cdate(FSO.GetFile(CStr(objArgs(I))).DateLastModified)\nIf Left(LCase(strExt), 3) = \"doc\" Or Left(LCase(strExt), 3) = \"htm\" Then .Type = \"Microsoft Word\"\n\nIf LCase(strExt) = \"csv\" Or Left(Lcase(strExt),3) = \"xls\" = True Then .Type = \"Microsoft Excel\"\n\nIf VbLike(LCase(strExt), \"ppt*\") = True Then .Type = \"Microsoft Powerpoint\"\n\nIf LCase(strExt) = \"mdb\" Or LCase(strExt) = \"accdb\" Then .Type = \"Microsoft Office Access\"\nIf LCase(strExt) = \"pdf\" Then .Type = \"Adobe Acrobat\"\nIf LCase(strExt) = \"msg\" Then\nSet myMItm= myJtm\n.Type = JpnOlJounrnalTypeNameOfEmail\n.Body = myJItm.Body \u0026 VbCrLf \u0026 Left(myMItm.Body, 1000)\n.ContactNames = myMItm.SenderName\nEnd If\nIf LCase(strExt) = \"vbs\" Then .Type = \"VBScript\"\nIf LCase(strExt) = \"txt\" Or LCase(strExt) = \"log\" Then .Type = \"Text\"\nIf LCase(strExt) = \"pub\" Then .Type = JpnOlJounrnalTypeNameOfDocument\n.StartTimer\n.Categories = .Categories\n.Save\n.Close 1\nWscript.Sleep 1000\nEnd With\nElse\nEnd If\n' Next\nSet objShell = Nothing\nSet FSO = Nothing\nSet NS = Nothing\nSet oApp = Nothing\nWscript.Quit\n\nFunction VbLike(sTest, sPattern)\nDim objRE, sAdd1, sAdd_1, xAdd, UAdd, AAdd\nSet objRE = CreateObject(\"VBScript.RegExp\")\n'escape character add\n'spattern = Replace(sPattern, \"\\\", \"\\\\\", 1, -1)\n'spattern = Replace(sPattern, \"*\", \"\\*\", 1, -1) 'wildcard escape\n'spattern = Replace(sPattern, \"?\", \"\\?\", 1, -1) 'wildcard escape\n'sPattern = Replace(sPattern, \".\", \"\\.\", 1, -1) 'wildcard escape\nsPattern = Replace(sPattern, \"+\", \"\\+\", 1, -1)\nsPattern = Replace(sPattern, \"|\", \"\\|\", 1, -1)\nsPattern = Replace(sPattern, \")\", \"\\)\", 1, -1)\nsPattern = Replace(sPattern, \"(\", \"\\(\", 1, -1)\nsPattern = Replace(sPattern, \"[\", \"\\[\", 1, -1)\nsPattern = Replace(sPattern, \"]\", \"\\]\", 1, -1)\nsPattern = Replace(sPattern, Chr(13), \"\\r\", 1, -1)\nsPattern = Replace(sPattern, Chr(10), \"\\n\", 1, -1)\nsPattern = Replace(sPattern, vbTab, \"\\t\", 1, -1)\nsPattern = Replace(sPattern, \" \", \"\\s\", 1, -1)\nsPattern = Replace(sPattern, \"　\", \"\\s\", 1, -1)\n'Add character\nsAdd1 = \"\\w\" '[a-zA-Z_0-9]\nsAdd_1 = \"\\W\" '[^a-zA-Z_0-9]\nxAdd = \"\\50\" '( 50 is 8 digit ASCII\nUAdd = \"\\u00A3\" '( 00A3 is 16 digit UNICODE\nAAdd = \"[A-z]\"\nobjRE.Pattern = \"^.*\" \u0026 sPattern \u0026 \".*$\"\nIf objRE.test(sTest) = True Then\nVbLike = True\nElse\nVbLike = False\nEnd If\nSet objRE = Nothing\nEnd Function\n```\n##履歴機能は生きている\nOutlook 2013 で死んだように扱われていますが、自動的に登録しなくなっただけで生きています。\nそこで、VB Scriptを利用してファイルを登録します。\n前回の仕事の元はこちらになります。\n\n##ファイルには制限があります\nOffice の主要なファイルとPDFです。\n","coediting":false,"created_at":"2017-05-18T00:33:50+09:00","group":null,"id":"5420d5b80e4dfe8fd235","private":false,"tags":[{"name":"VBScript","versions":[]},{"name":"履歴","versions":[]},{"name":"Outlook","versions":[]},{"name":"JournalImtem","versions":[]}],"title":"VBScript Outlook 2013 Later の履歴（ジャーナル JournalImtem）にファイルを登録する","updated_at":"2017-05-18T00:33:50+09:00","url":"http://qiita.com/Q11Q/items/5420d5b80e4dfe8fd235","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":1,"github_login_name":"Q11Q","id":"Q11Q","items_count":71,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":126919,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/126919/profile-images/1473716717","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cp\u003eSNSなどのサーチの結果の生のCSVをダウンロードすると、ダブルクオーテーションの途中で改行が挟まり、うまく読み込んでくれません。\u003cbr\u003e\n正規表現(魔法の呪文)で一発で消し去ってやりましょう。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e方法\u003c/h2\u003e\n\n\u003cp\u003eMeryなどの正規表現による置き換えに対応しているソフトで\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align: center\"\u003e項目\u003c/th\u003e\n\u003cth style=\"text-align: center\"\u003e\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e検索文字列\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\n\u003ccode\u003e([^\\\"｜\\n])(\\n)+\u003c/code\u003e←｜が全角なのでコピペ不可\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align: center\"\u003e置換後の文字列\u003c/td\u003e\n\u003ctd style=\"text-align: center\"\u003e\u003ccode\u003e\\1\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eにして、[全文置き換え]\u003c/p\u003e\n\n\u003cp\u003eこれだけ\u003c/p\u003e\n","body":"SNSなどのサーチの結果の生のCSVをダウンロードすると、ダブルクオーテーションの途中で改行が挟まり、うまく読み込んでくれません。\n正規表現(魔法の呪文)で一発で消し去ってやりましょう。\n\n## 方法\nMeryなどの正規表現による置き換えに対応しているソフトで\n\n|項目||\n|:-:|:-:|\n|検索文字列|`([^\\\"｜\\n])(\\n)+`←｜が全角なのでコピペ不可|\n|置換後の文字列|`\\1`|\n\nにして、[全文置き換え]\n\nこれだけ\n","coediting":false,"created_at":"2017-05-18T00:28:23+09:00","group":null,"id":"4b1fa63f0733491ca288","private":false,"tags":[{"name":"CSV","versions":[]},{"name":"テキストエディタ","versions":[]}],"title":"CSVの\"\"の途中の改行を除去する","updated_at":"2017-05-18T00:28:23+09:00","url":"http://qiita.com/tamaina/items/4b1fa63f0733491ca288","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":"tamaina","id":"tamaina","items_count":6,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":94641,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/94641/profile-images/1494255799","twitter_screen_name":"tamaina_simu","website_url":null}},{"rendered_body":"\u003cp\u003e\u003ca href=\"http://redux.js.org/docs/recipes/UsingObjectSpreadOperator.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003ereduxの公式サイト(Using Object Spread Operator)\u003c/a\u003eに書いてある話です。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"結論\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E8%AB%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結論\u003c/h1\u003e\n\n\u003cp\u003eこうだったり\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eObject.assign\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"nx\"\u003eSET_FUGA\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003eObject\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eassign\u003c/span\u003e\u003cspan class=\"p\"\u003e({},\u003c/span\u003e \u003cspan class=\"nx\"\u003estate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003efuga\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efuga\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこうだったのが\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eimmutablejs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"nx\"\u003eSET_FUGA\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003estate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esetIn\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"s1\"\u003e'hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fuga'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"nx\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efuga\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eこうなります\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eObjectSpread\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003ecase\u003c/span\u003e \u003cspan class=\"nx\"\u003eSET_FUGA\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"nx\"\u003estate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003efuga\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efuga\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"必要なこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e必要なこと\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"http://babeljs.io/docs/plugins/transform-object-rest-spread/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ebabelのpreset\u003c/a\u003eをつかいます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.babelrc\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\"plugins\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"transform-object-rest-spread\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"immutablejsのデメリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#immutablejs%E3%81%AE%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eimmutablejsのデメリット\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"http://redux.js.org/docs/recipes/UsingImmutableJS.html#what-are-the-issues-with-using-immutablejs\" rel=\"nofollow noopener\" target=\"_blank\"\u003e本家曰く\u003c/a\u003e\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e他のライブラリとの共存\u003c/li\u003e\n\u003cli\u003eコード全体で使うことになる\u003c/li\u003e\n\u003cli\u003eobject spreadと併用できない\u003c/li\u003e\n\u003cli\u003e小さい変更を行うreducerには適さない\u003c/li\u003e\n\u003cli\u003eデバッグが難しい\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e同時に\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003eこれらの問題はすべて、慎重にコーディングすることで簡単に解決できます。」\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eとも語られています。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ちなみに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A1%E3%81%AA%E3%81%BF%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eちなみに\u003c/h1\u003e\n\n\u003cp\u003eFlowtypeはObject Spreadをちゃんと解釈してくれます。安心。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"なぜこれを書いたか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%9C%E3%81%93%E3%82%8C%E3%82%92%E6%9B%B8%E3%81%84%E3%81%9F%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなぜこれを書いたか\u003c/h1\u003e\n\n\u003cp\u003eImmutablejsがデファクトスタンダードであるかのような話を耳にするのですが、公式サイトだと結構デメリットも語られてて、そのへんの温度感が気になったので書いてみたくなったのでした。\u003cbr\u003e\nObject Spreadは特にreducerが小さく設計できてるときに簡単に書けるのが魅力な気がします。\u003cbr\u003e\n本当に必要に迫られたときに必要なだけImmutablejsを使うのが良いように思います。\u003cbr\u003e\nでもImmutablejsを導入するまえに\u003ca href=\"https://github.com/aearly/icepick\" rel=\"nofollow noopener\" target=\"_blank\"\u003eicepick\u003c/a\u003eも検討されたい。。。こちらはリスク低いですよ。\u003c/p\u003e\n","body":"[reduxの公式サイト(Using Object Spread Operator)](http://redux.js.org/docs/recipes/UsingObjectSpreadOperator.html)に書いてある話です。\n\n# 結論\n\nこうだったり\n\n```js:Object.assign\ncase SET_FUGA:\n  return Object.assign({}, state, {\n    hoge: { fuga: action.fuga }\n  })\n```\n\nこうだったのが\n\n```js:immutablejs\ncase SET_FUGA:\n  return state.setIn(['hoge', 'fuga'], action.fuga)\n```\n\nこうなります\n\n```js:ObjectSpread\ncase SET_FUGA:\n  return { ...state,\n    { hoge: { fuga: action.fuga } }\n  }\n```\n\n# 必要なこと\n[babelのpreset](http://babeljs.io/docs/plugins/transform-object-rest-spread/)をつかいます。\n\n```json:.babelrc\n{\n  \"plugins\": [\"transform-object-rest-spread\"]\n}\n```\n\n# immutablejsのデメリット\n\n[本家曰く](http://redux.js.org/docs/recipes/UsingImmutableJS.html#what-are-the-issues-with-using-immutablejs)\n\n- 他のライブラリとの共存\n- コード全体で使うことになる\n- object spreadと併用できない\n- 小さい変更を行うreducerには適さない\n- デバッグが難しい\n\n同時に\n\n\u003e これらの問題はすべて、慎重にコーディングすることで簡単に解決できます。」\n\nとも語られています。\n\n# ちなみに\nFlowtypeはObject Spreadをちゃんと解釈してくれます。安心。\n\n# なぜこれを書いたか\nImmutablejsがデファクトスタンダードであるかのような話を耳にするのですが、公式サイトだと結構デメリットも語られてて、そのへんの温度感が気になったので書いてみたくなったのでした。\nObject Spreadは特にreducerが小さく設計できてるときに簡単に書けるのが魅力な気がします。\n本当に必要に迫られたときに必要なだけImmutablejsを使うのが良いように思います。\nでもImmutablejsを導入するまえに[icepick](https://github.com/aearly/icepick)も検討されたい。。。こちらはリスク低いですよ。\n","coediting":false,"created_at":"2017-05-18T00:19:05+09:00","group":null,"id":"2c5b6fe9d2c7d87c66e0","private":false,"tags":[{"name":"immutable-js","versions":[]},{"name":"babel","versions":[]},{"name":"redux","versions":[]}],"title":"reduxでimmutablejsの代わりにObject Spreadを使う","updated_at":"2017-05-18T01:00:23+09:00","url":"http://qiita.com/193/items/2c5b6fe9d2c7d87c66e0","user":{"description":"giftee.coでrails書いたりjs書いたりしています。gifteeでは一緒に働く仲間を募集しています！\r\nhttps://www.wantedly.com/companies/giftee/info","facebook_id":"","followees_count":12,"followers_count":25,"github_login_name":"yamatatsu","id":"193","items_count":23,"linkedin_id":"","location":"","name":"","organization":"giftee.co","permanent_id":76640,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/76640/profile-images/1473700557","twitter_screen_name":null,"website_url":""}},{"rendered_body":"\u003cp\u003e順番に表示させる記述です。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e    \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nx\"\u003ejun\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eacco_02\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003eclick_t\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"要素\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003echild\u003c/span\u003e \u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"要素\"\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n      \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003efadeFn\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e要素\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e要素\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003eeach\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                  \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003edelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e500\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003efadeIn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003efadeFn\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eforを使う方法と、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"js\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e   \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003eacco_02\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003eclick_t\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"要素\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003etarget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"要素\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003echild\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003echildren\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003elen\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003echild\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ef\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n          \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;=\u003c/span\u003e \u003cspan class=\"nx\"\u003elen\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"o\"\u003e++\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003earr\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003echild\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003earr\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003edelay\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e500\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nx\"\u003ei\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003efadeIn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n        \u003cspan class=\"nx\"\u003eclick_t\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(){\u003c/span\u003e\n           \u003cspan class=\"nx\"\u003ef\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \n        \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eacco_02\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eです。もっとうまいことかけると思います。\u003cbr\u003e\nかなり、鈍臭くなってしまいました。自分で編集するかもですが。。。\u003c/p\u003e\n\n\u003cp\u003eいい書き方ぜひ伺いたいです。\u003c/p\u003e\n\n\u003cp\u003eポイントは、順番に表示させたい要素をnoneしといて、時間差でfadeInするといったことです。\u003c/p\u003e\n\n\u003cp\u003eでは、参考までに\u003c/p\u003e\n","body":"順番に表示させる記述です。\n\n```js\n    function jun(){\n      let acco_02 = {\n          click_t : $(\"要素\"),\n          child : $(\"要素\"),\n      };\n\n      let fadeFn = function(){\n        $(要素).click(function() {\n          $(要素).each(function(i) {\n                  $(this).delay(500 * i).fadeIn(1000);\n            });\n        });\n      };\n      fadeFn();\n    }\n```\nforを使う方法と、\n\n```js\n   var acco_02 = function() {\n        var click_t = $(\"要素\");\n        var target = $(\"要素\");\n        var child = target.children();\n        var len = child.length;\n        var f = function(){\n          for (var i = 0; i \u003c= len; i++) {\n            var arr = child[i];\n            $(arr).delay(500 * i).fadeIn(1000);\n        }\n        };\n        \n        click_t.click(function(){\n           f(); \n        });\n    };\n    acco_02();\n```\n\nです。もっとうまいことかけると思います。\nかなり、鈍臭くなってしまいました。自分で編集するかもですが。。。\n\nいい書き方ぜひ伺いたいです。\n\nポイントは、順番に表示させたい要素をnoneしといて、時間差でfadeInするといったことです。\n\nでは、参考までに\n","coediting":false,"created_at":"2017-05-18T00:07:25+09:00","group":null,"id":"73ce2022954a914c4807","private":false,"tags":[{"name":"JavaScript","versions":[]},{"name":"jQuery","versions":[]}],"title":"順番に表示　基本メモ","updated_at":"2017-05-18T00:07:52+09:00","url":"http://qiita.com/Masaru_free/items/73ce2022954a914c4807","user":{"description":"","facebook_id":"","followees_count":1,"followers_count":0,"github_login_name":"miyaudi","id":"Masaru_free","items_count":12,"linkedin_id":"","location":"","name":"miyaudi masaru","organization":"","permanent_id":166233,"profile_image_url":"https://pbs.twimg.com/profile_images/832640838693908483/7TnvL7Vf_normal.jpg","twitter_screen_name":"masaru_free","website_url":""}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"mockeryとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mockery%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emockeryとは\u003c/h1\u003e\n\n\u003cp\u003eReflectionClassやPHPUnit内蔵のMockBuilderを小難しく使わずとも2行でmock作れます。そうmockeryならね。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"もうちょっと詳しく\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%82%E3%81%86%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E8%A9%B3%E3%81%97%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eもうちょっと詳しく\u003c/h1\u003e\n\n\u003cp\u003eとりあえずサンプル見てもらえると早いと思います。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"cp\"\u003e\u0026lt;?php\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$mock\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eMockery\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"na\"\u003emock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Hoge'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$mock\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eshouldReceive\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'fuga'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eandReturn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'hogehogefugafuga!'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eecho\u003c/span\u003e \u003cspan class=\"nv\"\u003e$mock\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003efuga\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// hogehogefugafuga!\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e\u003ccode\u003eMockery::mock('Hoge');\u003c/code\u003eで指定しているクラス名\u003ccode\u003eHoge\u003c/code\u003eは実在するクラスを指定すれば、そのクラスを継承したmockを作成するとのことです。\u003cbr\u003e\nテキトーな文字列を指定した場合は空のクラスのmockを作成します。\u003c/p\u003e\n\n\u003cp\u003eこれだけだとイマイチ凄さが分かりませんが、私が感動したのは下記の方法。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"cp\"\u003e\u0026lt;?php\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHoge\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003egetFugaName\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003e$fuga\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eFuga\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nv\"\u003e$fuga\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003egetName\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFuga\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003egetName\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s1\"\u003e'fuga'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$mock\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eMockery\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"na\"\u003emock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'overload:Fuga'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$mock\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eshouldReceive\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'getName'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eandReturn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'overwritten fuga'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eecho\u003c/span\u003e \u003cspan class=\"nx\"\u003eHoge\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"na\"\u003egetFugaName\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// overwritten fuga\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eなんと\u003ccode\u003e:overload\u003c/code\u003eプレフィックスをつけることで、テスト対象（上の例の場合は\u003ccode\u003eHoge\u003c/code\u003e）の内部で生成している\u003ccode\u003eFuga\u003c/code\u003eを上書きしてmockを使用させることができます。\u003cbr\u003e\nMockeryを使用する前は苦肉の策でメンバ変数や引数などで\u003ccode\u003eFuga\u003c/code\u003eインスタンスを渡せる仕組みを\u003ccode\u003eHoge\u003c/code\u003eに実装していて、あんまりイケてない感じがして好きじゃなかったのですがこんなにお手軽に解決できるとはびっくらぽんです。\u003c/p\u003e\n\n\u003cp\u003eもちろんPHPUnitのMockBuilderで可能な、引数によって返却値を変える仕組みや、\u003ccode\u003eonce()\u003c/code\u003eや\u003ccode\u003etwice()\u003c/code\u003e等のメソッドを呼ぶ回数に制限を掛ける等もできます。\u003cbr\u003e\nさらにあれこれ返却値を決定する際に処理が必要な場合は\u003ccode\u003eandReturnUsing()\u003c/code\u003eなんてものもあって至れり尽くせりです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"php\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"cp\"\u003e\u0026lt;?php\u003c/span\u003e\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eHoge\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003e$fuga\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eFuga\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nv\"\u003e$fuga\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003efugaMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'引数1'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'引数2'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'引数3'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"k\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003ebar\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nv\"\u003e$fuga\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eFuga\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nv\"\u003e$fuga\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003efugaMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'引数4'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'引数5'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'引数6'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eFuga\u003c/span\u003e\n\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003efugaMethod\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"c1\"\u003e//何か色々処理\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$mock\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eMockery\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"na\"\u003emock\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'overload:Fuga'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$mock\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eshouldReceive\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'fugaMethod'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eandReturnUsing\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nb\"\u003efunc_get_args\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$foo\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eHoge\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"na\"\u003efoo\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// array('引数1', '引数2', '引数3')\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$bar\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eHoge\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"na\"\u003ebar\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e \u003cspan class=\"c1\"\u003e// array('引数4', '引数5', '引数6')\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考にさせていただいたドキュメント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考にさせていただいたドキュメント\u003c/h1\u003e\n\n\u003cp\u003eインストール方法や更なる使い方については下記の記事にて詳しく解説されておりますのでそちらを参照されると良いかと思います。\u003cbr\u003e\n（というかcomposerならインストール一発です）\u003cbr\u003e\n・Mockery 0.8.0 日本語ドキュメント\u003cbr\u003e\n\u003ca href=\"https://kore1server.com/202/Mockery+0.8.0+%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://kore1server.com/202/Mockery+0.8.0+%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88\u003c/a\u003e\u003cbr\u003e\n・「Mockery」を使ってサクッとPHPのテストを書いてみる\u003cbr\u003e\n\u003ca href=\"http://tech.aainc.co.jp/archives/3918\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://tech.aainc.co.jp/archives/3918\u003c/a\u003e\u003cbr\u003e\n・MockeryとPHPUnitを使う（最低限）\u003cbr\u003e\n\u003ca href=\"http://qiita.com/zaburo/items/b559782179565bb1c538\" class=\"autolink\" id=\"reference-81ac8048b7289aa9b7e2\"\u003ehttp://qiita.com/zaburo/items/b559782179565bb1c538\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h1\u003e\n\n\u003cp\u003eここまでお読みいただきありがとうございました。\u003cbr\u003e\n皆様も良きMockeryライフを！ｖ・。・ｖ\u003c/p\u003e\n","body":"# mockeryとは\n\nReflectionClassやPHPUnit内蔵のMockBuilderを小難しく使わずとも2行でmock作れます。そうmockeryならね。\n\n# もうちょっと詳しく\n\nとりあえずサンプル見てもらえると早いと思います。\n\n```php\n\u003c?php\n$mock = Mockery::mock('Hoge');\n$mock-\u003eshouldReceive('fuga')-\u003eandReturn('hogehogefugafuga!');\n\necho $mock-\u003efuga(); // hogehogefugafuga!\n```\n\n`Mockery::mock('Hoge');`で指定しているクラス名`Hoge`は実在するクラスを指定すれば、そのクラスを継承したmockを作成するとのことです。\nテキトーな文字列を指定した場合は空のクラスのmockを作成します。\n\nこれだけだとイマイチ凄さが分かりませんが、私が感動したのは下記の方法。\n\n```php\n\u003c?php\nclass Hoge\n{\n    public static function getFugaName()\n    {\n        $fuga = new Fuga();\n        return $fuga-\u003egetName();\n    }\n}\n\nclass Fuga\n{\n    public function getName()\n    {\n        return 'fuga';\n    }\n}\n\n$mock = Mockery::mock('overload:Fuga');\n$mock-\u003eshouldReceive('getName')-\u003eandReturn('overwritten fuga');\n\necho Hoge::getFugaName(); // overwritten fuga\n```\n\nなんと`:overload`プレフィックスをつけることで、テスト対象（上の例の場合は`Hoge`）の内部で生成している`Fuga`を上書きしてmockを使用させることができます。\nMockeryを使用する前は苦肉の策でメンバ変数や引数などで`Fuga`インスタンスを渡せる仕組みを`Hoge`に実装していて、あんまりイケてない感じがして好きじゃなかったのですがこんなにお手軽に解決できるとはびっくらぽんです。\n\nもちろんPHPUnitのMockBuilderで可能な、引数によって返却値を変える仕組みや、`once()`や`twice()`等のメソッドを呼ぶ回数に制限を掛ける等もできます。\nさらにあれこれ返却値を決定する際に処理が必要な場合は`andReturnUsing()`なんてものもあって至れり尽くせりです。\n\n```php\n\u003c?php\nclass Hoge\n{\n    public static function foo()\n    {\n        $fuga = new Fuga();\n        return $fuga-\u003efugaMethod('引数1', '引数2', '引数3');\n    }\n\n    public static function bar()\n    {\n        $fuga = new Fuga();\n        return $fuga-\u003efugaMethod('引数4', '引数5', '引数6');\n    }\n}\n\nclass Fuga\n{\n    public function fugaMethod()\n    {\n        //何か色々処理\n        return true;\n    }\n}\n\n$mock = Mockery::mock('overload:Fuga');\n$mock-\u003eshouldReceive('fugaMethod')-\u003eandReturnUsing(function() { return func_get_args(); });\n\n$foo = Hoge::foo(); // array('引数1', '引数2', '引数3')\n$bar = Hoge::bar(); // array('引数4', '引数5', '引数6')\n```\n\n# 参考にさせていただいたドキュメント\nインストール方法や更なる使い方については下記の記事にて詳しく解説されておりますのでそちらを参照されると良いかと思います。\n（というかcomposerならインストール一発です）\n・Mockery 0.8.0 日本語ドキュメント\nhttps://kore1server.com/202/Mockery+0.8.0+%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88\n・「Mockery」を使ってサクッとPHPのテストを書いてみる\nhttp://tech.aainc.co.jp/archives/3918\n・MockeryとPHPUnitを使う（最低限）\nhttp://qiita.com/zaburo/items/b559782179565bb1c538\n\n# 最後に\nここまでお読みいただきありがとうございました。\n皆様も良きMockeryライフを！ｖ・。・ｖ\n","coediting":false,"created_at":"2017-05-18T00:02:18+09:00","group":null,"id":"834f1229cffc06b539bc","private":false,"tags":[{"name":"PHP","versions":[]},{"name":"test","versions":[]},{"name":"PHPUnit","versions":[]},{"name":"mockery","versions":[]}],"title":"たった2行で自動テスト時のmockが作れちゃうmockeryに感動したのでポエムを綴ってみました","updated_at":"2017-05-18T00:02:18+09:00","url":"http://qiita.com/myr/items/834f1229cffc06b539bc","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":0,"github_login_name":null,"id":"myr","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":62478,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/62478/profile-images/1481709445","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\n\u003ch2\u003e\n\u003cspan id=\"raspiコマンドまとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#raspi%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRasPiコマンドまとめ\u003c/h2\u003e\n\n\u003cul\u003e\n\u003cli\u003eShutdown\n\u003ccode\u003e$ sudo shutdown -h now\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003eReboot\n\u003ccode\u003e$ sudo shutdown -r now\u003c/code\u003e, \u003ccode\u003e$ sudo reboot\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003essh config (.ssh/config)\n\u003ccode\u003e\nHost Sample\n    HostName xxx.xxx.xxx.xxx\n    User sampleUser\n    ServerAliveInterval xx\n\u003c/code\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"raspi設定まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#raspi%E8%A8%AD%E5%AE%9A%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRasPi設定まとめ\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"raspiのupdate\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#raspi%E3%81%AEupdate\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRaspiのupdate\u003c/h3\u003e\n\n\u003cp\u003e\u003ccode\u003e$ sudo rpi-update\u003c/code\u003eで実行\u003c/p\u003e\n\n\u003cp\u003eその後\u003ccode\u003e$ sudo reboot\u003c/code\u003eで再起動\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"rootのパスワード設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#root%E3%81%AE%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003erootのパスワード設定\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003epi@raspberrypi:~ $ sudo passwd root\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eroot userでログインできるか確認\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003epi@raspberrypi:~ $ su\nPassword:\nroot@raspberrypi:/home/pi# exit\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"pi-userのパスワード設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pi-user%E3%81%AE%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epi userのパスワード設定\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003epi@raspberrypi:~ $ sudo passwd pi\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"user-sampleuser加える\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#user-sampleuser%E5%8A%A0%E3%81%88%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003euser (sampleUser)加える\u003c/h3\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003epi@raspberrypi:~ $ sudo adduser sampleUser\nAdding user `sampleUser' ...\nAdding new group `sampleUser' (1001) ...\nAdding new user `sampleUser' (1001) with group `sampleUser' ...\nCreating home directory `/home/sampleUser' ...\nCopying files from `/etc/skel' ...\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\nChanging the user information for sampleUser\nEnter the new value, or press ENTER for the default\n    Full Name []: \u0026lt; 空白でOK\n    Room Number []:\n    Work Phone []:\n    Home Phone []:\n    Other []:\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"piと同様の権限をsampleuserに渡す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pi%E3%81%A8%E5%90%8C%E6%A7%98%E3%81%AE%E6%A8%A9%E9%99%90%E3%82%92sampleuser%E3%81%AB%E6%B8%A1%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epiと同様の権限をsampleUserに渡す\u003c/h3\u003e\n\n\u003cp\u003eまずpiがどの権限を持ってるのか確認\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003epi@raspberrypi:~ $ groups pi\npi : pi adm dialout cdrom sudo audio video plugdev games users input netdev spi i2c gpio\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eこの権限をsampleUserに渡し、最後に\u003ccode\u003e$ groups sampleUser\u003c/code\u003eで権限確認\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003epi@raspberrypi:~ $ sudo usermod -G pi,adm,dialout,cdrom,sudo,audio,video,plugdev,games,users,netdev,input,spi,gpio sampleUser\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"ssh-keyをraspiに渡す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ssh-key%E3%82%92raspi%E3%81%AB%E6%B8%A1%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSSH KeyをRasPiに渡す\u003c/h2\u003e\n\n\u003cp\u003eTerminal 2つ [Local]と[Raspi]開きましょう (keygenミスったりすると入れなくなります)\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"1-keyを作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-key%E3%82%92%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. Keyを作成\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003e[local]$ ssh-keygen -t rsa\u003c/code\u003eにより\u003ccode\u003e~/.ssh/id_rsa\u003c/code\u003eにpublic keyとprivate key作成される\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"2-keyをraspi側に移す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-key%E3%82%92raspi%E5%81%B4%E3%81%AB%E7%A7%BB%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. KeyをRaspi側に移す\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003e[local]$ scp id_rsa.pub yourRasPiAddr:~/.ssh\u003c/code\u003epublic Keyを移動\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"3-public-keyをauthorized_keysに書き出す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-public-key%E3%82%92authorized_keys%E3%81%AB%E6%9B%B8%E3%81%8D%E5%87%BA%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. public Keyをauthorized_keysに書き出す\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e[Raspi]@raspberrypi:~/.ssh $ cat id_rsa.pub \u0026gt;\u0026gt; authorized_keys\n[Raspi]@raspberrypi:~/.ssh $ ls -a\n.  ..  authorized_key  id_rsa.pub\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"4-権限設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-%E6%A8%A9%E9%99%90%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. 権限設定\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e[Raspi]@raspberrypi:~/.ssh $ chmod 600 authorized_key\n[Raspi]@raspberrypi:~ $ chmod 700 .ssh\n[Raspi]@raspberrypi:~/.ssh $ su\nPassword:\nroot@raspberrypi:/home/[Raspi]/.ssh# cd /etc/ssh\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"5-デーモン書き換え\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E3%83%87%E3%83%BC%E3%83%A2%E3%83%B3%E6%9B%B8%E3%81%8D%E6%8F%9B%E3%81%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. デーモン書き換え\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003eroot@raspberrypi:/etc/ssh# vim sshd_config\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e以下のファイル書き換え\u003cbr\u003e\n\u003ccode\u003e\u003cbr\u003e\nAuthorizedKeysFile      %h/.ssh/authorized_keys\u003cbr\u003e\nPasswordAuthentication no\u003cbr\u003e\nPermitRootLogin no\u003cbr\u003e\n\u003c/code\u003e\u003c/p\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"6-デーモン再起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#6-%E3%83%87%E3%83%BC%E3%83%A2%E3%83%B3%E5%86%8D%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e6. デーモン再起動\u003c/h4\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e[Raspi]@raspberrypi:~/.ssh $ sudo /etc/init.d/ssh restart\n[ ok ] Restarting ssh (via systemctl): ssh.service.\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4\u003e\n\u003cspan id=\"7-raspiにlocalから接続\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#7-raspi%E3%81%ABlocal%E3%81%8B%E3%82%89%E6%8E%A5%E7%B6%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e7. RasPiに[local]から接続\u003c/h4\u003e\n","body":"\n## RasPiコマンドまとめ\n* Shutdown\n`$ sudo shutdown -h now`\n* Reboot\n`$ sudo shutdown -r now`, `$ sudo reboot`\n* ssh config (.ssh/config)\n  ```\n  Host Sample\n        HostName xxx.xxx.xxx.xxx\n        User sampleUser\n        ServerAliveInterval xx\n  ```\n\n## RasPi設定まとめ\n### Raspiのupdate\n`$ sudo rpi-update`で実行\n\nその後`$ sudo reboot`で再起動\n\n### rootのパスワード設定\n\n```\npi@raspberrypi:~ $ sudo passwd root\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\n```\n\nroot userでログインできるか確認\n\n```\npi@raspberrypi:~ $ su\nPassword:\nroot@raspberrypi:/home/pi# exit\n```\n\n### pi userのパスワード設定\n```\npi@raspberrypi:~ $ sudo passwd pi\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\n```\n### user (sampleUser)加える\n```\npi@raspberrypi:~ $ sudo adduser sampleUser\nAdding user `sampleUser' ...\nAdding new group `sampleUser' (1001) ...\nAdding new user `sampleUser' (1001) with group `sampleUser' ...\nCreating home directory `/home/sampleUser' ...\nCopying files from `/etc/skel' ...\nEnter new UNIX password:\nRetype new UNIX password:\npasswd: password updated successfully\nChanging the user information for sampleUser\nEnter the new value, or press ENTER for the default\n\tFull Name []: \u003c 空白でOK\n\tRoom Number []:\n\tWork Phone []:\n\tHome Phone []:\n\tOther []:\n```\n\n### piと同様の権限をsampleUserに渡す\nまずpiがどの権限を持ってるのか確認\n\n```\npi@raspberrypi:~ $ groups pi\npi : pi adm dialout cdrom sudo audio video plugdev games users input netdev spi i2c gpio\n```\nこの権限をsampleUserに渡し、最後に`$ groups sampleUser`で権限確認\n\n```\npi@raspberrypi:~ $ sudo usermod -G pi,adm,dialout,cdrom,sudo,audio,video,plugdev,games,users,netdev,input,spi,gpio sampleUser\n```\n\n## SSH KeyをRasPiに渡す\nTerminal 2つ [Local]と[Raspi]開きましょう (keygenミスったりすると入れなくなります)\n#### 1. Keyを作成\n`[local]$ ssh-keygen -t rsa`により`~/.ssh/id_rsa`にpublic keyとprivate key作成される\n#### 2. KeyをRaspi側に移す\n`[local]$ scp id_rsa.pub yourRasPiAddr:~/.ssh`public Keyを移動\n\n#### 3. public Keyをauthorized_keysに書き出す\n```\n[Raspi]@raspberrypi:~/.ssh $ cat id_rsa.pub \u003e\u003e authorized_keys\n[Raspi]@raspberrypi:~/.ssh $ ls -a\n.  ..  authorized_key  id_rsa.pub\n```\n#### 4. 権限設定\n```\n[Raspi]@raspberrypi:~/.ssh $ chmod 600 authorized_key\n[Raspi]@raspberrypi:~ $ chmod 700 .ssh\n[Raspi]@raspberrypi:~/.ssh $ su\nPassword:\nroot@raspberrypi:/home/[Raspi]/.ssh# cd /etc/ssh\n```\n#### 5. デーモン書き換え\n```\nroot@raspberrypi:/etc/ssh# vim sshd_config\n```\n\n以下のファイル書き換え\n```\nAuthorizedKeysFile      %h/.ssh/authorized_keys\nPasswordAuthentication no\nPermitRootLogin no\n```\n\n#### 6. デーモン再起動\n```\n[Raspi]@raspberrypi:~/.ssh $ sudo /etc/init.d/ssh restart\n[ ok ] Restarting ssh (via systemctl): ssh.service.\n```\n\n#### 7. RasPiに[local]から接続\n","coediting":false,"created_at":"2017-05-18T00:00:35+09:00","group":null,"id":"f2aaf89cff871a41e471","private":false,"tags":[{"name":"RaspberryPi","versions":[]}],"title":"Raspberry Piまとめ","updated_at":"2017-05-18T00:00:35+09:00","url":"http://qiita.com/orihomotakanat/items/f2aaf89cff871a41e471","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":1,"github_login_name":"orihomotakanat","id":"orihomotakanat","items_count":5,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":179534,"profile_image_url":"https://avatars0.githubusercontent.com/u/21169234?v=3","twitter_screen_name":null,"website_url":""}},{"rendered_body":"\u003cp\u003eSlackには \u003ccode\u003ePin\u003c/code\u003e という機能があります。\u003cbr\u003e\n重要なメッセージやファイルなどをチャンネルにピン留めしておくことで\u003cbr\u003e\nいつでも参照できるという機能です。\u003c/p\u003e\n\n\u003cp\u003e先日、新たに参加したメンバーがSlackの使い方をよく理解しておらず、\u003cbr\u003e\nチャンネル内にピン留されたメッセージなどをすべてはずしてしまうということがありました。\u003c/p\u003e\n\n\u003cp\u003eそこで誤ってピンが外れされてしまったとしても、再度自動でピンをしてくれるBotを\u003cbr\u003e\nbotkitを使って作成してみました。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"成果物\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%88%90%E6%9E%9C%E7%89%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e　成果物\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/55219/b58eb9df-c41f-e373-2ac2-a440c61447cc.gif\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/55219/b58eb9df-c41f-e373-2ac2-a440c61447cc.gif\" alt=\"repin_bot4.gif\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eピンが外れされたら、外した人へ警告メッセージを送信すると同時に\u003cbr\u003e\n再度ピン留を行っています。\u003c/p\u003e\n\n\u003cp\u003eピンを外したい場合は特定のキーワードを発言することで、\u003cbr\u003e\n一定時間のみピンをはずすことができます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"コード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコード\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebot.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etoken\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'Error: Specify token in environment'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eexit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003eBotkit\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003erequire\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'botkit'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003econtroller\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eBotkit\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eslackbot\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003edebug\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003ebot\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003econtroller\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003espawn\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003etoken\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etoken\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eretry\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}).\u003c/span\u003e\u003cspan class=\"nx\"\u003estartRTM\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nb\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ecanPinRemoved\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econtroller\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ehears\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'ピンはずさせてやー'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'direct_message'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'direct_mention'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'mention'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003ecanPinRemoved\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereply\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'30秒だけ待ったる'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003esetTimeout\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecanPinRemoved\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ereply\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ほい時間ぎれー'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"mi\"\u003e10000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econtroller\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'pin_removed'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecanPinRemoved\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eapi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eusers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003einfo\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euser\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e){\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003euserName\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eapi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epins\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eadd\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003echannel\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003echannel_id\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003etimestamp\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eitem\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ets\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003ebot\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esay\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"sb\"\u003e`ちょっと @\u003c/span\u003e\u003cspan class=\"si\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003euserName\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"sb\"\u003e はん。 勝手にピンはずさんといてやー。\u003c/span\u003e\u003cspan class=\"err\"\u003e\\\u003c/span\u003e\u003cspan class=\"sb\"\u003enしゃあないからもっかいピンしといたでー`\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003elink_names\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003echannel\u003c/span\u003e\u003cspan class=\"o\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003echannel_id\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003econtroller.on で \u003ccode\u003epin_removed\u003c/code\u003e イベントを待機します。\u003cbr\u003e\nイベントが発生したら \u003ccode\u003emessage\u003c/code\u003e オブジェクトから必要な値を取得していきます。\u003cbr\u003e\nここではイベントを発生したユーザーがIDで渡ってくるので\u003cbr\u003e\n\u003ccode\u003eusers.info\u003c/code\u003e API を使用してユーザー名を取得しています。\u003c/p\u003e\n\n\u003cp\u003eピン留は \u003ccode\u003epins.add\u003c/code\u003e APIを使用して行っています。\u003cbr\u003e\nここでは \u003ccode\u003etimestamp\u003c/code\u003e に対象のメッセージのtimestampを設定することで\u003cbr\u003e\nメッセージのピン留めを行うことができます。\u003c/p\u003e\n\n\u003cp\u003e今回の実装ではファイルなどのピン留めには対応していないため、\u003cbr\u003e\nまた対応できるようにしていきたいです。\u003c/p\u003e\n\n\u003cp\u003eコードは\u003ca href=\"https://github.com/tamanugi/repin-bot\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eにもあげております。\u003c/p\u003e\n","body":"Slackには `Pin` という機能があります。\n重要なメッセージやファイルなどをチャンネルにピン留めしておくことで\nいつでも参照できるという機能です。\n\n先日、新たに参加したメンバーがSlackの使い方をよく理解しておらず、\nチャンネル内にピン留されたメッセージなどをすべてはずしてしまうということがありました。\n\nそこで誤ってピンが外れされてしまったとしても、再度自動でピンをしてくれるBotを\nbotkitを使って作成してみました。\n\n#　成果物\n![repin_bot4.gif](https://qiita-image-store.s3.amazonaws.com/0/55219/b58eb9df-c41f-e373-2ac2-a440c61447cc.gif)\n\nピンが外れされたら、外した人へ警告メッセージを送信すると同時に\n再度ピン留を行っています。\n\nピンを外したい場合は特定のキーワードを発言することで、\n一定時間のみピンをはずすことができます。\n\n# コード\n\n```javascript:bot.js\nif (!process.env.token) {\n  console.log('Error: Specify token in environment');\n  process.exit(1);\n}\n\nvar Botkit = require('botkit');\n\nvar controller = Botkit.slackbot({\n  debug: false\n});\n\nvar bot = controller.spawn({\n  token: process.env.token,\n  retry: true\n}).startRTM(function(error){\n  if(error){\n    throw new Error(error);\n  }\n});\n\nlet canPinRemoved = false;\n\ncontroller.hears('ピンはずさせてやー', ['direct_message', 'direct_mention', 'mention'], (bot, message) =\u003e {\n  canPinRemoved = true;\n  bot.reply(message, '30秒だけ待ったる');\n  setTimeout((bot, message) =\u003e {\n    canPinRemoved = false;\n    bot.reply(message, 'ほい時間ぎれー');\n  }, 10000, bot, message);\n});\n\ncontroller.on('pin_removed', function(bot, message) {\n\n  if(canPinRemoved) return;\n\n  bot.api.users.info({\n    user: message.user\n  }, function(error, result){\n    if(error) console.log(error);\n\n    let userName = result.user.name;\n\n    bot.api.pins.add({\n      channel: message.channel_id,\n      timestamp: message.item.message.ts\n    });\n\n    bot.say({\n      text: `ちょっと @${userName} はん。 勝手にピンはずさんといてやー。\\nしゃあないからもっかいピンしといたでー`,\n      link_names: true,\n      channel: message.channel_id\n    });\n  });\n\n\n});\n\n```\n\ncontroller.on で `pin_removed` イベントを待機します。\nイベントが発生したら `message` オブジェクトから必要な値を取得していきます。\nここではイベントを発生したユーザーがIDで渡ってくるので\n`users.info` API を使用してユーザー名を取得しています。\n\nピン留は `pins.add` APIを使用して行っています。\nここでは `timestamp` に対象のメッセージのtimestampを設定することで\nメッセージのピン留めを行うことができます。\n\n今回の実装ではファイルなどのピン留めには対応していないため、\nまた対応できるようにしていきたいです。\n\n\nコードは[こちら](https://github.com/tamanugi/repin-bot)にもあげております。\n","coediting":false,"created_at":"2017-05-17T23:56:42+09:00","group":null,"id":"73bfc61272de95e3ebd1","private":false,"tags":[{"name":"Slack","versions":[]},{"name":"Botkit","versions":[]}],"title":"[Slack]チャンネルのピンが外されたら再度ピンしてくれるBot","updated_at":"2017-05-17T23:56:42+09:00","url":"http://qiita.com/tamanugi/items/73bfc61272de95e3ebd1","user":{"description":null,"facebook_id":null,"followees_count":6,"followers_count":2,"github_login_name":"tamanugi","id":"tamanugi","items_count":31,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":55219,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/55219/profile-images/1473693620","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\n\u003ch3\u003e\n\u003cspan id=\"事象\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BA%8B%E8%B1%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e事象\u003c/h3\u003e\n\n\u003cp\u003eaws cliでs3コマンドを実行するとタイトルのエラー。\u003cbr\u003e\n\u003c/p\u003e\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\n$ aws s3 ls\n\n'str' object has no attribute 'get'\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"原因\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8E%9F%E5%9B%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e原因\u003c/h3\u003e\n\n\u003cp\u003e.aws/configのs3署名バージョン部で改行が入っていない。\u003c/p\u003e\n\n\u003cp\u003e(誤)\u003cbr\u003e\n\u003c/p\u003e\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\n$ cat .aws/config\n[default]\noutput = json\nregion = ap-northeast-1\ns3 = signature_version = s3v4\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e(正)\u003cbr\u003e\n\u003c/p\u003e\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\n$ cat .aws/config\n[default]\noutput = json\nregion = ap-northeast-1\ns3 =\n      signature_version = s3v4\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\u003cbr\u003e\n※[]内は各々で定義したprofile名です。\n\n\u003cp\u003eIAM権限が足りない場合(s3:ListBucketが無い)でも同様のエラーが発生しました。\u003c/p\u003e\n\n\u003cp\u003e切り分けのためにpython、boto、aws cliのバージョンやIAMを見て少し長引いたため共有です。\u003c/p\u003e\n","body":"###事象\naws cliでs3コマンドを実行するとタイトルのエラー。\n\u003cpre\u003e\n$ aws s3 ls\n\n'str' object has no attribute 'get'\n\u003c/pre\u003e\n\n###原因\n.aws/configのs3署名バージョン部で改行が入っていない。\n\n(誤)\n\u003cpre\u003e\n$ cat .aws/config\n[default]\noutput = json\nregion = ap-northeast-1\ns3 = signature_version = s3v4\n\u003c/pre\u003e\n\n(正)\n\u003cpre\u003e\n$ cat .aws/config\n[default]\noutput = json\nregion = ap-northeast-1\ns3 =\n      signature_version = s3v4\n\u003c/pre\u003e\n※[]内は各々で定義したprofile名です。\n\nIAM権限が足りない場合(s3:ListBucketが無い)でも同様のエラーが発生しました。\n\n切り分けのためにpython、boto、aws cliのバージョンやIAMを見て少し長引いたため共有です。\n\n","coediting":false,"created_at":"2017-05-17T23:52:48+09:00","group":null,"id":"04b252ff40bcab0222bf","private":false,"tags":[{"name":"AWS","versions":[]},{"name":"S3","versions":[]},{"name":"awscli","versions":[]}],"title":"'str' object has no attribute 'get'","updated_at":"2017-05-17T23:52:48+09:00","url":"http://qiita.com/lawliteqed/items/04b252ff40bcab0222bf","user":{"description":null,"facebook_id":null,"followees_count":1,"followers_count":1,"github_login_name":"lawliteqed","id":"lawliteqed","items_count":2,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":121456,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/121456/profile-images/1475932112","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"リンク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h1\u003e\n\n\u003cp\u003eこの記事は、次の記事と相互リンクです。\u003cbr\u003e\n\u003ca href=\"http://qiita.com/standard-software/items/189241606d32d3cd956d\" id=\"reference-592e100b6df0ed455312\"\u003eVisual Studio Code を外部エディタから開く。 - Qiita\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003eVisual Studio Code (VSCode) をIDEの外部エディタとして使用するだけでなく、VSCodeから他のエディタを使えたら、ツール間の連携がとれていいなと思ったので調べました。\u003c/p\u003e\n\n\u003cp\u003eかなりややこしく、かつ、他の方に役に立つと思うのでまとめておきます。\u003c/p\u003e\n\n\u003cp\u003eまだ調べきれていないことや、コマンド入力欄の正式な名前などがわからない所があるので、何かご存知の事あればコメントをください。\u003c/p\u003e\n\n\u003cp\u003e私は、EmEditorを使っているので他のエディタは調べきれていないのですが、この記事で扱う内容でVSCodeとEmEditorで相互で同じファイルを編集できるやり方がわかれば、他のエディタに応用することは簡単にできると思うのでご利用ください。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003cp\u003e環境はWindowsです。\u003c/p\u003e\n\n\u003cp\u003eVSCodeのインストールはしておいてください。やり方はどこかで探しましょう。\u003c/p\u003e\n\n\u003cp\u003eコマンドラインで実行した現在(最新)のバージョンは次の通りです。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u0026gt; code -v\n1.12.2\n19222cdc84ce72202478ba1cec5cb557b71163de\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003ecodeコマンドで起動できるのはかっこいいです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"目次\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E6%AC%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目次\u003c/h1\u003e\n\n\u003col\u003e\n\u003cli\u003etasks.json を利用して、VSCodeから外部エディタを開く\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"1-拡張機能-open-in-editor-を利用してvscodeから外部エディタを開く\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E6%8B%A1%E5%BC%B5%E6%A9%9F%E8%83%BD-open-in-editor-%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6vscode%E3%81%8B%E3%82%89%E5%A4%96%E9%83%A8%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E3%82%92%E9%96%8B%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. 拡張機能 Open in Editor を利用して、VSCodeから外部エディタを開く\u003c/h2\u003e\n\n\u003cp\u003etasks.json を使う方法は、外部エディタの起動のために[Ctrl+Pキー]を押してコマンド入力欄(正式名称不明)に、[task editor]などと入力する手間があります。また、tasks.jsonは編集しているファイル群のあるフォルダだけで設定が有効になるので、プロジェクトごとにtasks.jsonファイルを配置が必要です。tasks.jsonで定義したショートカットキーへの割当方法はよくわかりません。\u003c/p\u003e\n\n\u003cp\u003e拡張機能のOpen in Editor は、[Alt+Shift+Eキー]で外部エディタを起動することができます。結構便利です。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"tasksjson-を利用してvscodeから外部エディタを開く\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tasksjson-%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6vscode%E3%81%8B%E3%82%89%E5%A4%96%E9%83%A8%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E3%82%92%E9%96%8B%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003etasks.json を利用して、VSCodeから外部エディタを開く\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"tasksjsonの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tasksjson%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003etasks.jsonの作成\u003c/h2\u003e\n\n\u003cp\u003eまず、tasks.jsonを作成します。\u003c/p\u003e\n\n\u003cp\u003eVSCodeは、例えば、C:\\Temp\\Test\\A.js のファイルを編集したり実行する際には、Testフォルダをプロジェクトフォルダとして認識します。\u003c/p\u003e\n\n\u003cp\u003eこのプロジェクトフォルダのVSCodeの設定は、\u003c/p\u003e\n\n\u003cp\u003eC:\\Temp\\Test..vscode\u003c/p\u003e\n\n\u003cp\u003eに入っており、tasks.jsonは\u003c/p\u003e\n\n\u003cp\u003eC:\\Temp\\Test..vscode\\tasks.json\u003c/p\u003e\n\n\u003cp\u003eに配置されることになります。\u003cbr\u003e\nこの場所に自分で作成してもいいのですが、VSCodeでも作成できるのでそちらを行います。\u003c/p\u003e\n\n\u003cp\u003eC:\\Temp\\Test\\A.js\u003c/p\u003e\n\n\u003cp\u003eを、開いているとします。(jsファイルではなく、テキストファイルでもなんでもよいです)\u003c/p\u003e\n\n\u003cp\u003eF1キーで、入力欄を表示します。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u0026gt;task bui\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eと入力すると、[Tasks: Run Build Task]、が選択されます。\u003cbr\u003e\n実行すると、「ビルドタスクが構成されていません」みたいなメッセージがでるので「ビルドタスクを構成します」のボタンが表示されているので押します。\u003c/p\u003e\n\n\u003cp\u003eここで、いろいろリストがでます(gulp|grunt|npm|typescript etc..)。一番下に表示される[Others 任意の外部コマンドを...]を、選択します。\u003c/p\u003e\n\n\u003cp\u003eそうすると、ファイルと同階層に、[.vscode\\tasks.json]ファイルが作成されます。\u003c/p\u003e\n\n\u003cp\u003e※また、[.vscode\\tasks.json]ファイルを作るのは、\u003cbr\u003e\n```\u003c/p\u003e\n\n\u003cblockquote\u003e\n\u003cp\u003econfigure task runner \u003cbr\u003e\n```\u003cbr\u003e\nこちらのコマンドでもよいようです。こちらもリストが表示されるので、[Others 任意の外部コマンドを...]を選択してください。\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003e次の場所にファイルが作成されます。\u003cbr\u003e\nこのファイルを編集することで、taskコマンドを拡張することができます。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eC\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003eSee\u003c/span\u003e \u003cspan class=\"err\"\u003ehttps://go.microsoft.com/fwlink/?LinkId=733558\u003c/span\u003e\n  \u003cspan class=\"err\"\u003e//\u003c/span\u003e \u003cspan class=\"err\"\u003efor\u003c/span\u003e \u003cspan class=\"err\"\u003ethe\u003c/span\u003e \u003cspan class=\"err\"\u003edocumentation\u003c/span\u003e \u003cspan class=\"err\"\u003eabout\u003c/span\u003e \u003cspan class=\"err\"\u003ethe\u003c/span\u003e \u003cspan class=\"err\"\u003etasks.json\u003c/span\u003e \u003cspan class=\"err\"\u003eformat\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"0.1.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\"command\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"echo\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\"isShellCommand\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Hello World\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\"showOutput\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"always\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"外部エディタを定義する-tasksjson-の設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%96%E9%83%A8%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%99%E3%82%8B-tasksjson-%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e外部エディタを定義する tasks.json の設定\u003c/h2\u003e\n\n\u003cp\u003etasks.json を次のようにします。\u003cbr\u003e\nこれは、VSCodeを使っても、エディタを使って編集してもいいでしょう。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etasks.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\"version\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"0.1.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\"command\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"cmd\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"err\"\u003e//あるいは\u003c/span\u003e \u003cspan class=\"nt\"\u003e\"command\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"cmd.exe\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\"isShellCommand\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\"showOutput\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"always\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/C\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\"tasks\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"taskName\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"editor\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"suppressTaskName\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\\\"C:\\\\Program Files (x86)\\\\EmEditor\\\\EmEditor.exe\\\" /l ${lineNumber} ${file}\"\u003c/span\u003e \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"showOutput\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"never\"\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"taskName\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"test\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"suppressTaskName\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"args\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"echo Hello World! \"\u003c/span\u003e \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\"showOutput\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"always\"\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003etaskName として、editor と test を登録してみています。\u003cbr\u003e\nこれを真似して書いてもらえれば、いくつでもタスクを増やすことができます。\u003c/p\u003e\n\n\u003cp\u003e今回使うのは、\"taskName\": \"editor\", の所だけです。\u003c/p\u003e\n\n\u003cp\u003eこのように書くことで、VSCode の機能が拡張されます。\u003c/p\u003e\n\n\u003cp\u003eダブルクォーテーションや、パス区切り記号を間違えないように注意して設定してください。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"vscode-から動作を確認する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vscode-%E3%81%8B%E3%82%89%E5%8B%95%E4%BD%9C%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVSCode から動作を確認する。\u003c/h2\u003e\n\n\u003cp\u003eVSCode に戻り、C:\\Temp\\Test\\A.js を開いた状態にして\u003c/p\u003e\n\n\u003cp\u003e[Ctrl + P キー]を押してください。F1キーをおした時と同じ入力欄が出ます。\u003cbr\u003e\n(コマンド入力モードか、そうでないか、が違いがあるようです。)\u003c/p\u003e\n\n\u003cp\u003eそこで、\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003etask editor\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eと入力、Enter を押すと、外部エディタとしてEmEditorが起動します。\u003cbr\u003e\nVSCodeで編集しているカーソル(キャレット)のある行が、EmEditor でも開くようになります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"拡張機能-open-in-editor-を利用してvscodeから外部エディタを開く\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8B%A1%E5%BC%B5%E6%A9%9F%E8%83%BD-open-in-editor-%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6vscode%E3%81%8B%E3%82%89%E5%A4%96%E9%83%A8%E3%82%A8%E3%83%87%E3%82%A3%E3%82%BF%E3%82%92%E9%96%8B%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e拡張機能 Open in Editor を利用して、VSCodeから外部エディタを開く\u003c/h1\u003e\n\n\u003cp\u003e拡張機能 Open in Editor を使うと、わざわざ [tasks …]とか入力しなくてもショートカットキーでエディタが開けるので、毎回開くファイルごとフォルダごとにtasks.jsonを編集して外部エディタを開く設定をするよりも便利です。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"インストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eインストール\u003c/h2\u003e\n\n\u003cp\u003eOpen in editor 拡張機能のインストール手順です。\u003c/p\u003e\n\n\u003cp\u003eF1キーを押して、コマンド入力欄を出し\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u0026gt;install\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eと入力すると、いくつかコマンドが出て来るので[Extensions: Install]を選んでください。拡張機能欄が表示されます。\u003c/p\u003e\n\n\u003cp\u003e[open in editor]\u003c/p\u003e\n\n\u003cp\u003eで検索すると、open in editor 拡張を選択することができるので、[インストール]を押してインストールしてください。\u003c/p\u003e\n\n\u003cp\u003eしばらくすると、[インストール]ボタンが、[再読み込む]ボタン(む？)に変わるので押してください。ダイアログがでて、[ウィンドウの再読み込み]ボタンを押します。これは、VSCodeの内部の枠だけが再起動されるような機能になっています。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e設定\u003c/h2\u003e\n\n\u003cp\u003eOpen in Editor の設定は、VSCodeの普通の設定で行います。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003cp\u003eメニューの[ファイル][基本設定][設定]を選択\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e表示される、[settinngs.json]を下にスクロールすると、\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003eOpen in External Editor configuration が現れるので中身を展開してみる。\u003c/p\u003e\u003c/li\u003e\n\u003cli\u003e\u003cp\u003e次の2つの設定を行う\u003c/p\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"json\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esettings.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e    \u003cspan class=\"s2\"\u003e\"alt-editor.binary\"\u003c/span\u003e\u003cspan class=\"err\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"C:\\\\Program Files (x86)\\\\EmEditor\\\\EmEditor.exe\"\u003c/span\u003e\u003cspan class=\"err\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\"alt-editor.args\"\u003c/span\u003e\u003cspan class=\"err\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"/l {line} {filename}\"\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"動作確認\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e動作確認\u003c/h2\u003e\n\n\u003cp\u003eVSCodeでファイルを見ている時に、[Alt+Shift+Eキー]を押すと、EmEditorが起動します。\u003c/p\u003e\n\n\u003cp\u003eVSCodeで編集しているカーソル(キャレット)のある行が、EmEditor でも開くようになります。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"参考にした記事\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%97%E3%81%9F%E8%A8%98%E4%BA%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考にした記事\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://www.atmarkit.co.jp/ait/articles/1509/08/news019_2.html\" rel=\"nofollow noopener\" target=\"_blank\"\u003e特集：Visual Studio Code早分かりガイド：Visual Studio Codeの使い勝手をよくするツール (2/5) - ＠IT\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://qiita.com/usagi/items/5a0f4edc99420173abb3\" id=\"reference-502c337ce3cd47893a7f\"\u003eVisual Studio Code: Task 機能に複数の任意のコマンドを簡単に仕込む方法 - Qiita\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"http://renga.hatenadiary.com/entry/2016/07/16/004018\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVisual Studio Codeのtasks.jsonメモ - レンガ積みのブログ\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eとても参考になりました。ありがとうございます。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ということで\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A8%E3%81%84%E3%81%86%E3%81%93%E3%81%A8%E3%81%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eということで\u003c/h1\u003e\n\n\u003cp\u003eVSCode と 自分のお気に入りのエディタなどを組み合わせて便利に使っていきましょう。\u003c/p\u003e\n","body":"\n# リンク\nこの記事は、次の記事と相互リンクです。\n[Visual Studio Code を外部エディタから開く。 - Qiita](http://qiita.com/standard-software/items/189241606d32d3cd956d)\n\n# はじめに\n\nVisual Studio Code (VSCode) をIDEの外部エディタとして使用するだけでなく、VSCodeから他のエディタを使えたら、ツール間の連携がとれていいなと思ったので調べました。\n\nかなりややこしく、かつ、他の方に役に立つと思うのでまとめておきます。\n\nまだ調べきれていないことや、コマンド入力欄の正式な名前などがわからない所があるので、何かご存知の事あればコメントをください。\n\n私は、EmEditorを使っているので他のエディタは調べきれていないのですが、この記事で扱う内容でVSCodeとEmEditorで相互で同じファイルを編集できるやり方がわかれば、他のエディタに応用することは簡単にできると思うのでご利用ください。\n\n# 環境\n\n環境はWindowsです。\n\nVSCodeのインストールはしておいてください。やり方はどこかで探しましょう。\n\nコマンドラインで実行した現在(最新)のバージョンは次の通りです。\n\n```\n\u003e code -v\n1.12.2\n19222cdc84ce72202478ba1cec5cb557b71163de\n```\n\ncodeコマンドで起動できるのはかっこいいです。\n\n\n# 目次\n1. tasks.json を利用して、VSCodeから外部エディタを開く\n1. 拡張機能 Open in Editor を利用して、VSCodeから外部エディタを開く\n---\ntasks.json を使う方法は、外部エディタの起動のために[Ctrl+Pキー]を押してコマンド入力欄(正式名称不明)に、[task editor]などと入力する手間があります。また、tasks.jsonは編集しているファイル群のあるフォルダだけで設定が有効になるので、プロジェクトごとにtasks.jsonファイルを配置が必要です。tasks.jsonで定義したショートカットキーへの割当方法はよくわかりません。\n\n拡張機能のOpen in Editor は、[Alt+Shift+Eキー]で外部エディタを起動することができます。結構便利です。\n\n\n# tasks.json を利用して、VSCodeから外部エディタを開く\n\n## tasks.jsonの作成\n\nまず、tasks.jsonを作成します。\n\nVSCodeは、例えば、C:\\Temp\\Test\\A.js のファイルを編集したり実行する際には、Testフォルダをプロジェクトフォルダとして認識します。\n\nこのプロジェクトフォルダのVSCodeの設定は、\n\nC:\\Temp\\Test\\..vscode\n\nに入っており、tasks.jsonは\n\nC:\\Temp\\Test\\..vscode\\tasks.json\n\nに配置されることになります。\nこの場所に自分で作成してもいいのですが、VSCodeでも作成できるのでそちらを行います。\n\nC:\\Temp\\Test\\A.js\n\nを、開いているとします。(jsファイルではなく、テキストファイルでもなんでもよいです)\n\nF1キーで、入力欄を表示します。\n\n```\n\u003etask bui\n```\n\nと入力すると、[Tasks: Run Build Task]、が選択されます。\n実行すると、「ビルドタスクが構成されていません」みたいなメッセージがでるので「ビルドタスクを構成します」のボタンが表示されているので押します。\n\nここで、いろいろリストがでます(gulp|grunt|npm|typescript etc..)。一番下に表示される[Others 任意の外部コマンドを...]を、選択します。\n\nそうすると、ファイルと同階層に、[.vscode\\tasks.json]ファイルが作成されます。\n\n※また、[.vscode\\tasks.json]ファイルを作るのは、\n```\n\u003econfigure task runner \n```\nこちらのコマンドでもよいようです。こちらもリストが表示されるので、[Others 任意の外部コマンドを...]を選択してください。\n\n次の場所にファイルが作成されます。\nこのファイルを編集することで、taskコマンドを拡張することができます。\n\n```json:C:\\Temp\\Test\\.vscode\\tasks.json\n{\n  // See https://go.microsoft.com/fwlink/?LinkId=733558\n  // for the documentation about the tasks.json format\n  \"version\": \"0.1.0\",\n  \"command\": \"echo\",\n  \"isShellCommand\": true,\n  \"args\": [\"Hello World\"],\n  \"showOutput\": \"always\"\n}\n```\n\n## 外部エディタを定義する tasks.json の設定\n\ntasks.json を次のようにします。\nこれは、VSCodeを使っても、エディタを使って編集してもいいでしょう。\n\n```json:tasks.json\n{\n    \"version\": \"0.1.0\",\n    \"command\": \"cmd\",\n    //あるいは \"command\": \"cmd.exe\",\n    \"isShellCommand\": true,\n    \"showOutput\": \"always\",\n    \"args\": [\"/C\"],\n    \"tasks\": [\n        {\n            \"taskName\": \"editor\",\n            \"suppressTaskName\": true,\n            \"args\": [ \"\\\"C:\\\\Program Files (x86)\\\\EmEditor\\\\EmEditor.exe\\\" /l ${lineNumber} ${file}\" ],\n            \"showOutput\": \"never\"\n        },\n        {\n            \"taskName\": \"test\",\n            \"suppressTaskName\": true,\n            \"args\": [ \"echo Hello World! \" ],\n            \"showOutput\": \"always\"\n        }\n    ]\n}\n```\n\ntaskName として、editor と test を登録してみています。\nこれを真似して書いてもらえれば、いくつでもタスクを増やすことができます。\n\n今回使うのは、\"taskName\": \"editor\", の所だけです。\n\nこのように書くことで、VSCode の機能が拡張されます。\n\nダブルクォーテーションや、パス区切り記号を間違えないように注意して設定してください。\n\n## VSCode から動作を確認する。\n\nVSCode に戻り、C:\\Temp\\Test\\A.js を開いた状態にして\n\n[Ctrl + P キー]を押してください。F1キーをおした時と同じ入力欄が出ます。\n(コマンド入力モードか、そうでないか、が違いがあるようです。)\n\nそこで、\n\n```\ntask editor\n```\n\nと入力、Enter を押すと、外部エディタとしてEmEditorが起動します。\nVSCodeで編集しているカーソル(キャレット)のある行が、EmEditor でも開くようになります。\n\n\n# 拡張機能 Open in Editor を利用して、VSCodeから外部エディタを開く\n\n拡張機能 Open in Editor を使うと、わざわざ [tasks …]とか入力しなくてもショートカットキーでエディタが開けるので、毎回開くファイルごとフォルダごとにtasks.jsonを編集して外部エディタを開く設定をするよりも便利です。\n\n## インストール\n\nOpen in editor 拡張機能のインストール手順です。\n\nF1キーを押して、コマンド入力欄を出し\n\n```\n\u003einstall\n```\n\nと入力すると、いくつかコマンドが出て来るので[Extensions: Install]を選んでください。拡張機能欄が表示されます。\n\n[open in editor]\n\nで検索すると、open in editor 拡張を選択することができるので、[インストール]を押してインストールしてください。\n\nしばらくすると、[インストール]ボタンが、[再読み込む]ボタン(む？)に変わるので押してください。ダイアログがでて、[ウィンドウの再読み込み]ボタンを押します。これは、VSCodeの内部の枠だけが再起動されるような機能になっています。\n\n## 設定\n\nOpen in Editor の設定は、VSCodeの普通の設定で行います。\n\n* メニューの[ファイル][基本設定][設定]を選択\n\n* 表示される、[settinngs.json]を下にスクロールすると、\n\n* Open in External Editor configuration が現れるので中身を展開してみる。\n\n* 次の2つの設定を行う\n\n```settings.json\n    \"alt-editor.binary\": \"C:\\\\Program Files (x86)\\\\EmEditor\\\\EmEditor.exe\",\n    \"alt-editor.args\": \"/l {line} {filename}\"\n```\n\n## 動作確認\n\nVSCodeでファイルを見ている時に、[Alt+Shift+Eキー]を押すと、EmEditorが起動します。\n\nVSCodeで編集しているカーソル(キャレット)のある行が、EmEditor でも開くようになります。\n\n\n# 参考にした記事\n\n* [特集：Visual Studio Code早分かりガイド：Visual Studio Codeの使い勝手をよくするツール (2/5) - ＠IT](http://www.atmarkit.co.jp/ait/articles/1509/08/news019_2.html)\n* [Visual Studio Code: Task 機能に複数の任意のコマンドを簡単に仕込む方法 - Qiita](http://qiita.com/usagi/items/5a0f4edc99420173abb3)\n* [Visual Studio Codeのtasks.jsonメモ - レンガ積みのブログ](http://renga.hatenadiary.com/entry/2016/07/16/004018)\n\nとても参考になりました。ありがとうございます。\n\n# ということで\n\nVSCode と 自分のお気に入りのエディタなどを組み合わせて便利に使っていきましょう。\n\n","coediting":false,"created_at":"2017-05-17T23:50:17+09:00","group":null,"id":"785e3c27865a8e8d0b92","private":false,"tags":[{"name":"code","versions":[]},{"name":"Studio","versions":[]},{"name":"Visual","versions":[]}],"title":"Visual Studio Code から外部エディタを開く。","updated_at":"2017-05-18T00:11:17+09:00","url":"http://qiita.com/standard-software/items/785e3c27865a8e8d0b92","user":{"description":"","facebook_id":"","followees_count":0,"followers_count":1,"github_login_name":"standard-software","id":"standard-software","items_count":7,"linkedin_id":"","location":"Tokyo","name":"","organization":"Standard Software","permanent_id":96423,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/96423/profile-images/1494598363","twitter_screen_name":null,"website_url":"https://www.facebook.com/stndardsoftware/"}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"やってみたいこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eやってみたいこと\u003c/h1\u003e\n\n\u003cp\u003enginx でロードバランスを行い、WEB#1/WEB#2 を起動して apache のログを fluend でログサーバへ転送してその内容をリアルタイムで確認して ABテスト環境のベースを作成したい。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"動機\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8B%95%E6%A9%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e動機\u003c/h1\u003e\n\n\u003cp\u003eWEB#1/WEB#2 で冗長構成で運用されているサービスをいつも見かけるけど。その中で自分のリリースしたサービスが本当に価値のあるものあのかを確認できるようにすることで技術を提案できるのではとおもったから\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"環境構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境構築\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"いつもどおり-vagrant-で仮想環境を構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%84%E3%81%A4%E3%82%82%E3%81%A9%E3%81%8A%E3%82%8A-vagrant-%E3%81%A7%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%82%92%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eいつもどおり Vagrant で仮想環境を構築\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"rb\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eVagrantfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e  \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edefine\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"nginx\"\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003enginx\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n      \u003cspan class=\"n\"\u003enginx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebox\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"centos7\"\u003c/span\u003e\n      \u003cspan class=\"n\"\u003enginx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetwork\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"forwarded_port\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eguest\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003ehost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e8080\u003c/span\u003e\n      \u003cspan class=\"n\"\u003enginx\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetwork\u003c/span\u003e \u003cspan class=\"ss\"\u003e:private_network\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eip\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"192.168.33.10\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003evirtualbox__intnet\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"intnet\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edefine\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"web1\"\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003eweb1\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eweb1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebox\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"centos7\"\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e#web1.vm.network :forwarded_port, id: \"ssh\", guest: 22, host: 2222\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e#web1.vm.network \"forwarded_port\", guest: 80, host: 8080\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eweb1\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetwork\u003c/span\u003e \u003cspan class=\"ss\"\u003e:private_network\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eip\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"192.168.33.100\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003evirtualbox__intnet\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"intnet\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n  \u003cspan class=\"n\"\u003econfig\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003edefine\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"web2\"\u003c/span\u003e \u003cspan class=\"k\"\u003edo\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003eweb2\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eweb2\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ebox\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"centos7\"\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eweb2\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetwork\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"forwarded_port\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eguest\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e80\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003ehost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e8082\u003c/span\u003e\n      \u003cspan class=\"n\"\u003eweb2\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003evm\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003enetwork\u003c/span\u003e \u003cspan class=\"ss\"\u003e:private_network\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003eip\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"192.168.33.102\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"ss\"\u003evirtualbox__intnet\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"intnet\"\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"nginx-インストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nginx-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003enginx インストール\u003c/h1\u003e\n\n\u003cp\u003eここの centos 用の設定を参照\u003cbr\u003e\n\u003ca href=\"https://www.nginx.com/resources/wiki/start/topics/tutorials/install/\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://www.nginx.com/resources/wiki/start/topics/tutorials/install/\u003c/a\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/etc/yum.repos.d/nginx.repo\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\ngpgcheck=0\nenabled=1\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e$ \u003ccode\u003esudo yum -y install nginx\u003c/code\u003e\u003cbr\u003e\n$ \u003ccode\u003enginx -v\u003c/code\u003e\u003cbr\u003e\n\u003cem\u003e今回インストールしたバージョンは\u003ccode\u003enginx version: nginx/1.12.0\u003c/code\u003eでした\u003c/em\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"nginx-起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nginx-%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003enginx 起動\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ sudo systemctl start nginx\n$ sudo systemctl status nginx\nnginx.service - nginx - high performance web server\n   Loaded: loaded (/usr/lib/systemd/system/nginx.service; disabled)\n   Active: active (running) since 火 2017-05-16 14:02:29 UTC; 6s ago\n     Docs: http://nginx.org/en/docs/\n  Process: 21017 ExecStart=/usr/sbin/nginx -c /etc/nginx/nginx.conf (code=exited, status=0/SUCCESS)\n  Process: 21015 ExecStartPre=/usr/sbin/nginx -t -c /etc/nginx/nginx.conf (code=exited, status=0/SUCCESS)\n Main PID: 21019 (nginx)\n   CGroup: /system.slice/nginx.service\n           ├─21019 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf\n           └─21020 nginx: worker process\n\n 5月 16 14:02:28 localhost.localdomain systemd[1]: Starting nginx - high performance web server...\n 5月 16 14:02:28 localhost.localdomain nginx[21015]: nginx: the configuration file /etc/nginx/nginx.conf... ok\n 5月 16 14:02:28 localhost.localdomain nginx[21015]: nginx: configuration file /etc/nginx/nginx.conf tes...ful\n 5月 16 14:02:28 localhost.localdomain systemd[1]: PID 20976 read from file /run/nginx.pid does not exist.\n 5月 16 14:02:29 localhost.localdomain systemd[1]: Started nginx - high performance web server.\nHint: Some lines were ellipsized, use -l to show in full.\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"nginx-動作確認\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nginx-%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003enginx 動作確認\u003c/h1\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://localhost:8080\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:8080\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"apache-インストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#apache-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eapache インストール\u003c/h1\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e共通設定\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ sudo systemctl stop firewalld\n$ sudo ssytemctl disable firewalld\n$ sudo yum install httpd\n$ sudo systemctl status httpd\n$ sudo systemctl start httpd\n$ sudo systemctl status httpd\n$ sudo systemctl enable httpd\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eweb#1\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ sudo echo \"\u0026lt;html\u0026gt;\u0026lt;body\u0026gt;web1 running ...\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;\" \u0026gt; /var/www/html/index.html \n$ curl localhost\n\u0026lt;html\u0026gt;\u0026lt;body\u0026gt;web1 running ...\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eweb#2\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ sudo echo \"\u0026lt;html\u0026gt;\u0026lt;body\u0026gt;web2 running ...\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;\" \u0026gt; /var/www/html/index.html \n$ curl localhost\n\u0026lt;html\u0026gt;\u0026lt;body\u0026gt;web2 running ...\u0026lt;/body\u0026gt;\u0026lt;/html\u0026gt;\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ロードバランス設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AD%E3%83%BC%E3%83%89%E3%83%90%E3%83%A9%E3%83%B3%E3%82%B9%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eロードバランス設定\u003c/h1\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"web1web2-に-nginx-のロードバランスできるように設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#web1web2-%E3%81%AB-nginx-%E3%81%AE%E3%83%AD%E3%83%BC%E3%83%89%E3%83%90%E3%83%A9%E3%83%B3%E3%82%B9%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%88%E3%81%86%E3%81%AB%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eweb#1/web#2 に nginx のロードバランスできるように設定\u003c/h2\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/etc/nginx/conf.d/server.conf\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003eupstream myapp1 {\n    server 192.168.33.100;\n    server 192.168.33.102;\n}\n\nserver {\n    listen       80;\n    location / {\n        set $do_not_cache 0;\n        proxy_pass http://myapp1;\n    }\n}\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003eちょっとはまりました。上記フォルダに default.conf があり server.conf を作成した場合に default.conf の設定を参照していてロードバランスの確認が出来なかったです。\u003c/strong\u003e\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003enginx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e$ sudo systemctl restart nginx\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"動作確認\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e動作確認\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"http://localhost:8080\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:8080\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h1\u003e\n\n\u003cp\u003e前回の \u003ca href=\"http://qiita.com/wankosob/items/3d4b7cff0306b382b68e\" id=\"reference-deaf96d89592034bb3d4\"\u003eFluentd ってどんなことができるのか試してみたかった（メモ+α）\u003c/a\u003eを活用して今後は apache のサーバログを使ってABテストの準備環境を作成したいと思います。\u003c/p\u003e\n","body":"# やってみたいこと\nnginx でロードバランスを行い、WEB#1/WEB#2 を起動して apache のログを fluend でログサーバへ転送してその内容をリアルタイムで確認して ABテスト環境のベースを作成したい。\n\n# 動機\nWEB#1/WEB#2 で冗長構成で運用されているサービスをいつも見かけるけど。その中で自分のリリースしたサービスが本当に価値のあるものあのかを確認できるようにすることで技術を提案できるのではとおもったから\n\n# 環境構築\n## いつもどおり Vagrant で仮想環境を構築\n```rb:Vagrantfile\n  config.vm.define \"nginx\" do |nginx|\n      nginx.vm.box = \"centos7\"\n      nginx.vm.network \"forwarded_port\", guest: 80, host: 8080\n      nginx.vm.network :private_network, ip: \"192.168.33.10\", virtualbox__intnet: \"intnet\"\n  end\n  config.vm.define \"web1\" do |web1|\n      web1.vm.box = \"centos7\"\n      #web1.vm.network :forwarded_port, id: \"ssh\", guest: 22, host: 2222\n      #web1.vm.network \"forwarded_port\", guest: 80, host: 8080\n      web1.vm.network :private_network, ip: \"192.168.33.100\", virtualbox__intnet: \"intnet\"\n  end\n  config.vm.define \"web2\" do |web2|\n      web2.vm.box = \"centos7\"\n      web2.vm.network \"forwarded_port\", guest: 80, host: 8082\n      web2.vm.network :private_network, ip: \"192.168.33.102\", virtualbox__intnet: \"intnet\"\n  end\n\n```\n# nginx インストール\nここの centos 用の設定を参照\n[https://www.nginx.com/resources/wiki/start/topics/tutorials/install/](https://www.nginx.com/resources/wiki/start/topics/tutorials/install/)\n\n```/etc/yum.repos.d/nginx.repo\n[nginx]\nname=nginx repo\nbaseurl=http://nginx.org/packages/centos/$releasever/$basearch/\ngpgcheck=0\nenabled=1\n```\n\n$ `sudo yum -y install nginx`\n$ `nginx -v`\n*今回インストールしたバージョンは`nginx version: nginx/1.12.0`でした*\n\n# nginx 起動\n```\n$ sudo systemctl start nginx\n$ sudo systemctl status nginx\nnginx.service - nginx - high performance web server\n   Loaded: loaded (/usr/lib/systemd/system/nginx.service; disabled)\n   Active: active (running) since 火 2017-05-16 14:02:29 UTC; 6s ago\n     Docs: http://nginx.org/en/docs/\n  Process: 21017 ExecStart=/usr/sbin/nginx -c /etc/nginx/nginx.conf (code=exited, status=0/SUCCESS)\n  Process: 21015 ExecStartPre=/usr/sbin/nginx -t -c /etc/nginx/nginx.conf (code=exited, status=0/SUCCESS)\n Main PID: 21019 (nginx)\n   CGroup: /system.slice/nginx.service\n           ├─21019 nginx: master process /usr/sbin/nginx -c /etc/nginx/nginx.conf\n           └─21020 nginx: worker process\n\n 5月 16 14:02:28 localhost.localdomain systemd[1]: Starting nginx - high performance web server...\n 5月 16 14:02:28 localhost.localdomain nginx[21015]: nginx: the configuration file /etc/nginx/nginx.conf... ok\n 5月 16 14:02:28 localhost.localdomain nginx[21015]: nginx: configuration file /etc/nginx/nginx.conf tes...ful\n 5月 16 14:02:28 localhost.localdomain systemd[1]: PID 20976 read from file /run/nginx.pid does not exist.\n 5月 16 14:02:29 localhost.localdomain systemd[1]: Started nginx - high performance web server.\nHint: Some lines were ellipsized, use -l to show in full.\n```\n# nginx 動作確認\n- [http://localhost:8080](http://localhost:8080)\n\n# apache インストール\n```:共通設定\n$ sudo systemctl stop firewalld\n$ sudo ssytemctl disable firewalld\n$ sudo yum install httpd\n$ sudo systemctl status httpd\n$ sudo systemctl start httpd\n$ sudo systemctl status httpd\n$ sudo systemctl enable httpd\n```\n```:web#1\n$ sudo echo \"\u003chtml\u003e\u003cbody\u003eweb1 running ...\u003c/body\u003e\u003c/html\u003e\" \u003e /var/www/html/index.html \n$ curl localhost\n\u003chtml\u003e\u003cbody\u003eweb1 running ...\u003c/body\u003e\u003c/html\u003e\n```\n```:web#2\n$ sudo echo \"\u003chtml\u003e\u003cbody\u003eweb2 running ...\u003c/body\u003e\u003c/html\u003e\" \u003e /var/www/html/index.html \n$ curl localhost\n\u003chtml\u003e\u003cbody\u003eweb2 running ...\u003c/body\u003e\u003c/html\u003e\n```\n\n# ロードバランス設定\n## web#1/web#2 に nginx のロードバランスできるように設定\n```:/etc/nginx/conf.d/server.conf\nupstream myapp1 {\n    server 192.168.33.100;\n    server 192.168.33.102;\n}\n\nserver {\n    listen       80;\n    location / {\n        set $do_not_cache 0;\n        proxy_pass http://myapp1;\n    }\n}\n```\n\n**ちょっとはまりました。上記フォルダに default.conf があり server.conf を作成した場合に default.conf の設定を参照していてロードバランスの確認が出来なかったです。**\n\n```:nginx\n$ sudo systemctl restart nginx\n```\n## 動作確認\n[http://localhost:8080](http://localhost:8080)\n\n# 最後に\n前回の [Fluentd ってどんなことができるのか試してみたかった（メモ+α）](http://qiita.com/wankosob/items/3d4b7cff0306b382b68e)を活用して今後は apache のサーバログを使ってABテストの準備環境を作成したいと思います。\n","coediting":false,"created_at":"2017-05-17T23:38:11+09:00","group":null,"id":"2959a0f8a659d21c37c8","private":false,"tags":[{"name":"nginx","versions":[]},{"name":"fluentd","versions":[]},{"name":"vagrant","versions":[]},{"name":"Apach","versions":[]}],"title":"ABテスト環境を構築する(その１)","updated_at":"2017-05-17T23:42:30+09:00","url":"http://qiita.com/wankosob/items/2959a0f8a659d21c37c8","user":{"description":null,"facebook_id":null,"followees_count":1,"followers_count":1,"github_login_name":null,"id":"wankosob","items_count":4,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":174596,"profile_image_url":"https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=50","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cp\u003econfirm on rails 5.0.3 \u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"http://stackoverflow.com/questions/35959490/rails-server-doesnt-see-code-changes-and-reload-files\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://stackoverflow.com/questions/35959490/rails-server-doesnt-see-code-changes-and-reload-files\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"http://stackoverflow.com/questions/28878832/rails-does-not-reload-controllers-helpers-on-each-request-in-freebsd-9-1\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://stackoverflow.com/questions/28878832/rails-does-not-reload-controllers-helpers-on-each-request-in-freebsd-9-1\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/rails/rails/issues/16678\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/rails/rails/issues/16678\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://github.com/burke/zeus/issues/388\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/burke/zeus/issues/388\u003c/a\u003e\u003c/p\u003e\n","body":"confirm on rails 5.0.3 \n\nhttp://stackoverflow.com/questions/35959490/rails-server-doesnt-see-code-changes-and-reload-files\n\nhttp://stackoverflow.com/questions/28878832/rails-does-not-reload-controllers-helpers-on-each-request-in-freebsd-9-1\n\nhttps://github.com/rails/rails/issues/16678\n\nhttps://github.com/burke/zeus/issues/388\n","coediting":false,"created_at":"2017-05-17T23:37:23+09:00","group":null,"id":"3ac6a068abf4158aedb5","private":false,"tags":[{"name":"Rails","versions":[]},{"name":"Linux","versions":[]},{"name":"vagrant","versions":[]}],"title":"rails does not reload on vagrant","updated_at":"2017-05-17T23:37:23+09:00","url":"http://qiita.com/chen7897499/items/3ac6a068abf4158aedb5","user":{"description":null,"facebook_id":null,"followees_count":8,"followers_count":3,"github_login_name":"chen7897499","id":"chen7897499","items_count":456,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":41165,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/41165/profile-images/1473688690","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\n\u003cp\u003e趣味でSwiftをもう一度書こうと思い、ブログを書きました。\u003cbr\u003e\nつまり、ブログの宣伝です。\u003c/p\u003e\n\n\u003cp\u003e※注意：\u003cbr\u003e\n私自身の勉強備忘ブログでもあります。\u003cbr\u003e\nそのため、表現等が誤っている可能性もあります。\u003cbr\u003e\nもしお気付きの場合はご指摘、ご鞭撻等を頂ければ幸いです。\u003cbr\u003e\nまた、質問等も受け付けておりますので、ご気軽にコメントいただけると幸いです。\u003cbr\u003e\n(ブログへのコメント欄、本記事でのコメント欄どちらでも構いません。)\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ブログ内容\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E5%86%85%E5%AE%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブログ内容\u003c/h1\u003e\n\n\u003cp\u003e今回は\u003cstrong\u003e「フローの制御に関して」\u003c/strong\u003eをテーマにしています。\u003cbr\u003e\n取り扱う内容は以下の通りです。\u003cbr\u003e\n○ \u003cstrong\u003e\u003ccode\u003eif文\u003c/code\u003e\u003c/strong\u003e\u003cbr\u003e\n○ \u003cstrong\u003e\u003ccode\u003eswitch文\u003c/code\u003e\u003c/strong\u003e\u003cbr\u003e\n○ \u003cstrong\u003e\u003ccode\u003efor-in文\u003c/code\u003e\u003c/strong\u003e\u003cbr\u003e\n○ \u003cstrong\u003e\u003ccode\u003ewhile文\u003c/code\u003e\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003e※注：「\u003cstrong\u003e\u003ccode\u003efor-in文\u003c/code\u003e\u003c/strong\u003e」と「\u003cstrong\u003e\u003ccode\u003ewhile文\u003c/code\u003e\u003c/strong\u003e」については記事は、\u003cbr\u003e\n今後追加する予定ではありますが、\u003cbr\u003e\n(2017.05.17現在)書かれていない状態です。\u003cbr\u003e\nご了承ください。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"ブログはこちら\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E3%81%AF%E3%81%93%E3%81%A1%E3%82%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブログはこちら\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\"https://provinsite.com/dev/?p=359\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSwiftをもう一度勉強してみた#2\u003c/a\u003e\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\"改定履歴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%94%B9%E5%AE%9A%E5%B1%A5%E6%AD%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e改定履歴\u003c/h1\u003e\n\n\u003cp\u003e-\u003c/p\u003e\n","body":"# はじめに\n趣味でSwiftをもう一度書こうと思い、ブログを書きました。\nつまり、ブログの宣伝です。\n\n※注意：\n私自身の勉強備忘ブログでもあります。\nそのため、表現等が誤っている可能性もあります。\nもしお気付きの場合はご指摘、ご鞭撻等を頂ければ幸いです。\nまた、質問等も受け付けておりますので、ご気軽にコメントいただけると幸いです。\n(ブログへのコメント欄、本記事でのコメント欄どちらでも構いません。)\n\n# ブログ内容\n今回は**「フローの制御に関して」**をテーマにしています。\n取り扱う内容は以下の通りです。\n○ **`if文`**\n○ **`switch文`**\n○ **`for-in文`**\n○ **`while文`**\n\n※注：「**`for-in文`**」と「**`while文`**」については記事は、\n今後追加する予定ではありますが、\n(2017.05.17現在)書かれていない状態です。\nご了承ください。\n\n# ブログはこちら\n[Swiftをもう一度勉強してみた#2](https://provinsite.com/dev/?p=359)\n\n# 改定履歴\n-\n","coediting":false,"created_at":"2017-05-17T23:27:35+09:00","group":null,"id":"f96e96acb29e0f925c82","private":false,"tags":[{"name":"Swift","versions":[]}],"title":"Swiftをもう一度勉強してみた#2","updated_at":"2017-05-17T23:27:35+09:00","url":"http://qiita.com/fantm21/items/f96e96acb29e0f925c82","user":{"description":"","facebook_id":"","followees_count":42,"followers_count":26,"github_login_name":"fantm21","id":"fantm21","items_count":66,"linkedin_id":"","location":"Tokyo, Japan","name":"","organization":"","permanent_id":32946,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/32946/profile-images/1490789470","twitter_screen_name":"FumiProgrammer","website_url":"https://provinsite.com/web/"}},{"rendered_body":"\u003cp\u003eRecyclerViewで使うItemTouchHelperは簡単にドラッグ\u0026amp;ドロップやスワイプを実装できます。\u003c/p\u003e\n\n\u003cp\u003eしかし、ドロッグ\u0026amp;ドロップでは内部的にリストデータの順番を変えることはできない？\u003cbr\u003e\nので、そのリストを保存しても次回起動時に元に戻ってしまう。\u003cbr\u003e\nそこで少しコード追加。\u003c/p\u003e\n\n\u003cp\u003eといっても単純。\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"java\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003e\u003cspan class=\"nd\"\u003e@Override\u003c/span\u003e\n\u003cspan class=\"kd\"\u003epublic\u003c/span\u003e \u003cspan class=\"kt\"\u003eboolean\u003c/span\u003e \u003cspan class=\"nf\"\u003eonMove\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eRecyclerView\u003c/span\u003e \u003cspan class=\"n\"\u003erecyclerView\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRecyclerView\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eViewHolder\u003c/span\u003e \u003cspan class=\"n\"\u003eviewHolder\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eRecyclerView\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eViewHolder\u003c/span\u003e \u003cspan class=\"n\"\u003etarget\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003efromPosition\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eviewHolder\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003egetAdapterPosition\u003c/span\u003e\u003cspan class=\"o\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003efinal\u003c/span\u003e \u003cspan class=\"kt\"\u003eint\u003c/span\u003e \u003cspan class=\"n\"\u003etoPosition\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003etarget\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003egetAdapterPosition\u003c/span\u003e\u003cspan class=\"o\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"n\"\u003erecyclerAdapter\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003enotifyItemMoved\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efromPosition\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etoPosition\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//追加ここから\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eString\u003c/span\u003e \u003cspan class=\"n\"\u003etemp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003earrayList\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eget\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efromPosition\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003earrayList\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eremove\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003efromPosition\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"n\"\u003earrayList\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"na\"\u003eadd\u003c/span\u003e\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etoPosition\u003c/span\u003e\u003cspan class=\"o\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etemp\u003c/span\u003e\u003cspan class=\"o\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e//ここまで\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"o\"\u003e;\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e消してから追加するのがポイント。\u003c/p\u003e\n","body":"RecyclerViewで使うItemTouchHelperは簡単にドラッグ\u0026ドロップやスワイプを実装できます。\n\nしかし、ドロッグ\u0026ドロップでは内部的にリストデータの順番を変えることはできない？\nので、そのリストを保存しても次回起動時に元に戻ってしまう。\nそこで少しコード追加。\n\nといっても単純。\n\n```java\n@Override\npublic boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target)\n{\n    final int fromPosition = viewHolder.getAdapterPosition();\n    final int toPosition = target.getAdapterPosition();\n    recyclerAdapter.notifyItemMoved(fromPosition, toPosition);\n    //追加ここから\n    String temp = arrayList.get(fromPosition);\n    arrayList.remove(fromPosition);\n    arrayList.add(toPosition, temp);\n    //ここまで\n    return true;\n}\n\n```\n\n消してから追加するのがポイント。\n","coediting":false,"created_at":"2017-05-17T23:22:18+09:00","group":null,"id":"cb12dffb7095b8f64c4a","private":false,"tags":[{"name":"Java","versions":[]},{"name":"Android","versions":[]}],"title":"ItemTouchHelperのドラッグ\u0026ドロップでArrayListも並び替える","updated_at":"2017-05-17T23:22:18+09:00","url":"http://qiita.com/hisurga/items/cb12dffb7095b8f64c4a","user":{"description":"営業マン","facebook_id":"","followees_count":0,"followers_count":0,"github_login_name":"hisurga","id":"hisurga","items_count":3,"linkedin_id":"","location":"","name":"","organization":"","permanent_id":181869,"profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/181869/profile-images/1494948654","twitter_screen_name":"hisurga","website_url":"http://blog.hisurga.com"}},{"rendered_body":"\n\u003ch1\u003e\n\u003cspan id=\"gcegoogle-compute-engineのvmインスタンスのアカウントスコープを後から変更する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gcegoogle-compute-engine%E3%81%AEvm%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E3%82%92%E5%BE%8C%E3%81%8B%E3%82%89%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGCE(Google Compute Engine)のVMインスタンスのアカウントスコープを後から変更する\u003c/h1\u003e\n\n\u003cp\u003eGCEのVMインスタンスでアカウントスコープを途中で変更したい場合、少し工夫する必要があったのでメモ。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"アクセス-スコープとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9-%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアクセス スコープとは\u003c/h2\u003e\n\n\u003cp\u003eそれぞれのGoogle Cloud Platform上のサービスのAPIに対して、インスタンスがアクセスを許可されている範囲のこと。\u003cbr\u003e\nGoogle Cloud Platform上の各サービスのAPIに対して、インスタンスがアクセス可能かどうかを「有効」/「無効」で表している。\u003cbr\u003e\nこれが有効のサービスのみ、インスタンスはそのサービスのAPIにアクセスすることができる。\u003cbr\u003e\n\u003ca href=\"https://cloud.google.com/compute/docs/access/service-accounts?hl=ja\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/compute/docs/access/service-accounts?hl=ja\u003c/a\u003e\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"アクセススコープを変更する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアクセススコープを変更する\u003c/h2\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"アクセススコープを変更するには\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B%E3%81%AB%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアクセススコープを変更するには\u003c/h3\u003e\n\n\u003cp\u003eここからが本記事の本題だが、アクセススコープは、インスタンスの作成時か、インスタンスをシャットダウンしている状態でしか編集できないようだ。\u003c/p\u003e\n\n\u003cp\u003eそのため、「そのインスタンスで当初BigQueryのAPIを使う予定がなかったので、アクセススコープは、『無効』にしたが、後にやっぱりBigQueryのAPIを使いたくなったので、アクセススコープを『有効』にしたい」\u003cbr\u003e\nという場合は、前述したが以下の2つの方法しかない。(他にあったら教えてください…)\u003cbr\u003e\n1.  インスタンスを作成し直す\u003cbr\u003e\n2. インスタンスをシャットダウンして変更する                                                                                   \u003c/p\u003e\n\n\u003cp\u003e自分は当初それを知らなかったため、VMインスタンスのコンソール画面で何回編集を押してもアクセススコープが変更できなくて、泣きそうになりました。\u003c/p\u003e\n\n\u003cp\u003e今回は、「2.インスタンスをシャットダウンして変更する」を行い、アクセススコープを変更する。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"アクセススコープを変更するための手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%97%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアクセススコープを変更するための手順\u003c/h3\u003e\n\n\u003cp\u003eアクセススコープを変更するためには以下の手順が必要\u003cbr\u003e\n1. アクセススコープを変更したいVMインスタンスをシャットダウンする\u003cbr\u003e\n2. gcloudコマンドで、アクセス権を変更する\u003cbr\u003e\n3. インスタンスを再起動する\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"実際にやってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実際にやってみる\u003c/h3\u003e\n\n\u003cp\u003e1.アクセススコープを変更したいVMインスタンスをシャットダウンする\u003cbr\u003e\n以下の公式ドキュメントを参考にVMインスタンスをシャットダウンする\u003cbr\u003e\n\u003ca href=\"https://cloud.google.com/compute/docs/instances/stopping-or-deleting-an-instance\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/compute/docs/instances/stopping-or-deleting-an-instance\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e2.以下のcloudコマンドで、アクセス権を変更する\u003c/p\u003e\n\n\u003cdiv class=\"code-frame\" data-lang=\"text\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003cspan\u003e\u003c/span\u003egcloud beta compute instances set-scopes projects/プロジェクト名/zones/ゾーン/instances/インスタンス名  --service-account サービスアカウントのメール \u0026lt;—no-scopes(無効にしたい場合) か --scopes(有効にしたい場合)\u0026gt;  変更するスコープ\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003e「変更するスコープ」は、以下の一覧にあるurlかエイリアスを使用する\u003cbr\u003e\n\u003ca href=\"https://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/set-scopes\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/set-scopes\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e3インスタンスを再起動する\u003cbr\u003e\n\u003ca href=\"https://cloud.google.com/compute/docs/instances/restarting-an-instance#restarting_a_stopped_instance\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/compute/docs/instances/restarting-an-instance#restarting_a_stopped_instance\u003c/a\u003e\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\"実際にやってみた\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実際にやってみた\u003c/h3\u003e\n\n\u003cp\u003e実際にインスタンス作成時には「無効」であったBigqueryのアクセススコープを「有効」に変更する。\u003c/p\u003e\n\n\u003cp\u003e「1. アクセススコープを変更したいVMインスタンスをシャットダウンする」と「3. インスタンスを再起動する」は、省略\u003c/p\u003e\n\n\u003cp\u003egcloudを実行\u003cbr\u003e\n\u003ccode\u003e\u003cbr\u003e\ngcloud beta compute instances set-scopes projects/プロジェクト名/zones/ゾーン/instances/インスタンス名  --service-account サービスアカウントのメール --scopes https://www.googleapis.com/auth/bigquery\u003cbr\u003e\n\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003e結果\u003cbr\u003e\nVMインスタンスのコンソールの「Cloud APIアクセス範囲」のBigQueryが「無効」から「有効」になった。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\"参考にさせていただいたサイト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考にさせていただいたサイト\u003c/h2\u003e\n\n\u003cp\u003e\u003ca href=\"https://cloud.google.com/compute/docs/access/service-accounts?hl=ja\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/compute/docs/access/service-accounts?hl=ja\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://cloud.google.com/compute/docs/instances/stopping-or-deleting-an-instance\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/compute/docs/instances/stopping-or-deleting-an-instance\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/set-scopes\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/set-scopes\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://cloud.google.com/compute/docs/instances/restarting-an-instance#restarting_a_stopped_instance\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://cloud.google.com/compute/docs/instances/restarting-an-instance#restarting_a_stopped_instance\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"http://stackoverflow.com/questions/31855049/how-to-change-the-scope-of-compute-engine-service-account-to-write-data-on-googl\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://stackoverflow.com/questions/31855049/how-to-change-the-scope-of-compute-engine-service-account-to-write-data-on-googl\u003c/a\u003e\u003c/p\u003e\n","body":"# GCE(Google Compute Engine)のVMインスタンスのアカウントスコープを後から変更する\nGCEのVMインスタンスでアカウントスコープを途中で変更したい場合、少し工夫する必要があったのでメモ。\n\n## アクセス スコープとは\nそれぞれのGoogle Cloud Platform上のサービスのAPIに対して、インスタンスがアクセスを許可されている範囲のこと。\nGoogle Cloud Platform上の各サービスのAPIに対して、インスタンスがアクセス可能かどうかを「有効」/「無効」で表している。\nこれが有効のサービスのみ、インスタンスはそのサービスのAPIにアクセスすることができる。\nhttps://cloud.google.com/compute/docs/access/service-accounts?hl=ja\n\n## アクセススコープを変更する\n\n### アクセススコープを変更するには\nここからが本記事の本題だが、アクセススコープは、インスタンスの作成時か、インスタンスをシャットダウンしている状態でしか編集できないようだ。\n\nそのため、「そのインスタンスで当初BigQueryのAPIを使う予定がなかったので、アクセススコープは、『無効』にしたが、後にやっぱりBigQueryのAPIを使いたくなったので、アクセススコープを『有効』にしたい」\nという場合は、前述したが以下の2つの方法しかない。(他にあったら教えてください…)\n1.  インスタンスを作成し直す\n2. インスタンスをシャットダウンして変更する                                                                                   \n\n自分は当初それを知らなかったため、VMインスタンスのコンソール画面で何回編集を押してもアクセススコープが変更できなくて、泣きそうになりました。\n\n今回は、「2.インスタンスをシャットダウンして変更する」を行い、アクセススコープを変更する。\n\n### アクセススコープを変更するための手順\n\nアクセススコープを変更するためには以下の手順が必要\n1. アクセススコープを変更したいVMインスタンスをシャットダウンする\n2. gcloudコマンドで、アクセス権を変更する\n3. インスタンスを再起動する\n\n### 実際にやってみる\n1.アクセススコープを変更したいVMインスタンスをシャットダウンする\n以下の公式ドキュメントを参考にVMインスタンスをシャットダウンする\nhttps://cloud.google.com/compute/docs/instances/stopping-or-deleting-an-instance\n\n2.以下のcloudコマンドで、アクセス権を変更する\n\n```\ngcloud beta compute instances set-scopes projects/プロジェクト名/zones/ゾーン/instances/インスタンス名  --service-account サービスアカウントのメール \u003c—no-scopes(無効にしたい場合) か --scopes(有効にしたい場合)\u003e  変更するスコープ\n```\n\n「変更するスコープ」は、以下の一覧にあるurlかエイリアスを使用する\nhttps://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/set-scopes\n\n3インスタンスを再起動する\nhttps://cloud.google.com/compute/docs/instances/restarting-an-instance#restarting_a_stopped_instance\n\n\n### 実際にやってみた\n実際にインスタンス作成時には「無効」であったBigqueryのアクセススコープを「有効」に変更する。\n\n「1. アクセススコープを変更したいVMインスタンスをシャットダウンする」と「3. インスタンスを再起動する」は、省略\n\ngcloudを実行\n```\ngcloud beta compute instances set-scopes projects/プロジェクト名/zones/ゾーン/instances/インスタンス名  --service-account サービスアカウントのメール --scopes https://www.googleapis.com/auth/bigquery\n```\n\n結果\nVMインスタンスのコンソールの「Cloud APIアクセス範囲」のBigQueryが「無効」から「有効」になった。\n\n## 参考にさせていただいたサイト\n\n\nhttps://cloud.google.com/compute/docs/access/service-accounts?hl=ja\n\nhttps://cloud.google.com/compute/docs/instances/stopping-or-deleting-an-instance\n\nhttps://cloud.google.com/sdk/gcloud/reference/beta/compute/instances/set-scopes\n\nhttps://cloud.google.com/compute/docs/instances/restarting-an-instance#restarting_a_stopped_instance\n\nhttp://stackoverflow.com/questions/31855049/how-to-change-the-scope-of-compute-engine-service-account-to-write-data-on-googl\n","coediting":false,"created_at":"2017-05-17T23:07:35+09:00","group":null,"id":"e1ae602a1a2a4edb17df","private":false,"tags":[{"name":"googlecomputeengine","versions":[]},{"name":"GoogleCloudPlatform","versions":[]},{"name":"gcloud","versions":[]},{"name":"gce","versions":[]},{"name":"gcp","versions":[]}],"title":"GCE(Google Compute Engine)のVMインスタンスのアカウントスコープを後から変更する","updated_at":"2017-05-17T23:17:19+09:00","url":"http://qiita.com/Sekky0905/items/e1ae602a1a2a4edb17df","user":{"description":null,"facebook_id":null,"followees_count":0,"followers_count":13,"github_login_name":"SekiguchiKai","id":"Sekky0905","items_count":26,"linkedin_id":null,"location":null,"name":"","organization":null,"permanent_id":145611,"profile_image_url":"https://avatars.githubusercontent.com/u/20237968?v=3","twitter_screen_name":null,"website_url":null}},{"rendered_body":"\u003cp\u003eNode.js can be use frontend as well as backend for coding purpose in web app development. IT firms prefer expert level knowledge, huge experience and advanced vision for coding in Node.js programming.\u003cbr\u003e\n\u003ca href=\"https://semidotinfotech.com/blog/nodejs-web-app-development/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://semidotinfotech.com/blog/nodejs-web-app-development/\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita-image-store.s3.amazonaws.com/0/167006/c31d2e9e-aa1e-9ecf-33d4-5ecd37fb2c43.jpeg\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-image-store.s3.amazonaws.com/0/167006/c31d2e9e-aa1e-9ecf-33d4-5ecd37fb2c43.jpeg\" alt=\"Express-Web-App-Development-Skills-with-Node.jpg\"\u003e\u003c/a\u003e\u003c/p\u003e\n","body":"Node.js can be use frontend as well as backend for coding purpose in web app development. IT firms prefer expert level knowledge, huge experience and advanced vision for coding in Node.js programming.\nhttps://semidotinfotech.com/blog/nodejs-web-app-development/\n![Express-Web-App-Development-Skills-with-Node.jpg](https://qiita-image-store.s3.amazonaws.com/0/167006/c31d2e9e-aa1e-9ecf-33d4-5ecd37fb2c43.jpeg)\n","coediting":false,"created_at":"2017-05-17T23:02:49+09:00","group":null,"id":"d0595d1820bbe7e9bec7","private":false,"tags":[{"name":"Mobile","versions":[]},{"name":"development","versions":[]},{"name":"Web","versions":[]},{"name":"nodejs","versions":[]},{"name":"application,","versions":[]}],"title":"Nodejs Web Application Development in Australia","updated_at":"2017-05-17T23:02:49+09:00","url":"http://qiita.com/semidot/items/d0595d1820bbe7e9bec7","user":{"description":"Rohan Singh is a versatile techy who has vast experience in wide array of technologies and is the Tech Director and CTO of the company. He oversees all the tech side of Semidot.","facebook_id":"semidotinfo","followees_count":0,"followers_count":0,"github_login_name":"semidot","id":"semidot","items_count":2,"linkedin_id":"company/semidot-infotech-pvt-ltd","location":"Boulder","name":"Rohan Singh","organization":"SemiDot InfoTech","permanent_id":167006,"profile_image_url":"https://lh4.googleusercontent.com/-lhBa0Bm6XOg/AAAAAAAAAAI/AAAAAAAAAB4/T7lT8Pk1UlM/photo.jpg?sz=50","twitter_screen_name":"DotSemi","website_url":"https://semidotinfotech.com"}}]